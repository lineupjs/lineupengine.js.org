!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.lineupengine=e():t.lineupengine=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=21)}([function(t,e,i){"use strict";e.e=function(t,e,i){void 0===i&&(i=0);return{exceptions:[],exceptionsLookup:{keys:function(){return[].values()},get:function(){return e},has:function(){return!1},size:0},totalHeight:t*(e+=i),numberOfRows:t,defaultRowHeight:e,padding:function(){return i}}},e.b=o,e.c=function(t,e,i,n,r,s){void 0===i&&(i=2);void 0===n&&(n=10*e);void 0===r&&(r=.2);void 0===s&&(s=Date.now());var a=s,l=function(){var t=1e4*Math.sin(a++);return t-Math.floor(t)},c=function(){var t=l();return t<r?i+Math.round(l()*(n-i)):e};return o({forEach:function(e){for(var i=0;i<t;++i)e(c(),i)}},e)},e.d=function(t,e,i,n,o){if(0===o)return{first:0,last:-1,firstRowPos:0,endPos:0};if(1===o)return{first:0,last:0,firstRowPos:0,endPos:0===n.length?i:n[0].y2};var r=t,s=r+e;function a(t,e){return Math.min(o-1,e+Math.max(0,Math.floor(t/i)))}function l(t,e,n){void 0===n&&(n=!1);var l=r-t,c=s-t,h=a(l,e),d=a(c,e),u=t+(h-e)*i,f=t+(d+1-e)*i;return console.assert(!n||!(u>r||f<s&&d<o-1),"error",n,u,f,r,s,e,t),{first:h,last:d,firstRowPos:u,endPos:f}}var c=l(0,0,!0);if(0===n.length)return c;if(c.last<n[0].index)return c;if(c.last===n[0].index&&n[0].height>i)return Object.assign(c,{endPos:n[0].y2});var h=n[n.length-1];if(r>=h.y){var d=l(h.y2,h.index+1);return r<h.y2?Object.assign(d,{first:h.index,firstRowPos:h.y}):d}for(var u=[],f=n[0],p=0,y=n;p<y.length;p++){var v=y[p],m=v.y,b=v.y2;if(m>=s)break;b<=r?f=v:u.push(v)}if(0===u.length)return l(f.y2,f.index+1);var g=u[0],x=u[u.length-1],w=Math.max(0,g.index-Math.max(0,Math.ceil((g.y-r)/i))),C=x.index;s>=x.y2&&(C=a(s-x.y2,x.index+1));var R=g.y-(g.index-w)*i,O=x.y2+(C-x.index)*i;return console.assert(R<=r&&(O>=s||C===o-1),"error",R,O,r,s,g,x),{first:w,last:C,firstRowPos:R,endPos:O}},e.a=function(t,e){var i=t.length,n=e.length;if(0===i)return{added:e,removed:[],common:0};if(0===n)return{added:[],removed:t,common:0};if(i===n)return{added:[],removed:[],common:i};var o=t.slice(Math.min(n,i));return{added:e.slice(Math.min(n,i)),removed:o,common:i-o.length}},e.f=function(t,e,i){for(var n=0===t.length?0:t[t.length-1]+1,o=[],r=[],s=t.length-1;s>=0;--s){var a=t[s];if(!(a>=i))break;r.push(t.pop())}for(var s=n;s<i;++s)e[s].frozen&&(o.push(s),t.push(s));return{target:t,added:o,removed:r}};var n=function(){function t(t,e,i){this.index=t,this.y=e,this.height=i}return Object.defineProperty(t.prototype,"y2",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),t}();function o(t,e,i){void 0===e&&(e=NaN),void 0===i&&(i=0);var o=new Map,r=[],s="function"==typeof i?i:function(){return i};isNaN(e)&&(e=function(t){var e=new Map;if(t.forEach(function(t){e.set(t,(e.get(t)||0)+1)}),0===e.size)return 20;var i=Array.from(e).sort(function(t,e){return t[1]!==e[1]?e[1]-t[1]:t[0]-e[0]}),n=i[0][0];return 0===n?i.length>1?i[1][0]:20:n}(t)),e+=s(-1);var a=-1,l=0,c=0,h=0;return t.forEach(function(t,i){if(t+=s(i),c+=t,h++,t!==e){o.set(i,t);var d=(i-a-1)*e;a=i;var u=l+d;l=u+t,r.push(new n(i,u,t))}}),{exceptionsLookup:o,exceptions:r,totalHeight:c,defaultRowHeight:e,numberOfRows:h,padding:s}}},function(t,e,i){"use strict";var n=i(7);i.d(e,"a",function(){return n.a});var o=i(14);i.d(e,"b",function(){return o.a})},function(t,e,i){"use strict";e.a=function(t,e){n(t,e);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)};var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};Object.assign},function(t,e,i){"use strict";i.d(e,"a",function(){return l});var n=i(5),o=i(13),r=i(6),s=i(0),a=i(1),l=function(){function t(t,e){void 0===e&&(e={});var i=this;this.body=t,this.pool=[],this.loadingPool=[],this.loading=new Map,this.visible={first:0,forcedFirst:0,last:-1,forcedLast:-1},this.visibleFirstRowPos=0,this.abortAnimation=function(){},this.options={async:Boolean(window.chrome)?"animation":"immediate",minScrollDelta:3,mixins:[],scrollingHint:!1},this.adapter=this.createAdapter(),Object.assign(this.options,e),this.mixins=this.options.mixins.map(function(t){return new t(i.adapter)}),this.fragment=t.ownerDocument.createDocumentFragment()}return t.prototype.addMixin=function(t,e){this.mixins.push(new t(this.adapter,e))},t.prototype.createAdapter=function(){var t=this,e={visible:this.visible,addAtBeginning:this.addAtBeginning.bind(this),addAtBottom:this.addAtBottom.bind(this),removeFromBeginning:this.removeFromBeginning.bind(this),removeFromBottom:this.removeFromBottom.bind(this),updateOffset:this.updateOffset.bind(this),scroller:this.bodyScroller};return Object.defineProperties(e,{visibleFirstRowPos:{get:function(){return t.visibleFirstRowPos},enumerable:!0},context:{get:function(){return t.context},enumerable:!0}}),e},Object.defineProperty(t.prototype,"bodyScroller",{get:function(){return this.body.parentElement},enumerable:!0,configurable:!0}),t.prototype.init=function(){var t=this,e=this.bodyScroller,i=e.scrollTop,n=e.clientHeight;this.scrollListener=this.createDelayedHandler(function(){var o=e.scrollTop,r=e.clientHeight;if(!(Math.abs(i-o)<t.options.minScrollDelta&&Math.abs(n-r)<t.options.minScrollDelta)){var s=o>i;i=o,n=r,t.onScrolledVertically(o,r,s),t.options.scrollingHint&&e.classList.remove("le-scrolling")}},function(){t.options.scrollingHint&&e.classList.add("le-scrolling")}),e.addEventListener("scroll",this.scrollListener),this.recreate()},t.prototype.createDelayedHandler=function(t,e){var i,n=this,o="function"==typeof window.setImmediate;i="immediate"===this.options.async&&o?setImmediate:"animation"===this.options.async||"immediate"===this.options.async?requestAnimationFrame:"number"==typeof this.options.async?function(t){return self.setTimeout(t,n.options.async)}:function(t){return t(),-1};var r=-1,s=function(){r=-1,t()};return function(){e&&e(),r>-1||(r=i(s))}},t.prototype.destroy=function(){this.bodyScroller.removeEventListener("scroll",this.scrollListener),this.body.remove()},t.cleanUp=function(t){t.style.height&&(t.style.height=null)},t.prototype.select=function(t){var e,i;return this.pool.length>0?(e=this.pool.pop(),i=this.updateRow(e,t)):this.loadingPool.length>0?((e=this.loadingPool.pop()).classList.remove("loading"),i=this.createRow(e,t)):(e=this.body.ownerDocument.createElement("div"),i=this.createRow(e,t)),e.dataset.index=String(t),{item:e,result:i}},t.prototype.selectProxy=function(){var t;return this.loadingPool.length>0?t=this.loadingPool.pop():(t=this.body.ownerDocument.createElement("div")).classList.add("loading"),t},t.prototype.recycle=function(e){if(t.cleanUp(e),this.loading.has(e)){this.loading.get(e).abort()}else this.pool.push(e)},t.prototype.proxy=function(e,i){var o=this;if(!Object(n.b)(i))return e;var r=i,s=e,a=this.selectProxy();return a.dataset.index=s.dataset.index,a.style.height=s.style.height,this.loading.set(a,r),r.then(function(e){e===n.a?(t.cleanUp(s),o.pool.push(s)):o.body.replaceChild(s,a),o.loading.delete(a),t.cleanUp(a),o.loadingPool.push(a)}),a},t.prototype.create=function(t){var e=this.select(t),i=e.item,n=e.result,o=this.context,r=o.exceptionsLookup,s=o.padding;return r.has(t)&&(i.style.height=r.get(t)-s(t)+"px"),this.proxy(i,n)},t.prototype.removeAll=function(){var t=this,e=Array.from(this.body.children);this.body.innerHTML="",e.forEach(function(e){t.recycle(e)})},t.prototype.update=function(){var t=this,e=this.visible.first,i=this.fragment,n=Array.from(this.body.children);this.body.innerHTML="",n.forEach(function(n,o){if(!t.loading.has(n)){var r=t.updateRow(n,o+e);i.appendChild(t.proxy(n,r))}}),this.body.appendChild(i)},t.prototype.forEachRow=function(t,e){var i=this;void 0===e&&(e=!1);var n=Array.from(this.body.children),o=this.fragment;e||(this.body.innerHTML=""),n.forEach(function(n,r){n.classList.contains("loading")||"update_remove"===n.dataset.animation||"hide"===n.dataset.animation||t(n,r+i.visible.first),e||o.appendChild(n)}),e||this.body.appendChild(o)},t.prototype.removeFromBeginning=function(t,e){return this.remove(t,e,!0)},t.prototype.removeFromBottom=function(t,e){return this.remove(t,e,!1)},t.prototype.remove=function(t,e,i){for(var n=t;n<=e;++n){var o=i?this.body.firstChild:this.body.lastChild;o.remove(),this.recycle(o)}},t.prototype.addAtBeginning=function(t,e){if(t!==e){for(var i=this.fragment,n=t;n<=e;++n)i.appendChild(this.create(n));this.body.insertBefore(i,this.body.firstChild)}else this.body.insertBefore(this.create(t),this.body.firstChild)},t.prototype.addAtBottom=function(t,e){if(t!==e){for(var i=this.fragment,n=t;n<=e;++n)i.appendChild(this.create(n));this.body.appendChild(i)}else this.body.appendChild(this.create(t))},t.prototype.updateOffset=function(t){var e=this.context.totalHeight;this.visibleFirstRowPos=t,this.body.classList.toggle("odd",this.visible.first%2==1),this.body.style.transform="translate(0, "+t.toFixed(0)+"px)",this.body.style.height=Math.max(1,e-t).toFixed(0)+"px"},t.prototype.recreate=function(t){return this.abortAnimation(),t?this.recreateAnimated(t):this.recreatePure()},t.prototype.recreatePure=function(){var t=this.context,e=this.bodyScroller;this.updateOffset(0),this.removeAll(),this.clearPool();var i=Object(s.d)(e.scrollTop,e.clientHeight,t.defaultRowHeight,t.exceptions,t.numberOfRows),n=i.first,o=i.last,r=i.firstRowPos;this.visible.first=this.visible.forcedFirst=n,this.visible.last=this.visible.forcedLast=o,n<0?this.updateOffset(0):(this.addAtBottom(n,o),this.updateOffset(r))},t.prototype.recreateAnimated=function(t){var e=this,i=new Map,n=new r.a(t.previous,t.previousKey),a=new r.a(this.context,t.currentKey),l=Object(s.d)(this.bodyScroller.scrollTop,this.bodyScroller.clientHeight,a.context.defaultRowHeight,a.context.exceptions,a.context.numberOfRows),c=Array.from(this.body.children),h=Object.assign({},this.visible);n.positions(h.first,Math.min(h.last,h.first+c.length),this.visibleFirstRowPos,function(t,e,n){var o=c[t];o&&i.set(e,{n:o,pos:n,i:t})}),this.body.innerHTML="",this.visible.first=this.visible.forcedFirst=l.first,this.visible.last=this.visible.forcedLast=l.last;var d=this.fragment,u=[],f=l.firstRowPos;a.positions(l.first,l.last,l.firstRowPos,function(t,r,s){var l,c,h=o.a.UPDATE;if(i.has(r)){var p=i.get(r);i.delete(r),p.n.dataset.index=String(t),l=e.proxy(p.n,e.updateRow(p.n,t)),c={index:p.i,y:p.pos,height:n.exceptionHeightOf(p.i,!0)}}else{var y=n.posByKey(r);l=e.create(t),h=y.index<0?o.a.SHOW:o.a.UPDATE_CREATE,c={index:y.index,y:y.pos>=0?y.pos:s,height:y.index<0?a.exceptionHeightOf(t,!0):n.exceptionHeightOf(y.index,!0)}}u.push({node:l,key:r,mode:h,previous:c,nodeY:f,nodeYCurrentHeight:s,current:{index:t,y:s,height:a.exceptionHeightOf(t)}}),l.style.transform="translate(0, "+(f-s)+"px)",f+=c.height+(c.index<0?a.padding(t):n.padding(c.index)),d.appendChild(l)});var p=l.endPos;i.forEach(function(t,e){var i=a.posByKey(e),r=i.pos>=0?i.pos:t.pos,s=t.n;s.style.transform="translate(0, "+(t.pos-f)+"px)",d.appendChild(s);var l=n.exceptionHeightOf(t.i,!0);u.push({node:t.n,key:e,mode:i.index<0?o.a.HIDE:o.a.UPDATE_REMOVE,previous:{index:t.i,y:t.pos,height:l},nodeY:f,nodeYCurrentHeight:p,current:{index:i.index,y:r,height:i.index<0?null:a.exceptionHeightOf(i.index)}}),p+=i.index<0?a.context.defaultRowHeight:a.exceptionHeightOf(i.index,!0)+a.padding(i.index),f+=l+n.padding(t.i)}),this.updateOffset(l.firstRowPos),this.animate(u,t.phases||o.b,n,a,d)},t.prototype.animate=function(t,e,i,n,r){var s=this;if(t.length<=0)this.body.appendChild(r);else{for(var a=-1,l=0,c=function(e,o){void 0===o&&(o=t),o.forEach(function(t){return e.apply(t,i,n)})},h=function(){if(console.assert(t[0].node.offsetTop>=0,"dummy log for forcing dom update"),c(e[l++]),l<e.length){var i=e[l];a=setTimeout(h,i.delay)}else{var n=s.body.classList;Array.from(n).forEach(function(t){t.startsWith("le-")&&t.endsWith("-animation")&&n.remove(t)}),t.forEach(function(t){var e=t.node,i=t.mode;i!==o.a.UPDATE_REMOVE&&i!==o.a.HIDE||(e.remove(),e.style.transform=null,s.recycle(e))}),s.abortAnimation=function(){},a=-1}};0===e[l].delay;)c(e[l++]);var d=this.body;this.body.appendChild(r);var u=[];t=t.filter(function(t){return!Object(o.c)(t,i.context.defaultRowHeight,n.context.defaultRowHeight)||(u.push(t),!1)}),u.length>0&&e.slice(l).forEach(function(t){return c(t,u)}),0!==t.length&&(d.classList.add("le-row-animation"),new Set(t.map(function(t){return t.mode})).forEach(function(t){d.classList.add("le-"+o.a[t].toLowerCase().split("_")[0]+"-animation")}),this.abortAnimation=function(){a<=0||(clearTimeout(a),a=-1,l=e.length-1,h())},a=setTimeout(h,e[l].delay))}},t.prototype.clearPool=function(){this.pool.splice(0,this.pool.length)},t.prototype.revalidate=function(){var t=this.bodyScroller;this.onScrolledVertically(t.scrollTop,t.clientHeight,!0),this.updateOffset(this.visibleFirstRowPos)},t.prototype.onScrolledVertically=function(t,e,i){var n=this.onScrolledImpl(t,e);return this.mixins.forEach(function(t){return t.onScrolled(i,n)}),n},t.prototype.onScrolledImpl=function(t,e){var i=this.context,n=Object(s.d)(t,e,i.defaultRowHeight,i.exceptions,i.numberOfRows),o=n.first,r=n.last,l=n.firstRowPos,c=this.visible;if(c.forcedFirst=o,c.forcedLast=r,o-c.first>=0&&r-c.last<=0)return a.a.NONE;var h=a.a.PARTIAL;return o>c.last||r<c.first?(this.removeAll(),this.addAtBottom(o,r),h=a.a.ALL):o<c.first?(this.removeFromBottom(r+1,c.last),this.addAtBeginning(o,c.first-1)):(this.removeFromBeginning(c.first,o-1),this.addAtBottom(c.last+1,r)),c.first=o,c.last=r,this.updateOffset(l),h},t}();e.b=l},function(t,e,i){"use strict";var n=i(8);i.d(e,"a",function(){return n.b}),i.d(e,"d",function(){return n.c}),i.d(e,"c",function(){return n.a}),i.d(e,"e",function(){return n.d});var o=i(9);i.d(e,"b",function(){return o.a})},function(t,e,i){"use strict";i.d(e,"a",function(){return n}),e.b=function(t){return void 0!==t&&null!==t&&t&&"function"==typeof t.then&&"function"==typeof t.abort};var n=Symbol("aborted")},function(t,e,i){"use strict";var n=function(){function t(t,e){var i=this;this.context=t,this.key=e,this.cache=[],this.lastFilled=0,this.key2index=new Map,this.context.exceptions.forEach(function(t){i.cache[t.index]=t.y,i.key2index.set(e(t.index),t.index)})}return t.prototype.findValidStart=function(t){for(var e=t-1;e>=0;--e)if(void 0!==this.cache[e])return e;return-1},t.prototype.posByKey=function(t){if(this.key2index.has(t)){var e=this.key2index.get(t);return{index:e,pos:this.pos(e)}}return this.fillCacheTillKey(t)},t.prototype.pos=function(t){if(0===this.context.exceptions.length)return t*this.context.defaultRowHeight;var e=this.cache[t];if(void 0!==e)return e;var i=this.findValidStart(t);return i<0?this.fillCache(0,t,0):this.fillCache(i+1,t,this.cache[i]+this.heightOf(i)),this.cache[t]},t.prototype.fillCache=function(t,e,i,n){if(e<=this.lastFilled){if(!n)return;for(var o=t;o<=e;++o)n(o,this.key(o),this.cache[o])}else{var r=i;for(o=t;o<=e;++o){this.cache[o]=r;var s=this.key(o);this.key2index.set(s,o),n&&n(o,s,r),r+=this.heightOf(o)}}},t.prototype.heightOf=function(t){var e=this.context.exceptionsLookup;return e.has(t)?e.get(t):this.context.defaultRowHeight},t.prototype.exceptionHeightOf=function(t,e){void 0===e&&(e=!1);var i=this.context.padding(t),n=this.context.exceptionsLookup;return n.has(t)?n.get(t)-i:e?this.context.defaultRowHeight-i:null},t.prototype.padding=function(t){return this.context.padding(t)},t.prototype.fillCacheTillKey=function(t){for(var e=0,i=this.lastFilled;i<this.context.numberOfRows;++i,++this.lastFilled){var n=this.cache[i];if(void 0===n){var o=this.key(i);if(this.cache[i]=e,this.key2index.set(o,i),o===t)return{index:i,pos:e};e+=this.heightOf(i)}else e=n+this.heightOf(i)}return{index:-1,pos:-1}},t.prototype.positions=function(t,e,i,n){this.fillCache(t,e,i,n)},t}();e.a=n},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n;(o=n||(n={}))[o.NONE=0]="NONE",o[o.ALL=1]="ALL",o[o.PARTIAL=2]="PARTIAL";var o},function(t,e,i){"use strict";i.d(e,"a",function(){return o}),e.d=function(t){return t.innerHTML=o,t},e.c=function(t,e){t.style.gridColumnStart=e.id,t.dataset.id=e.id};var n=i(2),o="\n  <header>\n    <article></article>\n  </header>\n  <main>\n    <article></article>\n  </main>";var r=function(t){n.a(e,t);function e(e,i){var n=t.call(this,e)||this;n.id=i;var o=e.querySelector("header"),r=e.querySelector("main");return r.addEventListener("scroll",function(){o.scrollLeft=r.scrollLeft}),n}return e.columnWidths=function(t,e){void 0===e&&(e="px");var i=function(t,e){return"repeat("+t+", "+e+")"},n=0,o=0,r="";return t.forEach(function(t){var s=t.width;n!==s?(o>0&&(r+=1===o?""+n+e+" ":i(o,""+n+e)+" "),o=1,n=s):o++}),o>0&&(r+=1===o?""+n+e:""+i(o,""+n+e)),r},e.gridColumn=function(t,i){void 0===i&&(i="px");return"grid-template-columns: "+e.columnWidths(t,i)+';\n      grid-template-areas: "'+t.map(function(t){return t.id}).join(" ")+'";'},e.prototype.update=function(t,i,n,o,r){void 0===r&&(r="px");var s=void 0!==o?this.tableIds(o,!0):{header:this.id+" > header > article",body:this.id+" > main > article"};if(this.updateRule("__heightsRule"+s.body,s.body+" > div {\n      height: "+t+"px;\n    }"),0!==i.length){var a=e.gridColumn(i,r);this.updateRule("__widthRule"+s.body,s.body+" > div, "+s.header+" { "+a+" }"),this.updateFrozen(i,s,n,r)}else this.deleteRule("__widthRule"+s.body)},e.prototype.remove=function(t){var e=this.tableIds(t,!0);this.deleteRule("__heightsRule"+e.body),this.deleteRule("__widthRule"+e.body);for(var i="__frozen"+e.body+"_",n=this.ruleNames.reduce(function(t,e){return t+(e.startsWith(i)?1:0)},0),o=0;o<n;++o)this.deleteRule(""+i+o)},e.prototype.tableIds=function(t,e){void 0===e&&(e=!1);var i=this.id.startsWith("#")?this.id.slice(1):this.id;return{header:(e?"#":"")+i+"_H"+t,body:(e?"#":"")+i+"_B"+t}},e.prototype.updateFrozen=function(t,e,i,n){var o=this,r="__frozen"+e.body+"_",s=this.ruleNames.reduce(function(t,e){return t+(e.startsWith(r)?1:0)},0),a=t.filter(function(t){return t.frozen});if(a.length<=0)for(var l=0;l<s;++l)this.deleteRule(""+r+l);else{var c=a[0].width;a.slice(1).forEach(function(t,i){var s=e.body+' > div > .frozen[data-id="'+t.id+'"], '+e.header+' .frozen[data-id="'+t.id+'"] {\n        left: '+c+n+";\n      }";c+=t.width,o.updateRule(""+r+i,s)});for(l=a.length-1;l<s;++l)this.deleteRule(""+r+l)}},e}(i(9).a);e.b=r},function(t,e,i){"use strict";var n=function(){function t(t){this.rules=new Map,this.node=t.ownerDocument.createElement("style"),t.appendChild(this.node)}return t.prototype.destroy=function(){this.node.remove()},t.prototype.recreate=function(){this.node.innerHTML=Array.from(this.rules.values()).join("\n")},t.prototype.addRule=function(t,e){return this.rules.set(t,e),this.recreate(),t},t.prototype.updateRule=function(t,e){return this.rules.set(t,e),this.recreate(),t},t.prototype.deleteRule=function(t){this.rules.get(t)&&(this.rules.delete(t),this.recreate())},Object.defineProperty(t.prototype,"ruleNames",{get:function(){return Array.from(this.rules.keys())},enumerable:!0,configurable:!0}),t}();e.a=n},function(t,e,i){"use strict";var n=i(0),o=i(1),r=i(8),s=function(){function t(t,e,i){for(var n=[],o=3;o<arguments.length;o++)n[o-3]=arguments[o];var r=this;this.header=t,this.style=e,this.tableId=i,this.cellPool=[],this.visibleColumns={frozen:[],first:0,forcedFirst:0,last:-1,forcedLast:-1},this.visibleFirstColumnPos=0,this.columnAdapter=this.createColumnAdapter(),this.columnMixins=n.map(function(t){return new t(r.columnAdapter)}),this.columnFragment=t.ownerDocument.createDocumentFragment()}return Object.defineProperty(t.prototype,"headerScroller",{get:function(){return this.header.parentElement},enumerable:!0,configurable:!0}),t.prototype.addColumnMixin=function(t,e){this.columnMixins.push(new t(this.columnAdapter,e))},t.prototype.createColumnAdapter=function(){var t=this,e={visible:this.visibleColumns,addAtBeginning:this.addColumnAtStart.bind(this),addAtBottom:this.addColumnAtEnd.bind(this),removeFromBeginning:this.removeColumnFromStart.bind(this),removeFromBottom:this.removeColumnFromEnd.bind(this),updateOffset:this.updateColumnOffset.bind(this),scroller:this.headerScroller,syncFrozen:this.syncFrozen.bind(this)};return Object.defineProperties(e,{visibleFirstRowPos:{get:function(){return t.visibleFirstColumnPos},enumerable:!0},context:{get:function(){return t.context.column},enumerable:!0}}),e},t.prototype.init=function(){var t=this,e=this.context;this.style.update(e.defaultRowHeight-e.padding(-1),e.columns,e.column.padding,this.tableId),e.columns.forEach(function(){t.cellPool.push([])})},t.prototype.onScrolledHorizontally=function(t,e,i){var n=this.onScrolledHorizontallyImpl(t,e);return this.columnMixins.forEach(function(t){return t.onScrolled(i,n)}),n},t.prototype.removeColumnFromStart=function(t,e,i){var n=this;void 0===i&&(i=this.visibleColumns.frozen.length),this.forEachRow(function(o){n.removeCellFromStart(o,t,e,i)})},t.prototype.removeCellFromStart=function(t,e,i,n){for(var o=e;o<=i;++o){var r=0===n?t.firstElementChild:t.children[n];r.remove(),this.recycleCell(r,o)}},t.prototype.removeColumnFromEnd=function(t,e){var i=this;this.forEachRow(function(n){i.removeCellFromEnd(n,t,e)})},t.prototype.removeCellFromEnd=function(t,e,i){for(var n=i;n>=e;--n){var o=t.lastElementChild;o.remove(),this.recycleCell(o,n)}},t.prototype.removeFrozenCells=function(t,e,i){for(var n=0,o=e;n<o.length;n++){var r=o[n],s=t.children[i];s.remove(),this.recycleCell(s,r)}},t.prototype.removeFrozenColumns=function(t,e){var i=this;this.forEachRow(function(n){i.removeFrozenCells(n,t,e)})},t.prototype.removeAllColumns=function(t){var e=this;this.forEachRow(function(i){e.removeAllCells(i,t)})},t.prototype.removeAllCells=function(t,e,i){var n=this;void 0===i&&(i=this.visibleColumns.first);var o=Array.from(t.children),r=this.visibleColumns.frozen;if(t.innerHTML="",e||0===r.length)for(var s=0,a=r;s<a.length;s++){var l=a[s];this.recycleCell(o.shift(),l)}else for(var c=0,h=r;c<h.length;c++){h[c];t.appendChild(o.shift())}o.forEach(function(t,e){n.recycleCell(t,e+i)})},t.prototype.selectCell=function(t,e,i){var n=this.cellPool[e],o=i[e];if(n.length>0){var s=n.pop(),a=this.updateCell(s,t,o);return a&&a!==s&&Object(r.c)(a,o),a||s}var l=this.createCell(this.header.ownerDocument,t,o);return Object(r.c)(l,o),l},t.prototype.recycleCell=function(t,e){this.cellPool[e].push(t)},t.prototype.addColumnAtStart=function(t,e,i){var n=this;void 0===i&&(i=this.visibleColumns.frozen.length);var o=this.context.columns;this.forEachRow(function(r,s){n.addCellAtStart(r,s,t,e,i,o)})},t.prototype.addCellAtStart=function(t,e,i,n,o,r){for(var s=n;s>=i;--s){var a=this.selectCell(e,s,r);t.insertBefore(a,o>0?t.children[o]:t.firstChild)}},t.prototype.insertFrozenCells=function(t,e,i,n,o){for(var r=t.children[n],s=0,a=i;s<a.length;s++){var l=a[s],c=this.selectCell(e,l,o);r?t.insertBefore(c,r):t.appendChild(c)}},t.prototype.insertFrozenColumns=function(t,e){var i=this,n=this.context.columns;this.forEachRow(function(o,r){i.insertFrozenCells(o,r,t,e,n)})},t.prototype.addColumnAtEnd=function(t,e){var i=this,n=this.context.columns;this.forEachRow(function(o,r){i.addCellAtEnd(o,r,t,e,n)})},t.prototype.verifyRows=function(){var t=this.context.columns;this.forEachRow(function(e,i){return a(e,i,t)})},t.prototype.addCellAtEnd=function(t,e,i,n,o){for(var r=i;r<=n;++r){var s=this.selectCell(e,r,o);t.appendChild(s)}},t.prototype.updateHeaders=function(){var t=this,e=this.context.columns;Array.from(this.header.children).forEach(function(i,n){t.updateHeader(i,e[n])})},t.prototype.recreate=function(t,e){var i=this,o=this.context;void 0===o.hasFrozenColumns&&(o.hasFrozenColumns=o.columns.some(function(t){return t.frozen})),this.style.update(o.defaultRowHeight-o.padding(-1),o.columns,o.column.padding,this.tableId),this.clearPool();for(var s=this.cellPool.length;s<o.columns.length;++s)this.cellPool.push([]);var a=this.columnFragment,l=a.ownerDocument;this.header.innerHTML="",o.columns.forEach(function(t){var e=i.createHeader(l,t);Object(r.c)(e,t),a.appendChild(e)}),this.header.appendChild(a);var c=Object(n.d)(t,e,o.column.defaultRowHeight,o.column.exceptions,o.column.numberOfRows),h=c.first,d=c.last,u=c.firstRowPos;if(this.visibleColumns.first=this.visibleColumns.forcedFirst=h,this.visibleColumns.last=this.visibleColumns.forcedLast=d,o.hasFrozenColumns){var f=Object(n.f)([],o.columns,h).target;this.visibleColumns.frozen=f}this.updateColumnOffset(u)},t.prototype.clearPool=function(){this.cellPool.forEach(function(t){return t.splice(0,t.length)})},t.prototype.updateColumnOffset=function(t){this.visibleFirstColumnPos=t},t.prototype.createRow=function(t,e){var i=this.context,n=i.columns,o=i.hasFrozenColumns,r=this.visibleColumns;if(o)for(var s=0,a=r.frozen;s<a.length;s++){var l=a[s],c=this.selectCell(e,l,n);t.appendChild(c)}for(l=r.first;l<=r.last;++l){c=this.selectCell(e,l,n);t.appendChild(c)}},t.prototype.updateRow=function(t,e){var i=this,o=this.context,s=o.columns,a=o.hasFrozenColumns,l=this.visibleColumns,c=Array.from(t.children);switch(c.length){case 0:a&&this.insertFrozenCells(t,e,l.frozen,0,s),this.addCellAtEnd(t,e,l.first,l.last,s);break;case 1:var h=c[0],d=h.dataset.id,u=s.findIndex(function(t){return t.id===d});t.removeChild(h),this.recycleCell(h,u),a&&this.insertFrozenCells(t,e,l.frozen,0,s),this.addCellAtEnd(t,e,l.first,l.last,s);break;default:if(a){for(var f=[],p=function(t){var e=t.dataset.id,i=s.findIndex(function(t){return t.id===e});if(!s[i].frozen)return"break";f.push(i)},y=0,v=c;y<v.length;y++){if("break"===p(v[y]))break}var m=Object(n.a)(f,l.frozen),b=m.common,g=m.removed,x=m.added;c.slice(0,b).forEach(function(n,o){var a=s[f[o]],l=i.updateCell(n,e,a);l&&l!==n&&(Object(r.c)(l,a),t.replaceChild(l,n))}),this.removeFrozenCells(t,g,b),this.insertFrozenCells(t,e,x,b,s),c.splice(0,f.length)}if(0===c.length)break;var w=c[0].dataset.id,C=c[c.length-1].dataset.id,R=s.findIndex(function(t){return t.id===w}),O=s.findIndex(function(t){return t.id===C}),E=l.frozen.length;R===l.first&&O===l.last?c.forEach(function(n,o){var a=s[o+l.first],c=i.updateCell(n,e,a);c&&c!==n&&(Object(r.c)(c,a),t.replaceChild(c,n))}):l.last>R||l.first<O?(this.removeAllCells(t,!1,R),this.addCellAtStart(t,e,l.first,l.last,E,s)):l.first<R?(this.removeCellFromEnd(t,l.last+1,R),this.addCellAtStart(t,e,l.first,R-1,E,s)):(this.removeCellFromStart(t,R,l.first-1,E),this.addCellAtEnd(t,e,O+1,l.last,s))}},t.prototype.syncFrozen=function(t){var e=this.context,i=e.columns,o=e.hasFrozenColumns,r=this.visibleColumns;if(!o)return 0;if(0===t)return r.frozen.length>0&&(this.removeFrozenColumns(r.frozen,0),r.frozen=[]),0;var s=r.frozen.length,a=Object(n.f)(r.frozen,i,t),l=a.target,c=a.added,h=a.removed;return h.length>0&&this.removeFrozenColumns(h,s-h.length),c.length>0&&this.insertFrozenColumns(c,s-h.length),r.frozen=l,l.length},t.prototype.onScrolledHorizontallyImpl=function(t,e){var i=this.context.column,r=Object(n.d)(t,e,i.defaultRowHeight,i.exceptions,i.numberOfRows),s=r.first,a=r.last,l=r.firstRowPos,c=this.visibleColumns;if(c.forcedFirst=s,c.forcedLast=a,s-c.first>=0&&a-c.last<=0)return o.a.NONE;var h=o.a.PARTIAL,d=this.syncFrozen(s);return s>c.last||a<c.first?(this.removeAllColumns(!1),this.addColumnAtEnd(s,a),h=o.a.ALL):s<c.first?(this.removeColumnFromEnd(a+1,c.last),this.addColumnAtStart(s,c.first-1,d)):(this.removeColumnFromStart(c.first,s-1,d),this.addColumnAtEnd(c.last+1,a)),c.first=s,c.last=a,this.updateColumnOffset(l),h},t}();e.a=s;function a(t,e,i){var n=Array.from(t.children);if(!(n.length<=1)){var o=n.map(function(t){return i.find(function(e){return e.id===t.dataset.id})});console.assert(o.every(function(t){return Boolean(t)}),"all columns must exist",e),console.assert(o.every(function(t,e){return 0===e||t.index>=o[e-1].index}),"all columns in ascending order",e),console.assert(new Set(o).size===o.length,"unique columns",o)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"version",function(){return h});var n=i(12);i.d(e,"ACellRenderer",function(){return n.a});var o=i(3);i.d(e,"ARowRenderer",function(){return o.a});var r=i(0);i.d(e,"uniformContext",function(){return r.e}),i.d(e,"nonUniformContext",function(){return r.b}),i.d(e,"randomContext",function(){return r.c}),i.d(e,"range",function(){return r.d}),i.d(e,"frozenDelta",function(){return r.a}),i.d(e,"updateFrozen",function(){return r.f});var s=i(5);i.d(e,"ABORTED",function(){return s.a}),i.d(e,"isAbortAble",function(){return s.b});var a=i(4);i.d(e,"GridStyleManager",function(){return a.a}),i.d(e,"setColumn",function(){return a.d}),i.d(e,"TEMPLATE",function(){return a.c}),i.d(e,"setTemplate",function(){return a.e}),i.d(e,"StyleManager",function(){return a.b});var l=i(1);i.d(e,"EScrollResult",function(){return l.a}),i.d(e,"PrefetchMixin",function(){return l.b});var c=i(15);i.d(e,"ACellTableSection",function(){return c.a});var h="1.0.0-20180114-143620"},function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i(2),o=i(3),r=i(4),s=i(10),a=function(t){n.a(e,t);function e(e,i,o){void 0===o&&(o={});var a=t.call(this,Object(r.e)(e).querySelector("main > article"),o)||this;a.root=e,e.classList.add("lineup-engine"),a.style=new r.a(a.root,i);var l=a,c=function(t){n.a(e,t);function e(){return null!==t&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"context",{get:function(){return l.context},enumerable:!0,configurable:!0}),e.prototype.createHeader=function(t,e){return l.createHeader(t,e)},e.prototype.updateHeader=function(t,e){return l.updateHeader(t,e)},e.prototype.createCell=function(t,e,i){return l.createCell(t,e,i)},e.prototype.updateCell=function(t,e,i){return l.updateCell(t,e,i)},e.prototype.forEachRow=function(t){return l.forEachRow(t)},e}(s.a);return a.cell=new(c.bind.apply(c,[void 0,a.header,a.style,void 0].concat(o.mixins||[]))),a}return Object.defineProperty(e.prototype,"header",{get:function(){return this.root.querySelector("header > article")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerScroller",{get:function(){return this.root.querySelector("header")},enumerable:!0,configurable:!0}),e.prototype.addColumnMixin=function(t,e){this.cell.addColumnMixin(t,e)},e.prototype.init=function(){var e=this;this.cell.init();var i=this.body.parentElement,n=i.scrollLeft,o=i.clientWidth;i.addEventListener("scroll",this.createDelayedHandler(function(){var t=i.scrollLeft,r=i.clientWidth;if(!(Math.abs(n-t)<e.options.minScrollDelta&&Math.abs(o-r)<e.options.minScrollDelta)){var s=t>n;n=t,o=r,e.onScrolledHorizontally(t,r,s)}})),t.prototype.init.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.root.remove()},e.prototype.onScrolledHorizontally=function(t,e,i){return this.cell.onScrolledHorizontally(t,e,i)},e.prototype.updateHeaders=function(){this.cell.updateHeaders()},e.prototype.updateColumnWidths=function(){var t=this.context;this.style.update(t.defaultRowHeight-t.padding(-1),t.columns,t.column.padding)},e.prototype.recreate=function(e){var i=this.bodyScroller,n=i.scrollLeft;this.cell.recreate(n,i.clientWidth),t.prototype.recreate.call(this,e),i.scrollLeft=n},e.prototype.clearPool=function(){t.prototype.clearPool.call(this),this.cell.clearPool()},e.prototype.createRow=function(t,e){this.cell.createRow(t,e)},e.prototype.updateRow=function(t,e){this.cell.updateRow(t,e)},e}(o.a)},function(t,e,i){"use strict";i.d(e,"a",function(){return n}),e.c=function(t,e,i){var o=t.previous,s=t.mode,a=t.nodeY,l=t.current,c=null==o.height?e:o.height,h=null==l.height?i:l.height;return s===n.UPDATE&&Math.abs(o.y-a)<=r&&Math.abs(c-h)<=r},i.d(e,"b",function(){return s});var n;i(6);(o=n||(n={}))[o.UPDATE=0]="UPDATE",o[o.UPDATE_CREATE=1]="UPDATE_CREATE",o[o.UPDATE_REMOVE=2]="UPDATE_REMOVE",o[o.SHOW=3]="SHOW",o[o.HIDE=4]="HIDE";var o,r=1;var s=[{delay:0,apply:function(t){var e=t.mode,i=t.previous,o=t.nodeY,r=t.current,s=t.node;s.dataset.animation=n[e].toLowerCase(),s.style.transform="translate(0, "+(i.y-o)+"px)",e===n.SHOW?s.style.height=null!==r.height?r.height+"px":null:s.style.height=i.height+"px",s.style.opacity=e===n.SHOW?"0":e===n.HIDE?"1":null}},{delay:10,apply:function(t){var e=t.mode,i=t.current,o=t.nodeY,r=t.node;r.style.transform=e===n.HIDE||e===n.UPDATE_REMOVE?"translate(0, "+(i.y-o)+"px)":null,e!==n.HIDE&&(r.style.height=null!==i.height?i.height+"px":null),r.style.opacity=e===n.SHOW?"1":e===n.HIDE?"0":null}},{delay:1100,apply:function(t){var e=t.node;delete e.dataset.animation,e.style.opacity=null,e.style.transform=null}}]},function(t,e,i){"use strict";var n=i(0),o=i(7),r=function(){function t(t,e){return this.adapter=t,this.prefetchTimeout=-1,this.options={prefetchRows:20,cleanUpRows:3,delay:50},Object.assign(this.options,e),this}return t.prototype.prefetchDown=function(){this.prefetchTimeout=-1;var t=this.adapter.context,e=Math.min(this.adapter.visible.last+this.options.prefetchRows,t.numberOfRows-1);this.adapter.visible.last===e&&this.adapter.visible.last>=this.adapter.visible.forcedLast+this.options.prefetchRows||(this.adapter.addAtBottom(this.adapter.visible.last+1,e),this.adapter.visible.last=e)},t.prototype.prefetchUp=function(){if(this.prefetchTimeout=-1,!(this.adapter.visible.first<=this.adapter.visible.forcedFirst-this.options.prefetchRows)){var t=this.adapter.context,e=this.adapter.scroller,i=Math.max(e.scrollTop-this.options.prefetchRows*t.defaultRowHeight,0),o=e.clientHeight,r=Object(n.d)(i,o,t.defaultRowHeight,t.exceptions,t.numberOfRows),s=r.first,a=r.firstRowPos;if(s!==this.adapter.visible.first){var l=this.adapter.syncFrozen?this.adapter.syncFrozen(s):0;this.adapter.addAtBeginning(s,this.adapter.visible.first-1,l),this.adapter.visible.first=s,this.adapter.updateOffset(a)}}},t.prototype.triggerPrefetch=function(t){this.prefetchTimeout>=0&&clearTimeout(this.prefetchTimeout);var e=this.adapter.visible.last<this.adapter.visible.forcedLast+this.options.prefetchRows,i=this.adapter.visible.first>this.adapter.visible.forcedFirst-this.options.prefetchRows,n=this.adapter.visible.last===this.adapter.context.numberOfRows,o=0===this.adapter.visible.first;if((!t||e||n)&&(t||i||o)){var r=t||o?this.prefetchDown.bind(this):this.prefetchUp.bind(this);this.prefetchTimeout=setTimeout(r,this.options.delay)}},t.prototype.cleanUpTop=function(t){this.prefetchTimeout=-1;var e=Math.max(0,t-this.options.cleanUpRows);if(!(e<=this.adapter.visible.first)){var i=this.adapter.syncFrozen?this.adapter.syncFrozen(e):0;this.adapter.removeFromBeginning(this.adapter.visible.first,e-1,i);var n=this.adapter.context,o=(e-this.adapter.visible.first)*n.defaultRowHeight;if(n.exceptions.length>0)for(var r=this.adapter.visible.first;r<e;++r)n.exceptionsLookup.has(r)&&(o+=n.exceptionsLookup.get(r)-n.defaultRowHeight);this.adapter.visible.first=e,this.adapter.updateOffset(this.adapter.visibleFirstRowPos+o),this.prefetchDown()}},t.prototype.cleanUpBottom=function(t){this.prefetchTimeout=-1;var e=t+this.options.cleanUpRows;this.adapter.visible.last<=e||(this.adapter.removeFromBottom(e+1,this.adapter.visible.last),this.adapter.visible.last=e,this.prefetchUp())},t.prototype.triggerCleanUp=function(t,e,i){this.prefetchTimeout>=0&&clearTimeout(this.prefetchTimeout),i&&t-this.options.cleanUpRows<=this.adapter.visible.first||!i&&this.adapter.visible.last<=e+this.options.cleanUpRows||(this.prefetchTimeout=setTimeout(i?this.cleanUpTop.bind(this):this.cleanUpBottom.bind(this),this.options.delay,i?t:e))},t.prototype.onScrolled=function(t,e){e===o.a.NONE?this.options.cleanUpRows>0&&this.triggerCleanUp(this.adapter.visible.forcedFirst,this.adapter.visible.forcedLast,t):this.options.prefetchRows>0&&this.triggerPrefetch(t)},t}();e.a=r},function(t,e,i){"use strict";var n=i(16);i.d(e,"a",function(){return n.a});i(17)},function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i(2),o=i(3),r=i(1),s=i(10),a=function(t){n.a(e,t);function e(e,i,o,r,a){void 0===a&&(a={});var l=t.call(this,i,a)||this;l.header=e,l.tableId=o,l.style=r;var c=l,h=function(t){n.a(e,t);function e(){return null!==t&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"context",{get:function(){return c.context},enumerable:!0,configurable:!0}),e.prototype.createHeader=function(t,e){return c.createHeader(t,e)},e.prototype.updateHeader=function(t,e){return c.updateHeader(t,e)},e.prototype.createCell=function(t,e,i){return c.createCell(t,e,i)},e.prototype.updateCell=function(t,e,i){return c.updateCell(t,e,i)},e.prototype.forEachRow=function(t){return c.forEachRow(t)},e}(s.a);return l.cell=new(h.bind.apply(h,[void 0,l.header,l.style,o].concat(a.mixins||[]))),l}return e.prototype.addColumnMixin=function(t,e){this.cell.addColumnMixin(t,e)},Object.defineProperty(e.prototype,"width",{get:function(){return this.context.column.totalHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hidden",{get:function(){return this.header.classList.contains("loading")},set:function(t){this.hidden!==t&&(this.header.classList.toggle("loading",t),this.body.classList.toggle("loading",t),this.onVisibilityChanged(!t))},enumerable:!0,configurable:!0}),e.prototype.onVisibilityChanged=function(t){},e.prototype.hide=function(){this.hidden=!0},e.prototype.show=function(t,e,i){this.hidden=!1,this.cell.onScrolledHorizontally(t,e,i)},e.prototype.init=function(){this.hide(),this.cell.init(),t.prototype.init.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.header.remove(),this.style.remove(this.tableId)},e.prototype.onScrolledVertically=function(e,i,n){return this.hidden?r.a.NONE:t.prototype.onScrolledVertically.call(this,e,i,n)},e.prototype.onScrolledHorizontally=function(t,e,i){return this.cell.onScrolledHorizontally(t,e,i)},e.prototype.updateHeaders=function(){this.cell.updateHeaders()},e.prototype.updateColumnWidths=function(){var t=this.context;this.style.update(t.defaultRowHeight-t.padding(-1),t.columns,t.column.padding,this.tableId)},e.prototype.recreate=function(e){var i=this.bodyScroller,n=i.scrollLeft;this.cell.recreate(n,i.clientWidth),t.prototype.recreate.call(this,e),i.scrollLeft=n},e.prototype.clearPool=function(){t.prototype.clearPool.call(this),this.cell.clearPool()},e.prototype.createRow=function(t,e){this.cell.createRow(t,e)},e.prototype.updateRow=function(t,e){this.cell.updateRow(t,e)},e}(o.b)},function(t,e,i){"use strict";var n=i(0),o=i(1),r=i(4);!function(){function t(t,e,i){void 0===i&&(i={});var o=this;this.node=t,this.tableId=0,this.sections=[],this.visible={first:0,forcedFirst:0,last:0,forcedLast:0},this.options={columnPadding:0},this.context=Object(n.e)(0,500),Object.assign(this.options,i),t.innerHTML="<header></header><main></main>",t.classList.add("lineup-engine","lineup-multi-engine"),this.style=new r.a(this.node,e);var s=this.main,a=s.scrollLeft;s.addEventListener("scroll",function(){var t=s.scrollLeft;if(t!==a){var e=t>a;a=t,o.onScrolledHorizontally(t,s.clientWidth,e)}})}t.prototype.update=function(){this.context=Object(n.b)(this.sections.map(function(t){return t.width}),NaN,this.options.columnPadding),this.updateGrid(),this.onScrolledHorizontally(this.main.scrollLeft,this.main.clientWidth,!1)},t.prototype.updateGrid=function(){var t=r.a.gridColumn(this.sections);this.style.updateRule("multiTableRule",this.style.id+" > header, "+this.style.id+" > main { "+t+" }")},t.prototype.onScrolledHorizontally=function(t,e,i){var r=Object(n.d)(t,e,this.context.defaultRowHeight,this.context.exceptions,this.context.numberOfRows),s=r.first,a=r.last,l=this.visible;l.forcedFirst=s,l.forcedLast=a;var c=0;return this.sections.forEach(function(n,o){o>=s&&o<=a?n.show(Math.max(0,t-c),Math.min(t+e-c,n.width),i):n.hide(),c+=n.width}),l.first=s,l.last=a,o.a.PARTIAL},t.prototype.destroy=function(){this.sections.forEach(function(t){return t.destroy()}),this.node.remove()},Object.defineProperty(t.prototype,"doc",{get:function(){return this.node.ownerDocument},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"header",{get:function(){return this.node.querySelector("header")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"main",{get:function(){return this.node.querySelector("main")},enumerable:!0,configurable:!0}),t.prototype.pushTable=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=this.doc.createElement("article"),o=this.doc.createElement("article"),r="T"+this.tableId++,s=this.style.tableIds(r);n.id=s.header,o.id=s.body,this.header.appendChild(n),this.main.appendChild(o);var a=t.apply(void 0,[n,o,r,this.style].concat(e));return a.init(),this.sections.push(a),this.update(),a},t.prototype.pushSeparator=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=this.doc.createElement("section"),o=this.doc.createElement("section");this.header.appendChild(n),this.main.appendChild(o);var r=t.apply(void 0,[n,o,this.style].concat(e));return r.init(),this.sections.push(r),this.update(),r},t.prototype.remove=function(t){var e=this.sections.indexOf(t);return!(e<0)&&(this.sections.splice(e,1),t.destroy(),this.update(),!0)},t.prototype.widthChanged=function(){this.update()}}()},function(t,e){},,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),o=i(22),r=(i.n(o),i(11)),s=i(23),a=i(18),l=(i.n(a),function(t){n.a(e,t);function e(e,i,n,o){void 0===n&&(n=128),void 0===o&&(o=128);var s=t.call(this,e)||this;return e.id=i,s._context={col:Object(r.uniformContext)(o,50),row:Object(r.uniformContext)(n,50)},s}return e.prototype.run=function(){setTimeout(t.prototype.init.bind(this),100)},Object.defineProperty(e.prototype,"context",{get:function(){return this._context},enumerable:!0,configurable:!0}),e.prototype.createCell=function(t,e,i){var n=t.createElement("div");return n.textContent=e+"/"+i,n},e.prototype.updateCell=function(t,e,i){t.textContent=e+"/"+i},e.prototype.createRowHeader=function(t,e){var i=t.createElement("div");return i.textContent="#"+e,i},e.prototype.updateRowHeader=function(t,e){t.textContent="#"+e},e.prototype.createColumnHeader=function(t,e){var i=t.createElement("div");return i.textContent="#"+e,i},e.prototype.updateColumnHeader=function(t,e){t.textContent="#"+e},e}(s.a));e.default=l},function(t,e,i){t.exports=i.p+"cell.html"},function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i(0),o=i(24),r="<header></header>\n<aside></aside>\n<main><div></div></main><style></style>",s=function(){function t(t){this.root=t,this.poolLeaves=[],this.poolInner=[],t.innerHTML=r,t.classList.add("lineup-cell-engine")}return Object.defineProperty(t.prototype,"doc",{get:function(){return this.root.ownerDocument},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"body",{get:function(){return this.root.children[2]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colHeader",{get:function(){return this.root.firstElementChild},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowHeader",{get:function(){return this.root.children[1]},enumerable:!0,configurable:!0}),t.prototype.init=function(){var t=this,e=this.body,i=this.rowHeader,n=this.colHeader,o=e.scrollTop,r=e.scrollLeft;e.addEventListener("scroll",function(){var s=e.scrollLeft,a=e.scrollTop;if(o!==a||r!==s){var l=a>o,c=s>r;o=a,r=s,i.scrollTop=a,n.scrollLeft=s,t.onScroll(s,a,e.clientWidth,e.clientHeight,l,c)}}),this.recreate()},t.sliceHeight=function(t,e,i){for(var n=(i-e+1)*t.defaultRowHeight,o=0,r=t.exceptions;o<r.length;o++){var s=r[o];if(!(s.index<e)){if(s.index>i)break;n+=s.height-t.defaultRowHeight}}return n},t.prototype.buildTree=function(e,i){var n=function(r,s,a,l,c,h,d){if(a-s+1<=4&&c-l+1<=4)return new o.d(r,s,a,l,c,h,d);var u=new o.c(r,s,a,l,c,h,d),f=t.sliceHeight(i,l,u.colMiddle),p=d-f,y=t.sliceHeight(e,s,u.rowMiddle),v=h-y;return u.children.push(n(o.e,s,u.rowMiddle,l,u.colMiddle,y,f)),u.children.push(n(o.f,s,u.rowMiddle,u.colMiddle+1,c,y,p)),u.children.push(n(o.a,u.rowMiddle+1,a,l,u.colMiddle,v,f)),u.children.push(n(o.b,u.rowMiddle+1,a,u.colMiddle+1,c,v,p)),u.children.forEach(function(t){return t.parent=u}),u};return n(0,0,e.numberOfRows-1,0,i.numberOfRows-1,e.totalHeight,i.totalHeight)},t.prototype.recreate=function(){var t=this,e=this.context,i=this.body;this.tree=this.buildTree(e.row,e.col);var o=i.firstElementChild;Array.from(o.children).forEach(function(e){return t.recycle(e)}),this.clearPool();var r=Object(n.d)(i.scrollLeft,i.clientWidth,e.col.defaultRowHeight,e.col.exceptions,e.col.numberOfRows),s=Object(n.d)(i.scrollTop,i.clientHeight,e.row.defaultRowHeight,e.row.exceptions,e.row.numberOfRows);o.dataset.node=this.tree.type,o.dataset.id=this.tree.id,o.style.width=this.tree.width+"px",o.style.height=this.tree.height+"px",this.render(this.tree,o,s.first,s.last,r.first,r.last)},t.prototype.onScroll=function(t,e,i,o,r,s){var a=this.context,l=Object(n.d)(t,i,a.col.defaultRowHeight,a.col.exceptions,a.col.numberOfRows),c=Object(n.d)(e,o,a.row.defaultRowHeight,a.row.exceptions,a.row.numberOfRows),h=this.body.firstElementChild;this.render(this.tree,h,c.first,c.last,l.first,l.last)},t.prototype.renderLeaf=function(t,e){var i=this.doc,n=Array.from(e.children);e.dataset.leafCols=String(t.colCount),n.length>0&&(e.innerHTML="");for(var o=t.rowFirst;o<=t.rowLast;++o){for(var r=t.colFirst;r<=t.colLast;++r){var s=void 0;if(n.length>0){s=n.shift();var a=this.updateCell(s,o,r);a&&a!==s&&(n.unshift(s),s=a)}else s=this.createCell(i,o,r);s.dataset.row=String(o),s.dataset.col=String(r),e.appendChild(s)}e.appendChild(i.createElement("br"))}return e},t.prototype.render=function(t,e,i,n,r,s){var a=this;if("leaf"===t.type)return this.renderLeaf(t,e);var l=t,c=function(t){var e,o=l.children[t];return(e="inner"===o.type?a.poolInner.length>0?a.poolInner.pop():a.doc.createElement("div"):a.poolLeaves.length>0?a.poolLeaves.pop():a.doc.createElement("div")).dataset.node=o.type,e.dataset.id=o.id,a.render(o,e,i,n,r,s)},h=function(t){var e=l.children[t],i=a.poolInner.length>0?a.poolInner.pop():a.doc.createElement("div");return i.dataset.node="placeholder",i.dataset.id=e.id,i.style.width=e.width+"px",i.style.height=e.height+"px",i},d=Array.from(e.children),u=!(l.colFirst>s||l.colMiddle<r),f=!(l.colMiddle>s||l.colLast<r),p=!(l.rowFirst>n||l.rowMiddle<i),y=!(l.rowMiddle>n||l.rowLast<i);if(0===d.length)return e.appendChild(u&&p?c(o.e):h(o.e)),e.appendChild(f&&p?c(o.f):h(o.f)),e.appendChild(this.doc.createElement("br")),e.appendChild(u&&y?c(o.a):h(o.a)),e.appendChild(f&&y?c(o.b):h(o.b)),e;var v=d[o.e];(g=u&&p)!==("placeholder"!==v.dataset.node)?(e.replaceChild(g?c(o.e):h(o.e),v),this.recycle(v)):g&&"inner"===l.children[o.e].type&&this.render(l.children[o.e],v,i,n,r,s);var m=d[o.f];(g=f&&p)!==("placeholder"!==m.dataset.node)?(e.replaceChild(g?c(o.f):h(o.f),m),this.recycle(m)):g&&"inner"===l.children[o.f].type&&this.render(l.children[o.f],m,i,n,r,s);var b=d[o.a+1];(g=u&&y)!==("placeholder"!==b.dataset.node)?(e.replaceChild(g?c(o.a):h(o.a),b),this.recycle(b)):g&&"inner"===l.children[o.a].type&&this.render(l.children[o.a],b,i,n,r,s);var g,x=d[o.b+1];return(g=f&&y)!==("placeholder"!==x.dataset.node)?(e.replaceChild(g?c(o.b):h(o.b),x),this.recycle(x)):g&&"inner"===l.children[o.b].type&&this.render(l.children[o.b],x,i,n,r,s),e},t.prototype.recycle=function(e){var i=this;if("leaf"!==e.dataset.node){var n=Array.from(e.querySelectorAll("[data-node=leaf]")),o=Array.from(e.querySelectorAll("[data-node=inner], [data-node=placeholder"));e.innerHTML="",n.forEach(function(t){return i.recycleLeaf(t)}),o.forEach(function(e){e.innerHTML="",i.poolInner.push(t.cleanUp(e))}),this.poolInner.push(t.cleanUp(e))}else this.recycleLeaf(e)},t.cleanUp=function(t){return t.style.width&&(t.style.width=null),t.style.height&&(t.style.height=null),t},t.prototype.recycleLeaf=function(e){this.poolLeaves.push(t.cleanUp(e))},t.prototype.clearPool=function(){this.poolInner.splice(0,this.poolInner.length),this.poolLeaves.splice(0,this.poolLeaves.length)},t}()},function(t,e,i){"use strict";i.d(e,"d",function(){return r}),i.d(e,"e",function(){return s}),i.d(e,"f",function(){return a}),i.d(e,"a",function(){return l}),i.d(e,"b",function(){return c}),i.d(e,"c",function(){return h});var n=i(2),o=function(){function t(t,e,i,n,o,r,s){this.index=t,this.rowFirst=e,this.rowLast=i,this.colFirst=n,this.colLast=o,this.rowTotal=r,this.colTotal=s,this.parent=null}return Object.defineProperty(t.prototype,"rowCount",{get:function(){return this.rowLast-this.rowFirst+1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colCount",{get:function(){return this.colLast-this.colFirst+1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.rowTotal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.colTotal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowId",{get:function(){for(var t=this.index<2?"0":"1",e=this.parent;null!==e;)t=(e.index<2?"0":"1")+t,e=e.parent;return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colId",{get:function(){for(var t=this.index%2==0?"0":"1",e=this.parent;null!==e;)t=(e.index%2==0?"0":"1")+t,e=e.parent;return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){for(var t=String(this.index),e=this.parent;null!==e;)t=e.index+"-"+t,e=e.parent;return t},enumerable:!0,configurable:!0}),t}(),r=function(t){n.a(e,t);function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="leaf",e}return e}(o),s=0,a=1,l=2,c=3,h=function(t){n.a(e,t);function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="inner",e.children=[],e}return Object.defineProperty(e.prototype,"colMiddle",{get:function(){return Math.floor(this.colFirst+this.colCount/2)-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowMiddle",{get:function(){return Math.floor(this.rowFirst+this.rowCount/2)-1},enumerable:!0,configurable:!0}),e}(o)}])});