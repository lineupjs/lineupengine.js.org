/*! lineupengine - v1.0.0-20180114-143620 - 2018
* https://sgratzl.github.io/lineupengine/
* Copyright (c) 2018 Samuel Gratzl; Licensed MIT*/

(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["lineupengine"] = factory();
	else
		root["lineupengine"] = factory();
})(typeof self !== 'undefined' ? self : this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 19);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (immutable) */ __webpack_exports__[\"e\"] = uniformContext;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = nonUniformContext;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = randomContext;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = range;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = frozenDelta;\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = updateFrozen;\nvar RowHeightException = (function () {\r\n    function RowHeightException(index, y, height) {\r\n        this.index = index;\r\n        this.y = y;\r\n        this.height = height;\r\n    }\r\n    Object.defineProperty(RowHeightException.prototype, \"y2\", {\r\n        get: function () {\r\n            return this.y + this.height;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return RowHeightException;\r\n}());\r\nfunction uniformContext(numberOfRows, rowHeight, rowPadding) {\r\n    if (rowPadding === void 0) { rowPadding = 0; }\r\n    rowHeight += rowPadding;\r\n    var exceptionsLookup = {\r\n        keys: function () { return [].values(); },\r\n        get: function () { return rowHeight; },\r\n        has: function () { return false; },\r\n        size: 0\r\n    };\r\n    return {\r\n        exceptions: [],\r\n        exceptionsLookup: exceptionsLookup,\r\n        totalHeight: numberOfRows * rowHeight,\r\n        numberOfRows: numberOfRows,\r\n        defaultRowHeight: rowHeight,\r\n        padding: function () { return rowPadding; }\r\n    };\r\n}\r\nfunction mostFrequentValue(values) {\r\n    var lookup = new Map();\r\n    values.forEach(function (value) {\r\n        lookup.set(value, (lookup.get(value) || 0) + 1);\r\n    });\r\n    if (lookup.size === 0) {\r\n        return 20;\r\n    }\r\n    var sorted = Array.from(lookup).sort(function (a, b) {\r\n        if (a[1] !== b[1]) {\r\n            return b[1] - a[1];\r\n        }\r\n        return a[0] - b[0];\r\n    });\r\n    var mostFrequent = sorted[0][0];\r\n    if (mostFrequent === 0) {\r\n        return sorted.length > 1 ? sorted[1][0] : 20;\r\n    }\r\n    return mostFrequent;\r\n}\r\nfunction nonUniformContext(rowHeights, defaultRowHeight, rowPadding) {\r\n    if (defaultRowHeight === void 0) { defaultRowHeight = NaN; }\r\n    if (rowPadding === void 0) { rowPadding = 0; }\r\n    var exceptionsLookup = new Map();\r\n    var exceptions = [];\r\n    var padding = typeof rowPadding === 'function' ? rowPadding : function () { return rowPadding; };\r\n    if (isNaN(defaultRowHeight)) {\r\n        defaultRowHeight = mostFrequentValue(rowHeights);\r\n    }\r\n    defaultRowHeight += padding(-1);\r\n    var prev = -1, acc = 0, totalHeight = 0, numberOfRows = 0;\r\n    rowHeights.forEach(function (height, index) {\r\n        height += padding(index);\r\n        totalHeight += height;\r\n        numberOfRows++;\r\n        if (height === defaultRowHeight) {\r\n            return;\r\n        }\r\n        exceptionsLookup.set(index, height);\r\n        var between = (index - prev - 1) * defaultRowHeight;\r\n        prev = index;\r\n        var y = acc + between;\r\n        acc = y + height;\r\n        exceptions.push(new RowHeightException(index, y, height));\r\n    });\r\n    return { exceptionsLookup: exceptionsLookup, exceptions: exceptions, totalHeight: totalHeight, defaultRowHeight: defaultRowHeight, numberOfRows: numberOfRows, padding: padding };\r\n}\r\nfunction randomContext(numberOfRows, defaultRowHeight, minRowHeight, maxRowHeight, ratio, seed) {\r\n    if (minRowHeight === void 0) { minRowHeight = 2; }\r\n    if (maxRowHeight === void 0) { maxRowHeight = defaultRowHeight * 10; }\r\n    if (ratio === void 0) { ratio = 0.2; }\r\n    if (seed === void 0) { seed = Date.now(); }\r\n    var actSeed = seed;\r\n    var random = function () {\r\n        var x = Math.sin(actSeed++) * 10000;\r\n        return x - Math.floor(x);\r\n    };\r\n    var getter = function () {\r\n        var coin = random();\r\n        if (coin < ratio) {\r\n            return minRowHeight + Math.round(random() * (maxRowHeight - minRowHeight));\r\n        }\r\n        return defaultRowHeight;\r\n    };\r\n    var forEach = function (callback) {\r\n        for (var index = 0; index < numberOfRows; ++index) {\r\n            callback(getter(), index);\r\n        }\r\n    };\r\n    return nonUniformContext({ forEach: forEach }, defaultRowHeight);\r\n}\r\nfunction range(scrollTop, clientHeight, rowHeight, heightExceptions, numberOfRows) {\r\n    if (numberOfRows === 0) {\r\n        return { first: 0, last: -1, firstRowPos: 0, endPos: 0 };\r\n    }\r\n    if (numberOfRows === 1) {\r\n        return {\r\n            first: 0,\r\n            last: 0,\r\n            firstRowPos: 0,\r\n            endPos: heightExceptions.length === 0 ? rowHeight : heightExceptions[0].y2\r\n        };\r\n    }\r\n    var offset = scrollTop;\r\n    var offset2 = offset + clientHeight;\r\n    function indexOf(pos, indexShift) {\r\n        return Math.min(numberOfRows - 1, indexShift + Math.max(0, Math.floor(pos / rowHeight)));\r\n    }\r\n    function calc(offsetShift, indexShift, isGuess) {\r\n        if (isGuess === void 0) { isGuess = false; }\r\n        var shifted = offset - offsetShift;\r\n        var shifted2 = offset2 - offsetShift;\r\n        var first = indexOf(shifted, indexShift);\r\n        var last = indexOf(shifted2, indexShift);\r\n        var firstRowPos = offsetShift + (first - indexShift) * rowHeight;\r\n        var endPos = offsetShift + (last + 1 - indexShift) * rowHeight;\r\n        console.assert(!isGuess || !(firstRowPos > offset || (endPos < offset2 && last < numberOfRows - 1)), 'error', isGuess, firstRowPos, endPos, offset, offset2, indexShift, offsetShift);\r\n        return { first: first, last: last, firstRowPos: firstRowPos, endPos: endPos };\r\n    }\r\n    var r = calc(0, 0, true);\r\n    if (heightExceptions.length === 0) {\r\n        return r;\r\n    }\r\n    if (r.last < heightExceptions[0].index) {\r\n        return r;\r\n    }\r\n    if (r.last === heightExceptions[0].index && heightExceptions[0].height > rowHeight) {\r\n        return Object.assign(r, { endPos: heightExceptions[0].y2 });\r\n    }\r\n    var lastPos = heightExceptions[heightExceptions.length - 1];\r\n    if (offset >= lastPos.y) {\r\n        var rest = calc(lastPos.y2, lastPos.index + 1);\r\n        if (offset < lastPos.y2) {\r\n            return Object.assign(rest, { first: lastPos.index, firstRowPos: lastPos.y });\r\n        }\r\n        return rest;\r\n    }\r\n    var visible = [];\r\n    var closest = heightExceptions[0];\r\n    for (var _i = 0, heightExceptions_1 = heightExceptions; _i < heightExceptions_1.length; _i++) {\r\n        var item = heightExceptions_1[_i];\r\n        var y = item.y, y2 = item.y2;\r\n        if (y >= offset2) {\r\n            break;\r\n        }\r\n        if (y2 <= offset) {\r\n            closest = item;\r\n            continue;\r\n        }\r\n        visible.push(item);\r\n    }\r\n    if (visible.length === 0) {\r\n        return calc(closest.y2, closest.index + 1);\r\n    }\r\n    {\r\n        var firstException = visible[0];\r\n        var lastException = visible[visible.length - 1];\r\n        var first = Math.max(0, firstException.index - Math.max(0, Math.ceil((firstException.y - offset) / rowHeight)));\r\n        var last = lastException.index;\r\n        if (offset2 >= lastException.y2) {\r\n            last = indexOf(offset2 - lastException.y2, lastException.index + 1);\r\n        }\r\n        var firstRowPos = firstException.y - (firstException.index - first) * rowHeight;\r\n        var endPos = lastException.y2 + (last - lastException.index) * rowHeight;\r\n        console.assert(firstRowPos <= offset && (endPos >= offset2 || last === numberOfRows - 1), 'error', firstRowPos, endPos, offset, offset2, firstException, lastException);\r\n        return { first: first, last: last, firstRowPos: firstRowPos, endPos: endPos };\r\n    }\r\n}\r\nfunction frozenDelta(current, target) {\r\n    var clength = current.length;\r\n    var tlength = target.length;\r\n    if (clength === 0) {\r\n        return { added: target, removed: [], common: 0 };\r\n    }\r\n    if (tlength === 0) {\r\n        return { added: [], removed: current, common: 0 };\r\n    }\r\n    if (clength === tlength) {\r\n        return { added: [], removed: [], common: clength };\r\n    }\r\n    var removed = current.slice(Math.min(tlength, clength));\r\n    var added = target.slice(Math.min(tlength, clength));\r\n    return { added: added, removed: removed, common: clength - removed.length };\r\n}\r\nfunction updateFrozen(old, columns, first) {\r\n    var oldLast = old.length === 0 ? 0 : old[old.length - 1] + 1;\r\n    var added = [];\r\n    var removed = [];\r\n    for (var i = old.length - 1; i >= 0; --i) {\r\n        var index = old[i];\r\n        if (index >= first) {\r\n            removed.push(old.pop());\r\n        }\r\n        else {\r\n            break;\r\n        }\r\n    }\r\n    for (var i = oldLast; i < first; ++i) {\r\n        if (columns[i].frozen) {\r\n            added.push(i);\r\n            old.push(i);\r\n        }\r\n    }\r\n    return { target: old, added: added, removed: removed };\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvbG9naWMudHM/NzkwYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIGdlbmVyaWMgZXhjZXB0aW9uIG9mIGEgdW5pZm9ybSBzcGFjZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIElSb3dIZWlnaHRFeGNlcHRpb24ge1xuICAvKipcbiAgICogcmVmZXJlbmNlIGluZGV4XG4gICAqL1xuICByZWFkb25seSBpbmRleDogbnVtYmVyO1xuICAvKipcbiAgICogaGVpZ2h0IG9mIHRoZSBlbGVtZW50XG4gICAqL1xuICByZWFkb25seSBoZWlnaHQ6IG51bWJlcjtcbiAgLyoqXG4gICAqIHN0YXJ0aW5nIHlcbiAgICovXG4gIHJlYWRvbmx5IHk6IG51bWJlcjtcbiAgLyoqXG4gICAqIGVuZGluZyB5XG4gICAqL1xuICByZWFkb25seSB5MjogbnVtYmVyO1xufVxuXG5jbGFzcyBSb3dIZWlnaHRFeGNlcHRpb24gaW1wbGVtZW50cyBJUm93SGVpZ2h0RXhjZXB0aW9uIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGluZGV4OiBudW1iZXIsIHB1YmxpYyByZWFkb25seSB5OiBudW1iZXIsIHB1YmxpYyByZWFkb25seSBoZWlnaHQ6IG51bWJlcikge1xuXG4gIH1cblxuICBnZXQgeTIoKSB7XG4gICAgcmV0dXJuIHRoaXMueSArIHRoaXMuaGVpZ2h0O1xuICB9XG59XG5cbi8qKlxuICogc2ltbGlhciB0byBhIG1hcFxuICovXG5leHBvcnQgaW50ZXJmYWNlIElSb3dIZWlnaHRFeGNlcHRpb25Mb29rdXAge1xuICBrZXlzKCk6IEl0ZXJhYmxlSXRlcmF0b3I8bnVtYmVyPjtcblxuICBnZXQoaW5kZXg6IG51bWJlcik6IG51bWJlciB8IHVuZGVmaW5lZDtcblxuICBoYXMoaW5kZXg6IG51bWJlcik6IGJvb2xlYW47XG5cbiAgcmVhZG9ubHkgc2l6ZTogbnVtYmVyO1xufVxuXG4vKipcbiAqIGV4Y2VwdGlvbiBjb250ZXh0IGZvciBvcHRpbWl6ZWQgbm9uIHVuaWZvcm0gaGVpZ2h0IGV4Y2VwdGlvbnNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJRXhjZXB0aW9uQ29udGV4dCB7XG4gIC8qKlxuICAgKiBoZWlnaHQgZXhjZXB0aW9ucyBhcyBhIGxpc3RcbiAgICovXG4gIHJlYWRvbmx5IGV4Y2VwdGlvbnM6IElSb3dIZWlnaHRFeGNlcHRpb25bXTtcbiAgLyoqXG4gICAqIGxvb2t1cCBmb3IgdGhlIGhlaWdodCBvZiBhIGdpdmVuIGluZGV4LCBpZiBub3QgcGFydCBvZiB0aGlzIG1hcCBpdCBoYXMgdGhlIGRlZmF1bHQgaGVpZ2h0XG4gICAqL1xuICByZWFkb25seSBleGNlcHRpb25zTG9va3VwOiBJUm93SGVpZ2h0RXhjZXB0aW9uTG9va3VwO1xuICAvKipcbiAgICogbnVtYmVyIG9mIHJvd3NcbiAgICovXG4gIHJlYWRvbmx5IG51bWJlck9mUm93czogbnVtYmVyO1xuICAvKipcbiAgICogZGVmYXVsdCBoZWlnaHQgb2Ygcm93c1xuICAgKi9cbiAgcmVhZG9ubHkgZGVmYXVsdFJvd0hlaWdodDogbnVtYmVyO1xuICAvKipcbiAgICogdG90YWwgaGVpZ2h0XG4gICAqL1xuICByZWFkb25seSB0b3RhbEhlaWdodDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBwYWRkaW5nIGJldHdlZW4gcm93cywgaG93ZXZlciBhbHJlYWR5IGluY2x1ZGVkIGluIGFsbCBoZWlnaHRzIHRvIGhhdmUgdGhlIHByZWNpc2UgbnVtYmVyc1xuICAgKi9cbiAgcmVhZG9ubHkgcGFkZGluZzogKGluZGV4OiBudW1iZXIpID0+IG51bWJlcjtcbn1cblxuLyoqXG4gKiBjcmVhdGVzIGEgdW5pZm9ybSBleGNlcHRpb24gY29udGV4dCwgaS5lIG5vIGV4Y2VwdGlvbnMgYWxsIHJvd3MgYXJlIG9mIHRoZSBzYW1lIGhlaWdodFxuICogQHBhcmFtIHtudW1iZXJ9IG51bWJlck9mUm93c1xuICogQHBhcmFtIHtudW1iZXJ9IHJvd0hlaWdodFxuICogQHBhcmFtIHtudW1iZXJ9IHJvd1BhZGRpbmcgcGFkZGluZyBiZXR3ZWVuIHJvd3NcbiAqIEByZXR1cm4ge0lFeGNlcHRpb25Db250ZXh0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5pZm9ybUNvbnRleHQobnVtYmVyT2ZSb3dzOiBudW1iZXIsIHJvd0hlaWdodDogbnVtYmVyLCByb3dQYWRkaW5nOiBudW1iZXIgPSAwKTogSUV4Y2VwdGlvbkNvbnRleHQge1xuICByb3dIZWlnaHQgKz0gcm93UGFkZGluZztcbiAgY29uc3QgZXhjZXB0aW9uc0xvb2t1cCA9IHtcbiAgICBrZXlzOiAoKSA9PiBbXS52YWx1ZXMoKSxcbiAgICBnZXQ6ICgpID0+IHJvd0hlaWdodCxcbiAgICBoYXM6ICgpID0+IGZhbHNlLFxuICAgIHNpemU6IDBcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBleGNlcHRpb25zOiBbXSxcbiAgICBleGNlcHRpb25zTG9va3VwLFxuICAgIHRvdGFsSGVpZ2h0OiBudW1iZXJPZlJvd3MgKiByb3dIZWlnaHQsXG4gICAgbnVtYmVyT2ZSb3dzLFxuICAgIGRlZmF1bHRSb3dIZWlnaHQ6IHJvd0hlaWdodCxcbiAgICBwYWRkaW5nOiAoKSA9PiByb3dQYWRkaW5nXG4gIH07XG59XG5cbi8qKlxuICogY29tcHV0ZXMgdGhlIG1vc3QgZnJlcXVlbnQgdmFsdWUgaW4gYSBnaXZlbiBhcnJheSBsaWtlXG4gKiBAcGFyYW0ge30gdmFsdWVzXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIG1vc3RGcmVxdWVudFZhbHVlKHZhbHVlczogeyBmb3JFYWNoOiAoY2FsbGJhY2s6IChoZWlnaHQ6IG51bWJlciwgaW5kZXg6IG51bWJlcikgPT4gYW55KSA9PiBhbnkgfSk6IG51bWJlciB7XG4gIGNvbnN0IGxvb2t1cCA9IG5ldyBNYXA8bnVtYmVyLCBudW1iZXI+KCk7XG4gIHZhbHVlcy5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xuICAgIGxvb2t1cC5zZXQodmFsdWUsIChsb29rdXAuZ2V0KHZhbHVlKSB8fCAwKSArIDEpO1xuICB9KTtcbiAgaWYgKGxvb2t1cC5zaXplID09PSAwKSB7XG4gICAgcmV0dXJuIDIwOyAvLyBkZWZhdWx0IHZhbHVlIHNpbmNlIGl0IGRvZXNuJ3QgbWF0dGVyXG4gIH1cbiAgLy8gc29ydCBkZXNjIHRha2UgZmlyc3Qga2V5IGFuZCBhc2MgYnkgdGhlIHNlY29uZCBpbiBjYXNlIG9mIHRpZSwgaXQgaXMgb3B0aW1pemVkIHRvIGhhdmUgZXhjZXB0aW9ucyBmb3IgaGlnaGVyIHJvd3MgbGVzcyBmb3IgYmlnIHJvd3NcbiAgY29uc3Qgc29ydGVkID0gQXJyYXkuZnJvbShsb29rdXApLnNvcnQoKGEsIGIpID0+IHtcbiAgICBpZiAoYVsxXSAhPT0gYlsxXSkge1xuICAgICAgcmV0dXJuIGJbMV0gLSBhWzFdO1xuICAgIH1cbiAgICByZXR1cm4gYVswXSAtIGJbMF07XG4gIH0pO1xuICBjb25zdCBtb3N0RnJlcXVlbnQgPSBzb3J0ZWRbMF1bMF07XG4gIGlmIChtb3N0RnJlcXVlbnQgPT09IDApIHsgLy8gY29ybmVyY2FzZVxuICAgIHJldHVybiBzb3J0ZWQubGVuZ3RoID4gMSA/IHNvcnRlZFsxXVswXSA6IDIwOyAvLyBhbGwgZW1wdHlcbiAgfVxuICByZXR1cm4gbW9zdEZyZXF1ZW50O1xufVxuXG4vKipcbiAqIGNyZWF0ZXMgYSBub24gdW5pZm9ybSBjb250ZXh0IGJhc2VkIG9uIHRoZSBnaXZlbiBhcnJheSBsaWtlIGhlaWdodHNcbiAqIEBwYXJhbSByb3dIZWlnaHRzIGFycmF5aXNoIHRvIGdldCB0aGUgaGVpZ2h0c1xuICogQHBhcmFtIHtudW1iZXJ9IGRlZmF1bHRSb3dIZWlnaHQgaWYgbm90IGdpdmVuIHRoZSBtb3N0IGZyZXF1ZW50IHZhbHVlIHdpbGwgYmUgdXNlZFxuICogQHBhcmFtIHtudW1iZXJ9IHJvd1BhZGRpbmcgcGFkZGluZyBiZXR3ZWVuIHJvd3NcbiAqIEByZXR1cm4ge0lFeGNlcHRpb25Db250ZXh0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9uVW5pZm9ybUNvbnRleHQocm93SGVpZ2h0czogeyBmb3JFYWNoOiAoY2FsbGJhY2s6IChoZWlnaHQ6IG51bWJlciwgaW5kZXg6IG51bWJlcikgPT4gYW55KSA9PiBhbnkgfSwgZGVmYXVsdFJvd0hlaWdodDogbnVtYmVyID0gTmFOLCByb3dQYWRkaW5nOiBudW1iZXIgfCAoKGluZGV4OiBudW1iZXIpID0+IG51bWJlcikgPSAwKTogSUV4Y2VwdGlvbkNvbnRleHQge1xuICBjb25zdCBleGNlcHRpb25zTG9va3VwID0gbmV3IE1hcDxudW1iZXIsIG51bWJlcj4oKTtcbiAgY29uc3QgZXhjZXB0aW9uczogSVJvd0hlaWdodEV4Y2VwdGlvbltdID0gW107XG5cbiAgY29uc3QgcGFkZGluZyA9IHR5cGVvZiByb3dQYWRkaW5nID09PSAnZnVuY3Rpb24nID8gcm93UGFkZGluZyA6ICgpID0+IDxudW1iZXI+cm93UGFkZGluZztcblxuICBpZiAoaXNOYU4oZGVmYXVsdFJvd0hlaWdodCkpIHtcbiAgICBkZWZhdWx0Um93SGVpZ2h0ID0gbW9zdEZyZXF1ZW50VmFsdWUocm93SGVpZ2h0cyk7XG4gIH1cblxuICBkZWZhdWx0Um93SGVpZ2h0ICs9IHBhZGRpbmcoLTEpO1xuXG4gIGxldCBwcmV2ID0gLTEsIGFjYyA9IDAsIHRvdGFsSGVpZ2h0ID0gMCwgbnVtYmVyT2ZSb3dzID0gMDtcbiAgcm93SGVpZ2h0cy5mb3JFYWNoKChoZWlnaHQsIGluZGV4KSA9PiB7XG4gICAgaGVpZ2h0ICs9IHBhZGRpbmcoaW5kZXgpO1xuICAgIHRvdGFsSGVpZ2h0ICs9IGhlaWdodDtcbiAgICBudW1iZXJPZlJvd3MrKztcbiAgICBpZiAoaGVpZ2h0ID09PSBkZWZhdWx0Um93SGVpZ2h0KSB7XG4gICAgICAvL3JlZ3VsYXJcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZXhjZXB0aW9uc0xvb2t1cC5zZXQoaW5kZXgsIGhlaWdodCk7XG4gICAgY29uc3QgYmV0d2VlbiA9IChpbmRleCAtIHByZXYgLSAxKSAqIGRlZmF1bHRSb3dIZWlnaHQ7XG4gICAgcHJldiA9IGluZGV4O1xuICAgIGNvbnN0IHkgPSBhY2MgKyBiZXR3ZWVuO1xuICAgIGFjYyA9IHkgKyBoZWlnaHQ7XG4gICAgZXhjZXB0aW9ucy5wdXNoKG5ldyBSb3dIZWlnaHRFeGNlcHRpb24oaW5kZXgsIHksIGhlaWdodCkpO1xuICB9KTtcbiAgcmV0dXJuIHtleGNlcHRpb25zTG9va3VwLCBleGNlcHRpb25zLCB0b3RhbEhlaWdodCwgZGVmYXVsdFJvd0hlaWdodCwgbnVtYmVyT2ZSb3dzLCBwYWRkaW5nfTtcbn1cblxuLyoqXG4gKiBjcmVhdGVzIGEgcmFuZG9tIGNvbnRleHQgd2l0aCB0aGUgZ2l2ZW4gY29uc3RyYWludHNcbiAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXJPZlJvd3NcbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWZhdWx0Um93SGVpZ2h0XG4gKiBAcGFyYW0ge251bWJlcn0gbWluUm93SGVpZ2h0XG4gKiBAcGFyYW0ge251bWJlcn0gbWF4Um93SGVpZ2h0XG4gKiBAcGFyYW0ge251bWJlcn0gcmF0aW8gYXJvdW5kIHJhdGlvIHBlcmNlbnQgd2lsbCBnZXQgYSBub24gdW5pZm9ybSBoZWlnaHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBzZWVkIHJhbmRvbSBzZWVkXG4gKiBAcmV0dXJuIHtJRXhjZXB0aW9uQ29udGV4dH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbUNvbnRleHQobnVtYmVyT2ZSb3dzOiBudW1iZXIsIGRlZmF1bHRSb3dIZWlnaHQ6IG51bWJlciwgbWluUm93SGVpZ2h0ID0gMiwgbWF4Um93SGVpZ2h0ID0gZGVmYXVsdFJvd0hlaWdodCAqIDEwLCByYXRpbyA9IDAuMiwgc2VlZCA9IERhdGUubm93KCkpIHtcbiAgbGV0IGFjdFNlZWQgPSBzZWVkO1xuICBjb25zdCByYW5kb20gPSAoKSA9PiB7XG4gICAgY29uc3QgeCA9IE1hdGguc2luKGFjdFNlZWQrKykgKiAxMDAwMDtcbiAgICByZXR1cm4geCAtIE1hdGguZmxvb3IoeCk7XG4gIH07XG5cblxuICBjb25zdCBnZXR0ZXIgPSAoKSA9PiB7XG4gICAgY29uc3QgY29pbiA9IHJhbmRvbSgpO1xuICAgIGlmIChjb2luIDwgcmF0aW8pIHtcbiAgICAgIC8vbm9uIHVuaWZvcm1cbiAgICAgIHJldHVybiBtaW5Sb3dIZWlnaHQgKyBNYXRoLnJvdW5kKHJhbmRvbSgpICogKG1heFJvd0hlaWdodCAtIG1pblJvd0hlaWdodCkpO1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdFJvd0hlaWdodDtcbiAgfTtcbiAgY29uc3QgZm9yRWFjaCA9IChjYWxsYmFjazogKGhlaWdodDogbnVtYmVyLCBpbmRleDogbnVtYmVyKSA9PiBhbnkpID0+IHtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbnVtYmVyT2ZSb3dzOyArK2luZGV4KSB7XG4gICAgICBjYWxsYmFjayhnZXR0ZXIoKSwgaW5kZXgpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIG5vblVuaWZvcm1Db250ZXh0KHtmb3JFYWNofSwgZGVmYXVsdFJvd0hlaWdodCk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVZpc2libGVSYW5nZSB7XG4gIC8qKlxuICAgKiBmaXJzdCB2aXNpYmxlIGluZGV4XG4gICAqL1xuICByZWFkb25seSBmaXJzdDogbnVtYmVyO1xuICAvKipcbiAgICogbGFzdCB2aXNpYmxlIGluZGV4XG4gICAqL1xuICByZWFkb25seSBsYXN0OiBudW1iZXI7XG4gIC8qKlxuICAgKiBwb3NpdGlvbiBvZiB0aGUgZmlyc3QgdmlzaWJsZSByb3cgaW4gcGl4ZWxcbiAgICovXG4gIHJlYWRvbmx5IGZpcnN0Um93UG9zOiBudW1iZXI7XG4gIC8qKlxuICAgKiBwb3NpdGlvbiBvZiB0aGUgbGFzdCB2aXNpYmxlIHJvdyBpbmNsdWRpbmdzIGl0cyBzaXplXG4gICAqL1xuICByZWFkb25seSBlbmRQb3M6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBjb21wdXRlcyB0aGUgdmlzaWJsZSByYW5nZVxuICogQHBhcmFtIHtudW1iZXJ9IHNjcm9sbFRvcCB0b3Agc2Nyb2xsaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gY2xpZW50SGVpZ2h0IHZpc2libGUgaGVpZ2h0XG4gKiBAcGFyYW0ge251bWJlcn0gcm93SGVpZ2h0IGhlaWdodCBvZiBhIHJvdyBieSBkZWZhdWx0XG4gKiBAcGFyYW0ge0lSb3dIZWlnaHRFeGNlcHRpb25bXX0gaGVpZ2h0RXhjZXB0aW9ucyBleGNlcHRpb25zIG9mIHRoaXMgZGVmYXVsdCBoZWlnaHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXJPZlJvd3MgdGhlIG51bWJlciBvZiByb3dzXG4gKiBAcmV0dXJuIHtJVmlzaWJsZVJhbmdlfSB0aGUgY29tcHV0ZWQgdmlzaWJsZSByYW5nZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFuZ2Uoc2Nyb2xsVG9wOiBudW1iZXIsIGNsaWVudEhlaWdodDogbnVtYmVyLCByb3dIZWlnaHQ6IG51bWJlciwgaGVpZ2h0RXhjZXB0aW9uczogSVJvd0hlaWdodEV4Y2VwdGlvbltdLCBudW1iZXJPZlJvd3M6IG51bWJlcik6IElWaXNpYmxlUmFuZ2Uge1xuICBpZiAobnVtYmVyT2ZSb3dzID09PSAwKSB7XG4gICAgcmV0dXJuIHtmaXJzdDogMCwgbGFzdDogLTEsIGZpcnN0Um93UG9zOiAwLCBlbmRQb3M6IDB9O1xuICB9XG4gIGlmIChudW1iZXJPZlJvd3MgPT09IDEpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZmlyc3Q6IDAsXG4gICAgICBsYXN0OiAwLFxuICAgICAgZmlyc3RSb3dQb3M6IDAsXG4gICAgICBlbmRQb3M6IGhlaWdodEV4Y2VwdGlvbnMubGVuZ3RoID09PSAwID8gcm93SGVpZ2h0IDogaGVpZ2h0RXhjZXB0aW9uc1swXS55MlxuICAgIH07XG4gIH1cbiAgY29uc3Qgb2Zmc2V0ID0gc2Nyb2xsVG9wO1xuICBjb25zdCBvZmZzZXQyID0gb2Zmc2V0ICsgY2xpZW50SGVpZ2h0O1xuXG4gIGZ1bmN0aW9uIGluZGV4T2YocG9zOiBudW1iZXIsIGluZGV4U2hpZnQ6IG51bWJlcikge1xuICAgIHJldHVybiBNYXRoLm1pbihudW1iZXJPZlJvd3MgLSAxLCBpbmRleFNoaWZ0ICsgTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihwb3MgLyByb3dIZWlnaHQpKSk7XG4gIH1cblxuICBmdW5jdGlvbiBjYWxjKG9mZnNldFNoaWZ0OiBudW1iZXIsIGluZGV4U2hpZnQ6IG51bWJlciwgaXNHdWVzczogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgY29uc3Qgc2hpZnRlZCA9IG9mZnNldCAtIG9mZnNldFNoaWZ0O1xuICAgIGNvbnN0IHNoaWZ0ZWQyID0gb2Zmc2V0MiAtIG9mZnNldFNoaWZ0O1xuXG4gICAgY29uc3QgZmlyc3QgPSBpbmRleE9mKHNoaWZ0ZWQsIGluZGV4U2hpZnQpO1xuICAgIGNvbnN0IGxhc3QgPSBpbmRleE9mKHNoaWZ0ZWQyLCBpbmRleFNoaWZ0KTtcblxuICAgIGNvbnN0IGZpcnN0Um93UG9zID0gb2Zmc2V0U2hpZnQgKyAoZmlyc3QgLSBpbmRleFNoaWZ0KSAqIHJvd0hlaWdodDtcbiAgICBjb25zdCBlbmRQb3MgPSBvZmZzZXRTaGlmdCArIChsYXN0ICsgMSAtIGluZGV4U2hpZnQpICogcm93SGVpZ2h0O1xuXG4gICAgLy9pZiAoIWlzR3Vlc3MpIHtcbiAgICAvLyAgY29uc29sZS5sb2coZmlyc3QsICdAJywgZmlyc3RSb3dQb3MsIGxhc3QsICcjJywgZW5kLCBvZmZzZXQsIG9mZnNldDIsIGZpcnN0Um93UG9zIDw9IG9mZnNldCwgb2Zmc2V0MiA8PSBlbmQpO1xuICAgIC8vfVxuICAgIGNvbnNvbGUuYXNzZXJ0KCFpc0d1ZXNzIHx8ICEoZmlyc3RSb3dQb3MgPiBvZmZzZXQgfHwgKGVuZFBvcyA8IG9mZnNldDIgJiYgbGFzdCA8IG51bWJlck9mUm93cyAtIDEpKSwgJ2Vycm9yJywgaXNHdWVzcywgZmlyc3RSb3dQb3MsIGVuZFBvcywgb2Zmc2V0LCBvZmZzZXQyLCBpbmRleFNoaWZ0LCBvZmZzZXRTaGlmdCk7XG4gICAgcmV0dXJuIHtmaXJzdCwgbGFzdCwgZmlyc3RSb3dQb3MsIGVuZFBvc307XG4gIH1cblxuICBjb25zdCByID0gY2FsYygwLCAwLCB0cnVlKTtcbiAgaWYgKGhlaWdodEV4Y2VwdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgLy91bmlmb3JtXG4gICAgcmV0dXJuIHI7XG4gIH1cbiAgaWYgKHIubGFzdCA8IGhlaWdodEV4Y2VwdGlvbnNbMF0uaW5kZXgpIHtcbiAgICAvL2NvbnNvbGUubG9nKCdiZWZvcmUgdGhlIGZpcnN0IGV4Y2VwdGlvbiA9IHVuaWZvcm0gd2l0aCBubyBzaGlmdCcpO1xuICAgIC8vY29uc29sZS5sb2coci5maXJzdCwgJ0AnLCByLmZpcnN0Um93UG9zLCByLmxhc3QsICcjJywgci5lbmQsIG9mZnNldCwgb2Zmc2V0Miwgci5maXJzdFJvd1BvcyA8PSBvZmZzZXQsIG9mZnNldDIgPD0gci5lbmQpO1xuICAgIHJldHVybiByO1xuICB9XG4gIGlmIChyLmxhc3QgPT09IGhlaWdodEV4Y2VwdGlvbnNbMF0uaW5kZXggJiYgaGVpZ2h0RXhjZXB0aW9uc1swXS5oZWlnaHQgPiByb3dIZWlnaHQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihyLCB7ZW5kUG9zOiBoZWlnaHRFeGNlcHRpb25zWzBdLnkyfSk7XG4gIH1cblxuICAvL3RoZSBwb3NpdGlvbiB3aGVyZSB0aGUgZXhjZXB0aW9ucyBlbmRzXG4gIGNvbnN0IGxhc3RQb3MgPSBoZWlnaHRFeGNlcHRpb25zW2hlaWdodEV4Y2VwdGlvbnMubGVuZ3RoIC0gMV07XG4gIGlmIChvZmZzZXQgPj0gbGFzdFBvcy55KSB7XG4gICAgY29uc3QgcmVzdCA9IGNhbGMobGFzdFBvcy55MiwgbGFzdFBvcy5pbmRleCArIDEpO1xuICAgIGlmIChvZmZzZXQgPCBsYXN0UG9zLnkyKSB7XG4gICAgICAvLyBpbmNsdWRlIG1lXG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihyZXN0LCB7Zmlyc3Q6IGxhc3RQb3MuaW5kZXgsIGZpcnN0Um93UG9zOiBsYXN0UG9zLnl9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3Q7XG4gIH1cbiAgLy93ZSBoYXZlIHNvbWUgZXhjZXB0aW9uc1xuICBjb25zdCB2aXNpYmxlOiBJUm93SGVpZ2h0RXhjZXB0aW9uW10gPSBbXTtcbiAgbGV0IGNsb3Nlc3QgPSBoZWlnaHRFeGNlcHRpb25zWzBdOyAvL2Nsb3Nlc3QgYmVmb3JlIG5vdCBpbiByYW5nZVxuICBmb3IgKGNvbnN0IGl0ZW0gb2YgaGVpZ2h0RXhjZXB0aW9ucykge1xuICAgIGNvbnN0IHt5LCB5Mn0gPSBpdGVtO1xuICAgIGlmICh5ID49IG9mZnNldDIpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoeTIgPD0gb2Zmc2V0KSB7XG4gICAgICBjbG9zZXN0ID0gaXRlbTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB2aXNpYmxlLnB1c2goaXRlbSk7XG4gIH1cblxuICBpZiAodmlzaWJsZS5sZW5ndGggPT09IDApIHtcbiAgICAvL2NvbnNvbGUubG9nKCd3ZSBhcmUgaW4gdGhlIGJldHdlZW4gc29tZSBleGNlcHRpb25zIGFuZCBub25lIGFyZSB2aXNpYmxlJyk7XG4gICAgcmV0dXJuIGNhbGMoY2xvc2VzdC55MiwgY2xvc2VzdC5pbmRleCArIDEpOyAvL3NraXAgbXlzZWxmXG4gIH1cblxuICB7XG4gICAgLy9jb25zb2xlLmxvZygnd2Ugc2hvdyBhdCBsZWFzdCBvbmUgZXhjZXB0aW9uJyk7XG4gICAgY29uc3QgZmlyc3RFeGNlcHRpb24gPSB2aXNpYmxlWzBdO1xuICAgIGNvbnN0IGxhc3RFeGNlcHRpb24gPSB2aXNpYmxlW3Zpc2libGUubGVuZ3RoIC0gMV07XG5cbiAgICBjb25zdCBmaXJzdCA9IE1hdGgubWF4KDAsIGZpcnN0RXhjZXB0aW9uLmluZGV4IC0gTWF0aC5tYXgoMCwgTWF0aC5jZWlsKChmaXJzdEV4Y2VwdGlvbi55IC0gb2Zmc2V0KSAvIHJvd0hlaWdodCkpKTtcbiAgICBsZXQgbGFzdCA9IGxhc3RFeGNlcHRpb24uaW5kZXg7XG4gICAgaWYgKG9mZnNldDIgPj0gbGFzdEV4Y2VwdGlvbi55Mikge1xuICAgICAgbGFzdCA9IGluZGV4T2Yob2Zmc2V0MiAtIGxhc3RFeGNlcHRpb24ueTIsIGxhc3RFeGNlcHRpb24uaW5kZXggKyAxKTtcbiAgICB9XG4gICAgY29uc3QgZmlyc3RSb3dQb3MgPSBmaXJzdEV4Y2VwdGlvbi55IC0gKGZpcnN0RXhjZXB0aW9uLmluZGV4IC0gZmlyc3QpICogcm93SGVpZ2h0O1xuICAgIGNvbnN0IGVuZFBvcyA9IGxhc3RFeGNlcHRpb24ueTIgKyAobGFzdCAtIGxhc3RFeGNlcHRpb24uaW5kZXgpICogcm93SGVpZ2h0O1xuXG4gICAgLy9jb25zb2xlLmxvZyhmaXJzdCwgJ0AnLCBmaXJzdFJvd1BvcywgbGFzdCwgJyMnLCBlbmQsIG9mZnNldCwgb2Zmc2V0MiwgZmlyc3RSb3dQb3MgPD0gb2Zmc2V0LCBvZmZzZXQyIDw9IGVuZCk7XG5cbiAgICBjb25zb2xlLmFzc2VydChmaXJzdFJvd1BvcyA8PSBvZmZzZXQgJiYgKGVuZFBvcyA+PSBvZmZzZXQyIHx8IGxhc3QgPT09IG51bWJlck9mUm93cyAtIDEpLCAnZXJyb3InLCBmaXJzdFJvd1BvcywgZW5kUG9zLCBvZmZzZXQsIG9mZnNldDIsIGZpcnN0RXhjZXB0aW9uLCBsYXN0RXhjZXB0aW9uKTtcbiAgICByZXR1cm4ge2ZpcnN0LCBsYXN0LCBmaXJzdFJvd1BvcywgZW5kUG9zfTtcbiAgfVxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm96ZW5EZWx0YShjdXJyZW50OiBudW1iZXJbXSwgdGFyZ2V0OiBudW1iZXJbXSk6IHsgYWRkZWQ6IG51bWJlcltdLCByZW1vdmVkOiBudW1iZXJbXSwgY29tbW9uOiBudW1iZXIgfSB7XG4gIGNvbnN0IGNsZW5ndGggPSBjdXJyZW50Lmxlbmd0aDtcbiAgY29uc3QgdGxlbmd0aCA9IHRhcmdldC5sZW5ndGg7XG4gIGlmIChjbGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHthZGRlZDogdGFyZ2V0LCByZW1vdmVkOiBbXSwgY29tbW9uOiAwfTtcbiAgfVxuICBpZiAodGxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB7YWRkZWQ6IFtdLCByZW1vdmVkOiBjdXJyZW50LCBjb21tb246IDB9O1xuICB9XG4gIGlmIChjbGVuZ3RoID09PSB0bGVuZ3RoKSB7IC8vc2luY2Ugc29ydGVkIGFuZCBsZWZ0IGluY3JlYXNpbmcgdHJ1ZVxuICAgIHJldHVybiB7YWRkZWQ6IFtdLCByZW1vdmVkOiBbXSwgY29tbW9uOiBjbGVuZ3RofTtcbiAgfVxuICBjb25zdCByZW1vdmVkID0gY3VycmVudC5zbGljZShNYXRoLm1pbih0bGVuZ3RoLCBjbGVuZ3RoKSk7XG4gIGNvbnN0IGFkZGVkID0gdGFyZ2V0LnNsaWNlKE1hdGgubWluKHRsZW5ndGgsIGNsZW5ndGgpKTtcbiAgcmV0dXJuIHthZGRlZCwgcmVtb3ZlZCwgY29tbW9uOiBjbGVuZ3RoIC0gcmVtb3ZlZC5sZW5ndGh9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlRnJvemVuKG9sZDogbnVtYmVyW10sIGNvbHVtbnM6IHsgZnJvemVuOiBib29sZWFuIH1bXSwgZmlyc3Q6IG51bWJlcik6IHsgdGFyZ2V0OiBudW1iZXJbXSwgYWRkZWQ6IG51bWJlcltdLCByZW1vdmVkOiBudW1iZXJbXSB9IHtcbiAgY29uc3Qgb2xkTGFzdCA9IG9sZC5sZW5ndGggPT09IDAgPyAwIDogb2xkW29sZC5sZW5ndGggLSAxXSArIDE7XG4gIGNvbnN0IGFkZGVkOiBudW1iZXJbXSA9IFtdO1xuICBjb25zdCByZW1vdmVkOiBudW1iZXJbXSA9IFtdO1xuXG4gIGZvciAobGV0IGkgPSBvbGQubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICBjb25zdCBpbmRleCA9IG9sZFtpXTtcbiAgICBpZiAoaW5kZXggPj0gZmlyc3QpIHtcbiAgICAgIHJlbW92ZWQucHVzaChvbGQucG9wKCkhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gY2FuIHN0b3Agc2luY2Ugc29ydGVkIGFuZCBpdCB3aWxsIG5ldmVyIGhhcHBlbiBhZ2FpblxuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIC8vYWRkZWRcbiAgZm9yIChsZXQgaSA9IG9sZExhc3Q7IGkgPCBmaXJzdDsgKytpKSB7XG4gICAgaWYgKGNvbHVtbnNbaV0uZnJvemVuKSB7XG4gICAgICBhZGRlZC5wdXNoKGkpO1xuICAgICAgb2xkLnB1c2goaSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB7dGFyZ2V0OiBvbGQsIGFkZGVkLCByZW1vdmVkfTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvbG9naWMudHMiXSwibWFwcGluZ3MiOiJBQXNCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBcURBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFZQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE4QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__IMixin__ = __webpack_require__(7);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return __WEBPACK_IMPORTED_MODULE_0__IMixin__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__PrefetchMixin__ = __webpack_require__(14);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return __WEBPACK_IMPORTED_MODULE_1__PrefetchMixin__[\"a\"]; });\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvbWl4aW4vaW5kZXgudHM/ODJlNiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQge0lNaXhpbiwgSU1peGluQWRhcHRlciwgSU1peGluQ2xhc3MsIEVTY3JvbGxSZXN1bHR9IGZyb20gJy4vSU1peGluJztcbmV4cG9ydCB7ZGVmYXVsdCBhcyBQcmVmZXRjaE1peGlufSBmcm9tICcuL1ByZWZldGNoTWl4aW4nO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9taXhpbi9pbmRleC50cyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (immutable) */ __webpack_exports__[\"a\"] = __extends;\n/* unused harmony export __assign */\n/* unused harmony export __rest */\n/* unused harmony export __decorate */\n/* unused harmony export __param */\n/* unused harmony export __metadata */\n/* unused harmony export __awaiter */\n/* unused harmony export __generator */\n/* unused harmony export __exportStar */\n/* unused harmony export __values */\n/* unused harmony export __read */\n/* unused harmony export __spread */\n/* unused harmony export __await */\n/* unused harmony export __asyncGenerator */\n/* unused harmony export __asyncDelegator */\n/* unused harmony export __asyncValues */\n/* unused harmony export __makeTemplateObject */\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nfunction __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nfunction __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nfunction __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nfunction __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nfunction __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nfunction __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nfunction __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nfunction __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanM/NGQzYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMClcclxuICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZShyZXN1bHQudmFsdWUpOyB9KS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IHlbb3BbMF0gJiAyID8gXCJyZXR1cm5cIiA6IG9wWzBdID8gXCJ0aHJvd1wiIDogXCJuZXh0XCJdKSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFswLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyAgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaWYgKG9bbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH07IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl07XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ARowRenderer; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__abortAble__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__animation__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__animation_KeyFinder__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__logic__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__mixin__ = __webpack_require__(1);\n\r\n\r\n\r\n\r\n\r\nvar ARowRenderer = (function () {\r\n    function ARowRenderer(body, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = this;\r\n        this.body = body;\r\n        this.pool = [];\r\n        this.loadingPool = [];\r\n        this.loading = new Map();\r\n        this.visible = {\r\n            first: 0,\r\n            forcedFirst: 0,\r\n            last: -1,\r\n            forcedLast: -1\r\n        };\r\n        this.visibleFirstRowPos = 0;\r\n        this.abortAnimation = function () { return undefined; };\r\n        this.options = {\r\n            async: Boolean(window.chrome) ? 'animation' : 'immediate',\r\n            minScrollDelta: 3,\r\n            mixins: [],\r\n            scrollingHint: false\r\n        };\r\n        this.adapter = this.createAdapter();\r\n        Object.assign(this.options, options);\r\n        this.mixins = this.options.mixins.map(function (mixinClass) { return new mixinClass(_this.adapter); });\r\n        this.fragment = body.ownerDocument.createDocumentFragment();\r\n    }\r\n    ARowRenderer.prototype.addMixin = function (mixinClass, options) {\r\n        this.mixins.push(new mixinClass(this.adapter, options));\r\n    };\r\n    ARowRenderer.prototype.createAdapter = function () {\r\n        var _this = this;\r\n        var r = {\r\n            visible: this.visible,\r\n            addAtBeginning: this.addAtBeginning.bind(this),\r\n            addAtBottom: this.addAtBottom.bind(this),\r\n            removeFromBeginning: this.removeFromBeginning.bind(this),\r\n            removeFromBottom: this.removeFromBottom.bind(this),\r\n            updateOffset: this.updateOffset.bind(this),\r\n            scroller: this.bodyScroller\r\n        };\r\n        Object.defineProperties(r, {\r\n            visibleFirstRowPos: {\r\n                get: function () { return _this.visibleFirstRowPos; },\r\n                enumerable: true\r\n            },\r\n            context: {\r\n                get: function () { return _this.context; },\r\n                enumerable: true\r\n            }\r\n        });\r\n        return r;\r\n    };\r\n    Object.defineProperty(ARowRenderer.prototype, \"bodyScroller\", {\r\n        get: function () {\r\n            return this.body.parentElement;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ARowRenderer.prototype.init = function () {\r\n        var _this = this;\r\n        var scroller = this.bodyScroller;\r\n        var oldTop = scroller.scrollTop;\r\n        var oldHeight = scroller.clientHeight;\r\n        var handler = function () {\r\n            var top = scroller.scrollTop;\r\n            var height = scroller.clientHeight;\r\n            if (Math.abs(oldTop - top) < _this.options.minScrollDelta && Math.abs(oldHeight - height) < _this.options.minScrollDelta) {\r\n                return;\r\n            }\r\n            var isGoingDown = top > oldTop;\r\n            oldTop = top;\r\n            oldHeight = height;\r\n            _this.onScrolledVertically(top, height, isGoingDown);\r\n            if (_this.options.scrollingHint) {\r\n                scroller.classList.remove('le-scrolling');\r\n            }\r\n        };\r\n        this.scrollListener = this.createDelayedHandler(handler, function () {\r\n            if (_this.options.scrollingHint) {\r\n                scroller.classList.add('le-scrolling');\r\n            }\r\n        });\r\n        scroller.addEventListener('scroll', this.scrollListener);\r\n        this.recreate();\r\n    };\r\n    ARowRenderer.prototype.createDelayedHandler = function (delayedHandler, immediateCallback) {\r\n        var _this = this;\r\n        var hasImmediate = typeof (window.setImmediate) === 'function';\r\n        var delayer;\r\n        if (this.options.async === 'immediate' && hasImmediate) {\r\n            delayer = setImmediate;\r\n        }\r\n        else if (this.options.async === 'animation' || this.options.async === 'immediate') {\r\n            delayer = requestAnimationFrame;\r\n        }\r\n        else if (typeof this.options.async === 'number') {\r\n            delayer = function (c) { return self.setTimeout(c, _this.options.async); };\r\n        }\r\n        else {\r\n            delayer = function (c) {\r\n                c();\r\n                return -1;\r\n            };\r\n        }\r\n        var timeOut = -1;\r\n        var wrapper = function () {\r\n            timeOut = -1;\r\n            delayedHandler();\r\n        };\r\n        return function () {\r\n            if (immediateCallback) {\r\n                immediateCallback();\r\n            }\r\n            if (timeOut > -1) {\r\n                return;\r\n            }\r\n            timeOut = delayer(wrapper);\r\n        };\r\n    };\r\n    ARowRenderer.prototype.destroy = function () {\r\n        this.bodyScroller.removeEventListener('scroll', this.scrollListener);\r\n        this.body.remove();\r\n    };\r\n    ARowRenderer.cleanUp = function (item) {\r\n        if (item.style.height) {\r\n            item.style.height = null;\r\n        }\r\n    };\r\n    ARowRenderer.prototype.select = function (index) {\r\n        var item;\r\n        var result;\r\n        if (this.pool.length > 0) {\r\n            item = this.pool.pop();\r\n            result = this.updateRow(item, index);\r\n        }\r\n        else if (this.loadingPool.length > 0) {\r\n            item = this.loadingPool.pop();\r\n            item.classList.remove('loading');\r\n            result = this.createRow(item, index);\r\n        }\r\n        else {\r\n            item = this.body.ownerDocument.createElement('div');\r\n            result = this.createRow(item, index);\r\n        }\r\n        item.dataset.index = String(index);\r\n        return { item: item, result: result };\r\n    };\r\n    ARowRenderer.prototype.selectProxy = function () {\r\n        var proxy;\r\n        if (this.loadingPool.length > 0) {\r\n            proxy = this.loadingPool.pop();\r\n        }\r\n        else {\r\n            proxy = this.body.ownerDocument.createElement('div');\r\n            proxy.classList.add('loading');\r\n        }\r\n        return proxy;\r\n    };\r\n    ARowRenderer.prototype.recycle = function (item) {\r\n        ARowRenderer.cleanUp(item);\r\n        if (this.loading.has(item)) {\r\n            var abort = this.loading.get(item);\r\n            abort.abort();\r\n        }\r\n        else {\r\n            this.pool.push(item);\r\n        }\r\n    };\r\n    ARowRenderer.prototype.proxy = function (item, result) {\r\n        var _this = this;\r\n        if (!Object(__WEBPACK_IMPORTED_MODULE_0__abortAble__[\"b\" /* isAbortAble */])(result)) {\r\n            return item;\r\n        }\r\n        var abort = result;\r\n        var real = item;\r\n        var proxy = this.selectProxy();\r\n        proxy.dataset.index = real.dataset.index;\r\n        proxy.style.height = real.style.height;\r\n        this.loading.set(proxy, abort);\r\n        abort.then(function (result) {\r\n            if (result === __WEBPACK_IMPORTED_MODULE_0__abortAble__[\"a\" /* ABORTED */]) {\r\n                ARowRenderer.cleanUp(real);\r\n                _this.pool.push(real);\r\n            }\r\n            else {\r\n                _this.body.replaceChild(real, proxy);\r\n            }\r\n            _this.loading.delete(proxy);\r\n            ARowRenderer.cleanUp(proxy);\r\n            _this.loadingPool.push(proxy);\r\n        });\r\n        return proxy;\r\n    };\r\n    ARowRenderer.prototype.create = function (index) {\r\n        var _a = this.select(index), item = _a.item, result = _a.result;\r\n        var _b = this.context, ex = _b.exceptionsLookup, padding = _b.padding;\r\n        if (ex.has(index)) {\r\n            item.style.height = ex.get(index) - padding(index) + \"px\";\r\n        }\r\n        return this.proxy(item, result);\r\n    };\r\n    ARowRenderer.prototype.removeAll = function () {\r\n        var _this = this;\r\n        var arr = Array.from(this.body.children);\r\n        this.body.innerHTML = '';\r\n        arr.forEach(function (item) {\r\n            _this.recycle(item);\r\n        });\r\n    };\r\n    ARowRenderer.prototype.update = function () {\r\n        var _this = this;\r\n        var first = this.visible.first;\r\n        var fragment = this.fragment;\r\n        var items = Array.from(this.body.children);\r\n        this.body.innerHTML = '';\r\n        items.forEach(function (item, i) {\r\n            if (_this.loading.has(item)) {\r\n                return;\r\n            }\r\n            var abort = _this.updateRow(item, i + first);\r\n            fragment.appendChild(_this.proxy(item, abort));\r\n        });\r\n        this.body.appendChild(fragment);\r\n    };\r\n    ARowRenderer.prototype.forEachRow = function (callback, inplace) {\r\n        var _this = this;\r\n        if (inplace === void 0) { inplace = false; }\r\n        var rows = Array.from(this.body.children);\r\n        var fragment = this.fragment;\r\n        if (!inplace) {\r\n            this.body.innerHTML = '';\r\n        }\r\n        rows.forEach(function (row, index) {\r\n            if (!row.classList.contains('loading') && row.dataset.animation !== 'update_remove' && row.dataset.animation !== 'hide') {\r\n                callback(row, index + _this.visible.first);\r\n            }\r\n            if (!inplace) {\r\n                fragment.appendChild(row);\r\n            }\r\n        });\r\n        if (!inplace) {\r\n            this.body.appendChild(fragment);\r\n        }\r\n    };\r\n    ARowRenderer.prototype.removeFromBeginning = function (from, to) {\r\n        return this.remove(from, to, true);\r\n    };\r\n    ARowRenderer.prototype.removeFromBottom = function (from, to) {\r\n        return this.remove(from, to, false);\r\n    };\r\n    ARowRenderer.prototype.remove = function (from, to, fromBeginning) {\r\n        for (var i = from; i <= to; ++i) {\r\n            var item = (fromBeginning ? this.body.firstChild : this.body.lastChild);\r\n            item.remove();\r\n            this.recycle(item);\r\n        }\r\n    };\r\n    ARowRenderer.prototype.addAtBeginning = function (from, to) {\r\n        if (from === to) {\r\n            this.body.insertBefore(this.create(from), this.body.firstChild);\r\n            return;\r\n        }\r\n        var fragment = this.fragment;\r\n        for (var i = from; i <= to; ++i) {\r\n            fragment.appendChild(this.create(i));\r\n        }\r\n        this.body.insertBefore(fragment, this.body.firstChild);\r\n    };\r\n    ARowRenderer.prototype.addAtBottom = function (from, to) {\r\n        if (from === to) {\r\n            this.body.appendChild(this.create(from));\r\n            return;\r\n        }\r\n        var fragment = this.fragment;\r\n        for (var i = from; i <= to; ++i) {\r\n            fragment.appendChild(this.create(i));\r\n        }\r\n        this.body.appendChild(fragment);\r\n    };\r\n    ARowRenderer.prototype.updateOffset = function (firstRowPos) {\r\n        var totalHeight = this.context.totalHeight;\r\n        this.visibleFirstRowPos = firstRowPos;\r\n        this.body.classList.toggle('odd', this.visible.first % 2 === 1);\r\n        this.body.style.transform = \"translate(0, \" + firstRowPos.toFixed(0) + \"px)\";\r\n        this.body.style.height = Math.max(1, totalHeight - firstRowPos).toFixed(0) + \"px\";\r\n    };\r\n    ARowRenderer.prototype.recreate = function (ctx) {\r\n        this.abortAnimation();\r\n        if (ctx) {\r\n            return this.recreateAnimated(ctx);\r\n        }\r\n        return this.recreatePure();\r\n    };\r\n    ARowRenderer.prototype.recreatePure = function () {\r\n        var context = this.context;\r\n        var scroller = this.bodyScroller;\r\n        this.updateOffset(0);\r\n        this.removeAll();\r\n        this.clearPool();\r\n        var _a = Object(__WEBPACK_IMPORTED_MODULE_3__logic__[\"d\" /* range */])(scroller.scrollTop, scroller.clientHeight, context.defaultRowHeight, context.exceptions, context.numberOfRows), first = _a.first, last = _a.last, firstRowPos = _a.firstRowPos;\r\n        this.visible.first = this.visible.forcedFirst = first;\r\n        this.visible.last = this.visible.forcedLast = last;\r\n        if (first < 0) {\r\n            this.updateOffset(0);\r\n            return;\r\n        }\r\n        this.addAtBottom(first, last);\r\n        this.updateOffset(firstRowPos);\r\n    };\r\n    ARowRenderer.prototype.recreateAnimated = function (ctx) {\r\n        var _this = this;\r\n        var lookup = new Map();\r\n        var prev = new __WEBPACK_IMPORTED_MODULE_2__animation_KeyFinder__[\"a\" /* default */](ctx.previous, ctx.previousKey);\r\n        var cur = new __WEBPACK_IMPORTED_MODULE_2__animation_KeyFinder__[\"a\" /* default */](this.context, ctx.currentKey);\r\n        var next = Object(__WEBPACK_IMPORTED_MODULE_3__logic__[\"d\" /* range */])(this.bodyScroller.scrollTop, this.bodyScroller.clientHeight, cur.context.defaultRowHeight, cur.context.exceptions, cur.context.numberOfRows);\r\n        {\r\n            var rows_1 = Array.from(this.body.children);\r\n            var old = Object.assign({}, this.visible);\r\n            prev.positions(old.first, Math.min(old.last, old.first + rows_1.length), this.visibleFirstRowPos, function (i, key, pos) {\r\n                var n = rows_1[i];\r\n                if (n) {\r\n                    lookup.set(key, { n: n, pos: pos, i: i });\r\n                }\r\n            });\r\n            this.body.innerHTML = \"\";\r\n        }\r\n        this.visible.first = this.visible.forcedFirst = next.first;\r\n        this.visible.last = this.visible.forcedLast = next.last;\r\n        var fragment = this.fragment;\r\n        var animation = [];\r\n        var nodeY = next.firstRowPos;\r\n        cur.positions(next.first, next.last, next.firstRowPos, function (i, key, pos) {\r\n            var node;\r\n            var mode = __WEBPACK_IMPORTED_MODULE_1__animation__[\"a\" /* EAnimationMode */].UPDATE;\r\n            var previous;\r\n            if (lookup.has(key)) {\r\n                var item = lookup.get(key);\r\n                lookup.delete(key);\r\n                item.n.dataset.index = String(i);\r\n                node = _this.proxy(item.n, _this.updateRow(item.n, i));\r\n                previous = {\r\n                    index: item.i,\r\n                    y: item.pos,\r\n                    height: prev.exceptionHeightOf(item.i, true)\r\n                };\r\n            }\r\n            else {\r\n                var old = prev.posByKey(key);\r\n                node = _this.create(i);\r\n                mode = old.index < 0 ? __WEBPACK_IMPORTED_MODULE_1__animation__[\"a\" /* EAnimationMode */].SHOW : __WEBPACK_IMPORTED_MODULE_1__animation__[\"a\" /* EAnimationMode */].UPDATE_CREATE;\r\n                previous = {\r\n                    index: old.index,\r\n                    y: old.pos >= 0 ? old.pos : pos,\r\n                    height: old.index < 0 ? cur.exceptionHeightOf(i, true) : prev.exceptionHeightOf(old.index, true)\r\n                };\r\n            }\r\n            animation.push({\r\n                node: node,\r\n                key: key,\r\n                mode: mode,\r\n                previous: previous,\r\n                nodeY: nodeY,\r\n                nodeYCurrentHeight: pos,\r\n                current: {\r\n                    index: i,\r\n                    y: pos,\r\n                    height: cur.exceptionHeightOf(i)\r\n                }\r\n            });\r\n            node.style.transform = \"translate(0, \" + (nodeY - pos) + \"px)\";\r\n            nodeY += previous.height + (previous.index < 0 ? cur.padding(i) : prev.padding(previous.index));\r\n            fragment.appendChild(node);\r\n        });\r\n        var nodeYCurrentHeight = next.endPos;\r\n        lookup.forEach(function (item, key) {\r\n            var r = cur.posByKey(key);\r\n            var nextPos = r.pos >= 0 ? r.pos : item.pos;\r\n            var node = item.n;\r\n            node.style.transform = \"translate(0, \" + (item.pos - nodeY) + \"px)\";\r\n            fragment.appendChild(node);\r\n            var prevHeight = prev.exceptionHeightOf(item.i, true);\r\n            animation.push({\r\n                node: item.n,\r\n                key: key,\r\n                mode: r.index < 0 ? __WEBPACK_IMPORTED_MODULE_1__animation__[\"a\" /* EAnimationMode */].HIDE : __WEBPACK_IMPORTED_MODULE_1__animation__[\"a\" /* EAnimationMode */].UPDATE_REMOVE,\r\n                previous: {\r\n                    index: item.i,\r\n                    y: item.pos,\r\n                    height: prevHeight\r\n                },\r\n                nodeY: nodeY,\r\n                nodeYCurrentHeight: nodeYCurrentHeight,\r\n                current: {\r\n                    index: r.index,\r\n                    y: nextPos,\r\n                    height: r.index < 0 ? null : cur.exceptionHeightOf(r.index)\r\n                }\r\n            });\r\n            nodeYCurrentHeight += r.index < 0 ? cur.context.defaultRowHeight : (cur.exceptionHeightOf(r.index, true) + cur.padding(r.index));\r\n            nodeY += prevHeight + prev.padding(item.i);\r\n        });\r\n        this.updateOffset(next.firstRowPos);\r\n        this.animate(animation, ctx.phases || __WEBPACK_IMPORTED_MODULE_1__animation__[\"b\" /* defaultPhases */], prev, cur, fragment);\r\n    };\r\n    ARowRenderer.prototype.animate = function (animation, phases, previousFinder, currentFinder, fragment) {\r\n        var _this = this;\r\n        if (animation.length <= 0) {\r\n            this.body.appendChild(fragment);\r\n            return;\r\n        }\r\n        var currentTimer = -1;\r\n        var actPhase = 0;\r\n        var executePhase = function (phase, items) {\r\n            if (items === void 0) { items = animation; }\r\n            items.forEach(function (anim) { return phase.apply(anim, previousFinder, currentFinder); });\r\n        };\r\n        var run = function () {\r\n            console.assert(animation[0].node.offsetTop >= 0, 'dummy log for forcing dom update');\r\n            executePhase(phases[actPhase++]);\r\n            if (actPhase < phases.length) {\r\n                var next = phases[actPhase];\r\n                currentTimer = setTimeout(run, next.delay);\r\n                return;\r\n            }\r\n            var body = _this.body.classList;\r\n            Array.from(body).forEach(function (v) {\r\n                if (v.startsWith('le-') && v.endsWith('-animation')) {\r\n                    body.remove(v);\r\n                }\r\n            });\r\n            animation.forEach(function (_a) {\r\n                var node = _a.node, mode = _a.mode;\r\n                if (mode !== __WEBPACK_IMPORTED_MODULE_1__animation__[\"a\" /* EAnimationMode */].UPDATE_REMOVE && mode !== __WEBPACK_IMPORTED_MODULE_1__animation__[\"a\" /* EAnimationMode */].HIDE) {\r\n                    return;\r\n                }\r\n                node.remove();\r\n                node.style.transform = null;\r\n                _this.recycle(node);\r\n            });\r\n            _this.abortAnimation = function () { return undefined; };\r\n            currentTimer = -1;\r\n        };\r\n        while (phases[actPhase].delay === 0) {\r\n            executePhase(phases[actPhase++]);\r\n        }\r\n        var body = this.body;\r\n        this.body.appendChild(fragment);\r\n        var dummyAnimation = [];\r\n        animation = animation.filter(function (d) {\r\n            if (Object(__WEBPACK_IMPORTED_MODULE_1__animation__[\"c\" /* noAnimationChange */])(d, previousFinder.context.defaultRowHeight, currentFinder.context.defaultRowHeight)) {\r\n                dummyAnimation.push(d);\r\n                return false;\r\n            }\r\n            return true;\r\n        });\r\n        if (dummyAnimation.length > 0) {\r\n            phases.slice(actPhase).forEach(function (phase) { return executePhase(phase, dummyAnimation); });\r\n        }\r\n        if (animation.length === 0) {\r\n            return;\r\n        }\r\n        body.classList.add('le-row-animation');\r\n        (new Set(animation.map(function (d) { return d.mode; }))).forEach(function (mode) {\r\n            body.classList.add(\"le-\" + __WEBPACK_IMPORTED_MODULE_1__animation__[\"a\" /* EAnimationMode */][mode].toLowerCase().split('_')[0] + \"-animation\");\r\n        });\r\n        this.abortAnimation = function () {\r\n            if (currentTimer <= 0) {\r\n                return;\r\n            }\r\n            clearTimeout(currentTimer);\r\n            currentTimer = -1;\r\n            actPhase = phases.length - 1;\r\n            run();\r\n        };\r\n        currentTimer = setTimeout(run, phases[actPhase].delay);\r\n    };\r\n    ARowRenderer.prototype.clearPool = function () {\r\n        this.pool.splice(0, this.pool.length);\r\n    };\r\n    ARowRenderer.prototype.revalidate = function () {\r\n        var scroller = this.bodyScroller;\r\n        this.onScrolledVertically(scroller.scrollTop, scroller.clientHeight, true);\r\n        this.updateOffset(this.visibleFirstRowPos);\r\n    };\r\n    ARowRenderer.prototype.onScrolledVertically = function (scrollTop, clientHeight, isGoingDown) {\r\n        var scrollResult = this.onScrolledImpl(scrollTop, clientHeight);\r\n        this.mixins.forEach(function (mixin) { return mixin.onScrolled(isGoingDown, scrollResult); });\r\n        return scrollResult;\r\n    };\r\n    ARowRenderer.prototype.onScrolledImpl = function (scrollTop, clientHeight) {\r\n        var context = this.context;\r\n        var _a = Object(__WEBPACK_IMPORTED_MODULE_3__logic__[\"d\" /* range */])(scrollTop, clientHeight, context.defaultRowHeight, context.exceptions, context.numberOfRows), first = _a.first, last = _a.last, firstRowPos = _a.firstRowPos;\r\n        var visible = this.visible;\r\n        visible.forcedFirst = first;\r\n        visible.forcedLast = last;\r\n        if ((first - visible.first) >= 0 && (last - visible.last) <= 0) {\r\n            return __WEBPACK_IMPORTED_MODULE_4__mixin__[\"a\" /* EScrollResult */].NONE;\r\n        }\r\n        var r = __WEBPACK_IMPORTED_MODULE_4__mixin__[\"a\" /* EScrollResult */].PARTIAL;\r\n        if (first > visible.last || last < visible.first) {\r\n            this.removeAll();\r\n            this.addAtBottom(first, last);\r\n            r = __WEBPACK_IMPORTED_MODULE_4__mixin__[\"a\" /* EScrollResult */].ALL;\r\n        }\r\n        else if (first < visible.first) {\r\n            this.removeFromBottom(last + 1, visible.last);\r\n            this.addAtBeginning(first, visible.first - 1);\r\n        }\r\n        else {\r\n            this.removeFromBeginning(visible.first, first - 1);\r\n            this.addAtBottom(visible.last + 1, last);\r\n        }\r\n        visible.first = first;\r\n        visible.last = last;\r\n        this.updateOffset(firstRowPos);\r\n        return r;\r\n    };\r\n    return ARowRenderer;\r\n}());\r\n\r\n/* harmony default export */ __webpack_exports__[\"b\"] = (ARowRenderer);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvQVJvd1JlbmRlcmVyLnRzPzRkNDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtBQk9SVEVELCBJQWJvcnRBYmxlUHJvbWlzZSwgaXNBYm9ydEFibGV9IGZyb20gJy4vYWJvcnRBYmxlJztcbmltcG9ydCB7ZGVmYXVsdFBoYXNlcywgRUFuaW1hdGlvbk1vZGUsIElBbmltYXRpb25Db250ZXh0LCBJQW5pbWF0aW9uSXRlbSwgSVBoYXNlLCBub0FuaW1hdGlvbkNoYW5nZX0gZnJvbSAnLi9hbmltYXRpb24nO1xuaW1wb3J0IEtleUZpbmRlciBmcm9tICcuL2FuaW1hdGlvbi9LZXlGaW5kZXInO1xuaW1wb3J0IHtJRXhjZXB0aW9uQ29udGV4dCwgcmFuZ2V9IGZyb20gJy4vbG9naWMnO1xuaW1wb3J0IHtFU2Nyb2xsUmVzdWx0LCBJTWl4aW4sIElNaXhpbkFkYXB0ZXIsIElNaXhpbkNsYXNzfSBmcm9tICcuL21peGluJztcblxuZXhwb3J0IGRlY2xhcmUgdHlwZSBJUm93UmVuZGVyQ29udGV4dCA9IElFeGNlcHRpb25Db250ZXh0O1xuXG5leHBvcnQgaW50ZXJmYWNlIElSb3dSZW5kZXJlck9wdGlvbnMge1xuICAvKipcbiAgICogYXN5bmMgdXBkYXRlIG9uIHNjcm9sbGluZ1xuICAgKiBhbmltYXRpb24gLT4gdXNlIHJlcXVlc3RBbmltYXRpb25GcmFtZVxuICAgKiBpbW1lZGlhdGUgLT4gdXNlIHNldEltbWVkaWF0ZSBpZiBhdmFpbGFibGVcbiAgICogc3luYyAtPiBleGVjdXRlIHdpdGhpbiBzY3JvbGwgbGlzdGVuZXJcbiAgICoge251bWJlcn0gLT4gZXhlY3V0ZSB3aXRoaW4gdGhpcyBkZWxheSB1c2luZyBzZXRUaW1lb3V0XG4gICAqIEBkZWZhdWx0IGlzIGNocm9tZSA/IGFuaW1hdGlvbiBlbHNlIGltbWVkaWF0ZVxuICAgKi9cbiAgYXN5bmM6IG51bWJlciB8ICdhbmltYXRpb24nIHwgJ3N5bmMnIHwgJ2ltbWVkaWF0ZSc7XG5cbiAgLyoqXG4gICAqIG1pbmltYWwgbnVtYmVyIG9mIHBpeGVsIHRoZSBzY3JvbGxiYXJzIGhhcyB0byBtb3ZlXG4gICAqL1xuICBtaW5TY3JvbGxEZWx0YTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBjbGFzcyBvZiBtaXhpbnMgdG8gdXNlIGZvciBvcHRpbWl6ZWQgcmVuZGVyaW5nXG4gICAqL1xuICBtaXhpbnM6IElNaXhpbkNsYXNzW107XG5cbiAgLyoqXG4gICAqIGFkZCB0aGUgc2Nyb2xsaW5nIGhpbnQgY2xhc3Mgd2hpbGUgc2Nyb2xsaW5nIHRvIGdpdmUgYSB1c2VyIGZlZWRiYWNrXG4gICAqL1xuICBzY3JvbGxpbmdIaW50OiBib29sZWFuO1xufVxuXG4vKipcbiAqIGJhc2UgY2xhc3MgZm9yIGNyZWF0aW5nIGEgc2NhbGFibGUgdGFibGUgcmVuZGVyZXIgYmFzZWQgb24gcm93c1xuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQVJvd1JlbmRlcmVyIHtcbiAgcHJpdmF0ZSByZWFkb25seSBwb29sOiBIVE1MRWxlbWVudFtdID0gW107XG4gIHByaXZhdGUgcmVhZG9ubHkgbG9hZGluZ1Bvb2w6IEhUTUxFbGVtZW50W10gPSBbXTtcbiAgcHJpdmF0ZSByZWFkb25seSBsb2FkaW5nID0gbmV3IE1hcDxIVE1MRWxlbWVudCwgSUFib3J0QWJsZVByb21pc2U8dm9pZD4+KCk7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBmcmFnbWVudDogRG9jdW1lbnRGcmFnbWVudDtcblxuICAvKipcbiAgICogY3VycmVudGx5IHZpc2libGUgc2xpY2VcbiAgICovXG4gIHByb3RlY3RlZCByZWFkb25seSB2aXNpYmxlID0ge1xuICAgIGZpcnN0OiAwLFxuICAgIGZvcmNlZEZpcnN0OiAwLFxuICAgIGxhc3Q6IC0xLFxuICAgIGZvcmNlZExhc3Q6IC0xXG4gIH07XG4gIC8qKlxuICAgKiBwb3NpdGlvbiBvZiB0aGUgZmlyc3QgdmlzaWJsZSByb3cgaW4gcGl4ZWxcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHByb3RlY3RlZCB2aXNpYmxlRmlyc3RSb3dQb3MgPSAwO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgYWRhcHRlcjogSU1peGluQWRhcHRlcjtcbiAgcHJpdmF0ZSByZWFkb25seSBtaXhpbnM6IElNaXhpbltdO1xuICBwcml2YXRlIHNjcm9sbExpc3RlbmVyOiAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB2b2lkO1xuXG4gIHByaXZhdGUgYWJvcnRBbmltYXRpb246ICgpID0+IHZvaWQgPSAoKSA9PiB1bmRlZmluZWQ7XG5cbiAgcHJvdGVjdGVkIHJlYWRvbmx5IG9wdGlvbnM6IFJlYWRvbmx5PElSb3dSZW5kZXJlck9wdGlvbnM+ID0ge1xuICAgIGFzeW5jOiBCb29sZWFuKCg8YW55PndpbmRvdykuY2hyb21lKSA/ICdhbmltYXRpb24nIDogJ2ltbWVkaWF0ZScsIC8vIGFuaW1hdGlvbiBmcmFtZSBvbiBjaHJvbWVcbiAgICBtaW5TY3JvbGxEZWx0YTogMyxcbiAgICBtaXhpbnM6IFtdLFxuICAgIHNjcm9sbGluZ0hpbnQ6IGZhbHNlXG4gIH07XG5cbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIHJlYWRvbmx5IGJvZHk6IEhUTUxFbGVtZW50LCBvcHRpb25zOiBQYXJ0aWFsPElSb3dSZW5kZXJlck9wdGlvbnM+ID0ge30pIHtcbiAgICB0aGlzLmFkYXB0ZXIgPSB0aGlzLmNyZWF0ZUFkYXB0ZXIoKTtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG4gICAgdGhpcy5taXhpbnMgPSB0aGlzLm9wdGlvbnMubWl4aW5zLm1hcCgobWl4aW5DbGFzcykgPT4gbmV3IG1peGluQ2xhc3ModGhpcy5hZGFwdGVyKSk7XG5cbiAgICB0aGlzLmZyYWdtZW50ID0gYm9keS5vd25lckRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiByZWdpc3RlciBhbm90aGVyIG1peGluIHRvIHRoaXMgcmVuZGVyZXJcbiAgICogQHBhcmFtIHtJTWl4aW5DbGFzc30gbWl4aW5DbGFzcyB0aGUgbWl4aW4gY2xhc3MgdG8gaW5zdGFudGl0aWF0ZVxuICAgKiBAcGFyYW0gb3B0aW9ucyBvcHRpb25hbCBjb25zdHJ1Y3RvciBvcHRpb25zXG4gICAqL1xuICBwcm90ZWN0ZWQgYWRkTWl4aW4obWl4aW5DbGFzczogSU1peGluQ2xhc3MsIG9wdGlvbnM/OiBhbnkpIHtcbiAgICB0aGlzLm1peGlucy5wdXNoKG5ldyBtaXhpbkNsYXNzKHRoaXMuYWRhcHRlciwgb3B0aW9ucykpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVBZGFwdGVyKCk6IElNaXhpbkFkYXB0ZXIge1xuICAgIGNvbnN0IHI6IGFueSA9IHtcbiAgICAgIHZpc2libGU6IHRoaXMudmlzaWJsZSxcbiAgICAgIGFkZEF0QmVnaW5uaW5nOiB0aGlzLmFkZEF0QmVnaW5uaW5nLmJpbmQodGhpcyksXG4gICAgICBhZGRBdEJvdHRvbTogdGhpcy5hZGRBdEJvdHRvbS5iaW5kKHRoaXMpLFxuICAgICAgcmVtb3ZlRnJvbUJlZ2lubmluZzogdGhpcy5yZW1vdmVGcm9tQmVnaW5uaW5nLmJpbmQodGhpcyksXG4gICAgICByZW1vdmVGcm9tQm90dG9tOiB0aGlzLnJlbW92ZUZyb21Cb3R0b20uYmluZCh0aGlzKSxcbiAgICAgIHVwZGF0ZU9mZnNldDogdGhpcy51cGRhdGVPZmZzZXQuYmluZCh0aGlzKSxcbiAgICAgIHNjcm9sbGVyOiB0aGlzLmJvZHlTY3JvbGxlclxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMociwge1xuICAgICAgdmlzaWJsZUZpcnN0Um93UG9zOiB7XG4gICAgICAgIGdldDogKCkgPT4gdGhpcy52aXNpYmxlRmlyc3RSb3dQb3MsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgIH0sXG4gICAgICBjb250ZXh0OiB7XG4gICAgICAgIGdldDogKCkgPT4gdGhpcy5jb250ZXh0LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHI7XG4gIH1cblxuICAvKipcbiAgICogZ2V0IHRoZSBzY3JvbGxpbmcgY29udGFpbmVyIGkuZS4gcGFyZW50IG9mIHRoZSBib2R5IGVsZW1lbnRcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgKi9cbiAgcHJvdGVjdGVkIGdldCBib2R5U2Nyb2xsZXIoKSB7XG4gICAgcmV0dXJuIDxIVE1MRWxlbWVudD50aGlzLmJvZHkucGFyZW50RWxlbWVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiB0aGUgY3VycmVudCByZW5kZXIgY29udGV4dCwgdXBvbiBjaGFuZ2UgYHJlY3JlYXRlYCB0aGUgd2hvbGUgdGFibGVcbiAgICogQHJldHVybnMge0lSb3dSZW5kZXJDb250ZXh0fVxuICAgKi9cbiAgcHJvdGVjdGVkIGFic3RyYWN0IGdldCBjb250ZXh0KCk6IElSb3dSZW5kZXJDb250ZXh0O1xuXG4gIC8qKlxuICAgKiBjcmVhdGVzIGEgbmV3IHJvd1xuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBub2RlIHRoZSBub2RlIG9mIHRoZSByb3dcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IHRoZSByb3cgaW5kZXhcbiAgICogQHJldHVybnMge0lBYm9ydEFibGVQcm9taXNlPHZvaWQ+IHwgdm9pZH0gZWl0aGVyIGFuIGFib3J0YWJsZSBvciBub3RoaW5nXG4gICAqL1xuICBwcm90ZWN0ZWQgYWJzdHJhY3QgY3JlYXRlUm93KG5vZGU6IEhUTUxFbGVtZW50LCBpbmRleDogbnVtYmVyKTogSUFib3J0QWJsZVByb21pc2U8dm9pZD4gfCB2b2lkO1xuXG4gIC8qKlxuICAgKiB1cGRhdGVzIGEgcm93XG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGUgdGhlIG5vZGUgb2YgdGhlIHJvd1xuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggdGhlIHJvdyBpbmRleFxuICAgKiBAcmV0dXJucyB7SUFib3J0QWJsZVByb21pc2U8dm9pZD4gfCB2b2lkfSBlaXRoZXIgYW4gYWJvcnRhYmxlIG9yIG5vdGhpbmdcbiAgICovXG4gIHByb3RlY3RlZCBhYnN0cmFjdCB1cGRhdGVSb3cobm9kZTogSFRNTEVsZW1lbnQsIGluZGV4OiBudW1iZXIpOiBJQWJvcnRBYmxlUHJvbWlzZTx2b2lkPiB8IHZvaWQ7XG5cbiAgLyoqXG4gICAqIGluaXRpYWxpemVzIHRoZSB0YWJsZSBhbmQgcmVnaXN0ZXIgdGhlIG9uc2Nyb2xsIGxpc3RlbmVyXG4gICAqIEByZXR1cm5zIHt2b2lkfSBub3RoaW5nXG4gICAqL1xuICBwcm90ZWN0ZWQgaW5pdCgpIHtcbiAgICBjb25zdCBzY3JvbGxlciA9IHRoaXMuYm9keVNjcm9sbGVyO1xuXG4gICAgLy9zeW5jIHNjcm9sbGluZyBvZiBoZWFkZXIgYW5kIGJvZHlcbiAgICBsZXQgb2xkVG9wID0gc2Nyb2xsZXIuc2Nyb2xsVG9wO1xuICAgIGxldCBvbGRIZWlnaHQgPSBzY3JvbGxlci5jbGllbnRIZWlnaHQ7XG5cbiAgICBjb25zdCBoYW5kbGVyID0gKCkgPT4ge1xuICAgICAgY29uc3QgdG9wID0gc2Nyb2xsZXIuc2Nyb2xsVG9wO1xuICAgICAgY29uc3QgaGVpZ2h0ID0gc2Nyb2xsZXIuY2xpZW50SGVpZ2h0O1xuICAgICAgaWYgKE1hdGguYWJzKG9sZFRvcCAtIHRvcCkgPCB0aGlzLm9wdGlvbnMubWluU2Nyb2xsRGVsdGEgJiYgTWF0aC5hYnMob2xkSGVpZ2h0IC0gaGVpZ2h0KSA8IHRoaXMub3B0aW9ucy5taW5TY3JvbGxEZWx0YSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBpc0dvaW5nRG93biA9IHRvcCA+IG9sZFRvcDtcbiAgICAgIG9sZFRvcCA9IHRvcDtcbiAgICAgIG9sZEhlaWdodCA9IGhlaWdodDtcbiAgICAgIHRoaXMub25TY3JvbGxlZFZlcnRpY2FsbHkodG9wLCBoZWlnaHQsIGlzR29pbmdEb3duKTtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2Nyb2xsaW5nSGludCkge1xuICAgICAgICBzY3JvbGxlci5jbGFzc0xpc3QucmVtb3ZlKCdsZS1zY3JvbGxpbmcnKTtcbiAgICAgIH1cbiAgICB9O1xuXG5cbiAgICB0aGlzLnNjcm9sbExpc3RlbmVyID0gdGhpcy5jcmVhdGVEZWxheWVkSGFuZGxlcihoYW5kbGVyLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnNjcm9sbGluZ0hpbnQpIHtcbiAgICAgICAgc2Nyb2xsZXIuY2xhc3NMaXN0LmFkZCgnbGUtc2Nyb2xsaW5nJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBzY3JvbGxlci5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnNjcm9sbExpc3RlbmVyKTtcbiAgICB0aGlzLnJlY3JlYXRlKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgY3JlYXRlRGVsYXllZEhhbmRsZXIoZGVsYXllZEhhbmRsZXI6ICgpID0+IHZvaWQsIGltbWVkaWF0ZUNhbGxiYWNrPzogKCkgPT4gdm9pZCkge1xuICAgIGNvbnN0IGhhc0ltbWVkaWF0ZSA9IHR5cGVvZiAod2luZG93LnNldEltbWVkaWF0ZSkgPT09ICdmdW5jdGlvbic7XG5cbiAgICBsZXQgZGVsYXllcjogKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSA9PiBudW1iZXI7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmFzeW5jID09PSAnaW1tZWRpYXRlJyAmJiBoYXNJbW1lZGlhdGUpIHtcbiAgICAgIGRlbGF5ZXIgPSBzZXRJbW1lZGlhdGU7XG4gICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuYXN5bmMgPT09ICdhbmltYXRpb24nIHx8IHRoaXMub3B0aW9ucy5hc3luYyA9PT0gJ2ltbWVkaWF0ZScpIHsgLy8gbm8gSW1tZWRpYXRlIGF2YWlsYWJsZVxuICAgICAgZGVsYXllciA9IHJlcXVlc3RBbmltYXRpb25GcmFtZTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMuYXN5bmMgPT09ICdudW1iZXInKSB7XG4gICAgICBkZWxheWVyID0gKGMpID0+IHNlbGYuc2V0VGltZW91dChjLCB0aGlzLm9wdGlvbnMuYXN5bmMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxheWVyID0gKGMpID0+IHtcbiAgICAgICAgYygpO1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9O1xuICAgIH1cbiAgICBsZXQgdGltZU91dCA9IC0xO1xuXG4gICAgY29uc3Qgd3JhcHBlciA9ICgpID0+IHtcbiAgICAgIHRpbWVPdXQgPSAtMTtcbiAgICAgIGRlbGF5ZWRIYW5kbGVyKCk7XG4gICAgfTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoaW1tZWRpYXRlQ2FsbGJhY2spIHtcbiAgICAgICAgaW1tZWRpYXRlQ2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aW1lT3V0ID4gLTEpIHtcbiAgICAgICAgcmV0dXJuOyAvLyBhbHJlYWR5IHNjaGVkdWxlZFxuICAgICAgfVxuICAgICAgdGltZU91dCA9IGRlbGF5ZXIod3JhcHBlcik7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBkZXN0cm95cyB0aGlzIHJlbmRlcmVyIGFuZCB1bnJlZ2lzdGVycyBhbGwgZXZlbnQgbGlzdGVuZXJzXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuYm9keVNjcm9sbGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuc2Nyb2xsTGlzdGVuZXIpO1xuICAgIHRoaXMuYm9keS5yZW1vdmUoKTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGNsZWFuVXAoaXRlbTogSFRNTEVsZW1lbnQpIHtcbiAgICBpZiAoaXRlbS5zdHlsZS5oZWlnaHQpIHtcbiAgICAgIGl0ZW0uc3R5bGUuaGVpZ2h0ID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHNlbGVjdChpbmRleDogbnVtYmVyKTogeyBpdGVtOiBIVE1MRWxlbWVudCwgcmVzdWx0OiBJQWJvcnRBYmxlUHJvbWlzZTx2b2lkPiB8IHZvaWQgfSB7XG4gICAgbGV0IGl0ZW06IEhUTUxFbGVtZW50O1xuICAgIGxldCByZXN1bHQ6IElBYm9ydEFibGVQcm9taXNlPHZvaWQ+IHwgdm9pZDtcbiAgICBpZiAodGhpcy5wb29sLmxlbmd0aCA+IDApIHtcbiAgICAgIGl0ZW0gPSB0aGlzLnBvb2wucG9wKCkhO1xuICAgICAgcmVzdWx0ID0gdGhpcy51cGRhdGVSb3coaXRlbSwgaW5kZXgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5sb2FkaW5nUG9vbC5sZW5ndGggPiAwKSB7XG4gICAgICBpdGVtID0gdGhpcy5sb2FkaW5nUG9vbC5wb3AoKSE7XG4gICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2xvYWRpbmcnKTtcbiAgICAgIHJlc3VsdCA9IHRoaXMuY3JlYXRlUm93KGl0ZW0sIGluZGV4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaXRlbSA9IHRoaXMuYm9keS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgcmVzdWx0ID0gdGhpcy5jcmVhdGVSb3coaXRlbSwgaW5kZXgpO1xuICAgIH1cbiAgICBpdGVtLmRhdGFzZXQuaW5kZXggPSBTdHJpbmcoaW5kZXgpO1xuICAgIHJldHVybiB7aXRlbSwgcmVzdWx0fTtcbiAgfVxuXG4gIHByaXZhdGUgc2VsZWN0UHJveHkoKSB7XG4gICAgbGV0IHByb3h5OiBIVE1MRWxlbWVudDtcbiAgICBpZiAodGhpcy5sb2FkaW5nUG9vbC5sZW5ndGggPiAwKSB7XG4gICAgICBwcm94eSA9IHRoaXMubG9hZGluZ1Bvb2wucG9wKCkhO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm94eSA9IHRoaXMuYm9keS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgcHJveHkuY2xhc3NMaXN0LmFkZCgnbG9hZGluZycpO1xuICAgIH1cbiAgICByZXR1cm4gcHJveHk7XG4gIH1cblxuICBwcml2YXRlIHJlY3ljbGUoaXRlbTogSFRNTEVsZW1lbnQpIHtcbiAgICBBUm93UmVuZGVyZXIuY2xlYW5VcChpdGVtKTtcbiAgICAvLyBjaGVjayBpZiB0aGUgb3JpZ2luYWwgZG9tIGVsZW1lbnQgaXMgc3RpbGwgYmVpbmcgbWFuaXB1bGF0ZWRcbiAgICBpZiAodGhpcy5sb2FkaW5nLmhhcyhpdGVtKSkge1xuICAgICAgY29uc3QgYWJvcnQgPSB0aGlzLmxvYWRpbmcuZ2V0KGl0ZW0pITtcbiAgICAgIGFib3J0LmFib3J0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucG9vbC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcHJveHkoaXRlbTogSFRNTEVsZW1lbnQsIHJlc3VsdDogSUFib3J0QWJsZVByb21pc2U8dm9pZD4gfCB2b2lkKSB7XG4gICAgaWYgKCFpc0Fib3J0QWJsZShyZXN1bHQpKSB7XG4gICAgICByZXR1cm4gaXRlbTtcbiAgICB9XG4gICAgY29uc3QgYWJvcnQgPSByZXN1bHQ7XG4gICAgLy9sYXp5IGxvYWRpbmdcblxuICAgIGNvbnN0IHJlYWwgPSBpdGVtO1xuICAgIGNvbnN0IHByb3h5ID0gdGhpcy5zZWxlY3RQcm94eSgpO1xuICAgIC8vIGNvcHkgYXR0cmlidXRlc1xuICAgIHByb3h5LmRhdGFzZXQuaW5kZXggPSByZWFsLmRhdGFzZXQuaW5kZXg7XG4gICAgcHJveHkuc3R5bGUuaGVpZ2h0ID0gcmVhbC5zdHlsZS5oZWlnaHQ7XG5cbiAgICB0aGlzLmxvYWRpbmcuc2V0KHByb3h5LCBhYm9ydCk7XG4gICAgYWJvcnQudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICBpZiAocmVzdWx0ID09PSBBQk9SVEVEKSB7XG4gICAgICAgIC8vYWJvcnRlZCBjYW4gcmVjeWNsZSB0aGUgcmVhbCBvbmVcbiAgICAgICAgQVJvd1JlbmRlcmVyLmNsZWFuVXAocmVhbCk7XG4gICAgICAgIHRoaXMucG9vbC5wdXNoKHJlYWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy9mdWxseSBsb2FkZWRcbiAgICAgICAgdGhpcy5ib2R5LnJlcGxhY2VDaGlsZChyZWFsLCBwcm94eSk7XG4gICAgICB9XG4gICAgICB0aGlzLmxvYWRpbmcuZGVsZXRlKHByb3h5KTtcbiAgICAgIEFSb3dSZW5kZXJlci5jbGVhblVwKHByb3h5KTtcbiAgICAgIHRoaXMubG9hZGluZ1Bvb2wucHVzaChwcm94eSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHByb3h5O1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGUoaW5kZXg6IG51bWJlcikge1xuICAgIGNvbnN0IHtpdGVtLCByZXN1bHR9ID0gdGhpcy5zZWxlY3QoaW5kZXgpO1xuXG4gICAgY29uc3Qge2V4Y2VwdGlvbnNMb29rdXA6IGV4LCBwYWRkaW5nfSA9IHRoaXMuY29udGV4dDtcbiAgICBpZiAoZXguaGFzKGluZGV4KSkge1xuICAgICAgaXRlbS5zdHlsZS5oZWlnaHQgPSBgJHtleC5nZXQoaW5kZXgpISAtIHBhZGRpbmcoaW5kZXgpfXB4YDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5wcm94eShpdGVtLCByZXN1bHQpO1xuICB9XG5cbiAgcHJpdmF0ZSByZW1vdmVBbGwoKSB7XG4gICAgY29uc3QgYXJyID0gPEhUTUxFbGVtZW50W10+QXJyYXkuZnJvbSh0aGlzLmJvZHkuY2hpbGRyZW4pO1xuICAgIHRoaXMuYm9keS5pbm5lckhUTUwgPSAnJztcbiAgICBhcnIuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgdGhpcy5yZWN5Y2xlKGl0ZW0pO1xuICAgIH0pO1xuICB9XG5cblxuICAvKipcbiAgICogdHJpZ2dlcnMgYW5kIHZpc3VhbCB1cGRhdGUgb2YgYWxsIHZpc2libGUgcm93c1xuICAgKi9cbiAgcHJvdGVjdGVkIHVwZGF0ZSgpIHtcbiAgICBjb25zdCBmaXJzdCA9IHRoaXMudmlzaWJsZS5maXJzdDtcbiAgICBjb25zdCBmcmFnbWVudCA9IHRoaXMuZnJhZ21lbnQ7XG4gICAgY29uc3QgaXRlbXMgPSBBcnJheS5mcm9tKHRoaXMuYm9keS5jaGlsZHJlbik7XG4gICAgdGhpcy5ib2R5LmlubmVySFRNTCA9ICcnO1xuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW06IEhUTUxFbGVtZW50LCBpKSA9PiB7XG4gICAgICBpZiAodGhpcy5sb2FkaW5nLmhhcyhpdGVtKSkge1xuICAgICAgICAvLyBzdGlsbCBsb2FkaW5nXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGFib3J0ID0gdGhpcy51cGRhdGVSb3coaXRlbSwgaSArIGZpcnN0KTtcblxuICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQodGhpcy5wcm94eShpdGVtLCBhYm9ydCkpO1xuICAgIH0pO1xuICAgIHRoaXMuYm9keS5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG4gIH1cblxuICAvKipcbiAgICogdXRpbGl0eSB0byBleGVjdXRlIGEgZnVuY3Rpb24gZm9yIGVhY2ggdmlzaWJsZSByb3dcbiAgICogQHBhcmFtIHsocm93OiBIVE1MRWxlbWVudCwgcm93SW5kZXg6IG51bWJlcikgPT4gdm9pZH0gY2FsbGJhY2sgY2FsbGJhY2sgdG8gZXhlY3V0ZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlucGxhY2Ugd2hldGhlciB0aGUgRE9NIGNoYW5nZXMgc2hvdWxkIGJlIHBlcmZvcm1lZCBpbnBsYWNlIGluc3RlYWQgb2YgaW4gYSBmcmFnbWVudFxuICAgKi9cbiAgcHJvdGVjdGVkIGZvckVhY2hSb3coY2FsbGJhY2s6IChyb3c6IEhUTUxFbGVtZW50LCByb3dJbmRleDogbnVtYmVyKSA9PiB2b2lkLCBpbnBsYWNlOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICBjb25zdCByb3dzID0gQXJyYXkuZnJvbSh0aGlzLmJvZHkuY2hpbGRyZW4pO1xuICAgIGNvbnN0IGZyYWdtZW50ID0gdGhpcy5mcmFnbWVudDtcbiAgICBpZiAoIWlucGxhY2UpIHtcbiAgICAgIHRoaXMuYm9keS5pbm5lckhUTUwgPSAnJztcbiAgICB9XG4gICAgcm93cy5mb3JFYWNoKChyb3c6IEhUTUxFbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgaWYgKCFyb3cuY2xhc3NMaXN0LmNvbnRhaW5zKCdsb2FkaW5nJykgJiYgcm93LmRhdGFzZXQuYW5pbWF0aW9uICE9PSAndXBkYXRlX3JlbW92ZScgJiYgcm93LmRhdGFzZXQuYW5pbWF0aW9uICE9PSAnaGlkZScpIHtcbiAgICAgICAgLy9za2lwIGxvYWRpbmcgb25lcyBhbmQgdGVtcG9yYXJ5IG9uZXNcbiAgICAgICAgY2FsbGJhY2socm93LCBpbmRleCArIHRoaXMudmlzaWJsZS5maXJzdCk7XG4gICAgICB9XG4gICAgICBpZiAoIWlucGxhY2UpIHtcbiAgICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQocm93KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWlucGxhY2UpIHtcbiAgICAgIHRoaXMuYm9keS5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZW1vdmVGcm9tQmVnaW5uaW5nKGZyb206IG51bWJlciwgdG86IG51bWJlcikge1xuICAgIHJldHVybiB0aGlzLnJlbW92ZShmcm9tLCB0bywgdHJ1ZSk7XG4gIH1cblxuICBwcml2YXRlIHJlbW92ZUZyb21Cb3R0b20oZnJvbTogbnVtYmVyLCB0bzogbnVtYmVyKSB7XG4gICAgcmV0dXJuIHRoaXMucmVtb3ZlKGZyb20sIHRvLCBmYWxzZSk7XG4gIH1cblxuICBwcml2YXRlIHJlbW92ZShmcm9tOiBudW1iZXIsIHRvOiBudW1iZXIsIGZyb21CZWdpbm5pbmc6IGJvb2xlYW4pIHtcbiAgICBmb3IgKGxldCBpID0gZnJvbTsgaSA8PSB0bzsgKytpKSB7XG4gICAgICBjb25zdCBpdGVtID0gPEhUTUxFbGVtZW50Pihmcm9tQmVnaW5uaW5nID8gdGhpcy5ib2R5LmZpcnN0Q2hpbGQgOiB0aGlzLmJvZHkubGFzdENoaWxkKTtcbiAgICAgIGl0ZW0ucmVtb3ZlKCk7XG4gICAgICB0aGlzLnJlY3ljbGUoaXRlbSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhZGRBdEJlZ2lubmluZyhmcm9tOiBudW1iZXIsIHRvOiBudW1iZXIpIHtcbiAgICBpZiAoZnJvbSA9PT0gdG8pIHtcbiAgICAgIHRoaXMuYm9keS5pbnNlcnRCZWZvcmUodGhpcy5jcmVhdGUoZnJvbSksIHRoaXMuYm9keS5maXJzdENoaWxkKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZnJhZ21lbnQgPSB0aGlzLmZyYWdtZW50O1xuICAgIGZvciAobGV0IGkgPSBmcm9tOyBpIDw9IHRvOyArK2kpIHtcbiAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlKGkpKTtcbiAgICB9XG4gICAgdGhpcy5ib2R5Lmluc2VydEJlZm9yZShmcmFnbWVudCwgdGhpcy5ib2R5LmZpcnN0Q2hpbGQpO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRBdEJvdHRvbShmcm9tOiBudW1iZXIsIHRvOiBudW1iZXIpIHtcbiAgICBpZiAoZnJvbSA9PT0gdG8pIHtcbiAgICAgIHRoaXMuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZShmcm9tKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGZyYWdtZW50ID0gdGhpcy5mcmFnbWVudDtcbiAgICBmb3IgKGxldCBpID0gZnJvbTsgaSA8PSB0bzsgKytpKSB7XG4gICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZShpKSk7XG4gICAgfVxuICAgIHRoaXMuYm9keS5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZU9mZnNldChmaXJzdFJvd1BvczogbnVtYmVyKSB7XG4gICAgY29uc3Qge3RvdGFsSGVpZ2h0fSA9IHRoaXMuY29udGV4dDtcbiAgICB0aGlzLnZpc2libGVGaXJzdFJvd1BvcyA9IGZpcnN0Um93UG9zO1xuXG4gICAgLy9vZGQgc3RhcnQgcGF0Y2ggZm9yIGNvcnJlY3QgYmFja2dyb3VuZFxuICAgIHRoaXMuYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdvZGQnLCB0aGlzLnZpc2libGUuZmlyc3QgJSAyID09PSAxKTtcblxuICAgIHRoaXMuYm9keS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKDAsICR7Zmlyc3RSb3dQb3MudG9GaXhlZCgwKX1weClgO1xuICAgIHRoaXMuYm9keS5zdHlsZS5oZWlnaHQgPSBgJHtNYXRoLm1heCgxLCB0b3RhbEhlaWdodCAtIGZpcnN0Um93UG9zKS50b0ZpeGVkKDApfXB4YDtcbiAgfVxuXG4gIC8qKlxuICAgKiByZW1vdmVzIGFsbCByb3dzIGFuZCByZWNyZWF0ZXMgdGhlIHRhYmxlXG4gICAqIEBwYXJhbSB7SUFuaW1hdGlvbkNvbnRleHR9IGN0eCBvcHRpb25hbCBhbmltYXRpb24gY29udGV4dCB0byBjcmVhdGUgYSB0cmFuc2l0aW9uIGJldHdlZW4gdGhlIHByZXZpb3VzIGFuZCB0aGUgY3VycmVudCB0YWJsZXNcbiAgICogQHJldHVybnMge3ZvaWR9IG5vdGhpbmdcbiAgICovXG4gIHByb3RlY3RlZCByZWNyZWF0ZShjdHg/OiBJQW5pbWF0aW9uQ29udGV4dCkge1xuICAgIHRoaXMuYWJvcnRBbmltYXRpb24oKTtcbiAgICBpZiAoY3R4KSB7XG4gICAgICByZXR1cm4gdGhpcy5yZWNyZWF0ZUFuaW1hdGVkKGN0eCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnJlY3JlYXRlUHVyZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSByZWNyZWF0ZVB1cmUoKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dDtcblxuICAgIGNvbnN0IHNjcm9sbGVyID0gdGhpcy5ib2R5U2Nyb2xsZXI7XG5cbiAgICAvL3VwZGF0ZSBmaXJzdCB0byBhdm9pZCByZXNldHRpbmcgc2Nyb2xsVG9wXG4gICAgdGhpcy51cGRhdGVPZmZzZXQoMCk7XG5cbiAgICB0aGlzLnJlbW92ZUFsbCgpO1xuICAgIHRoaXMuY2xlYXJQb29sKCk7XG5cbiAgICBjb25zdCB7Zmlyc3QsIGxhc3QsIGZpcnN0Um93UG9zfSA9IHJhbmdlKHNjcm9sbGVyLnNjcm9sbFRvcCwgc2Nyb2xsZXIuY2xpZW50SGVpZ2h0LCBjb250ZXh0LmRlZmF1bHRSb3dIZWlnaHQsIGNvbnRleHQuZXhjZXB0aW9ucywgY29udGV4dC5udW1iZXJPZlJvd3MpO1xuXG4gICAgdGhpcy52aXNpYmxlLmZpcnN0ID0gdGhpcy52aXNpYmxlLmZvcmNlZEZpcnN0ID0gZmlyc3Q7XG4gICAgdGhpcy52aXNpYmxlLmxhc3QgPSB0aGlzLnZpc2libGUuZm9yY2VkTGFzdCA9IGxhc3Q7XG5cbiAgICBpZiAoZmlyc3QgPCAwKSB7XG4gICAgICAvLyBlbXB0eVxuICAgICAgdGhpcy51cGRhdGVPZmZzZXQoMCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuYWRkQXRCb3R0b20oZmlyc3QsIGxhc3QpO1xuICAgIHRoaXMudXBkYXRlT2Zmc2V0KGZpcnN0Um93UG9zKTtcbiAgfVxuXG5cbiAgcHJpdmF0ZSByZWNyZWF0ZUFuaW1hdGVkKGN0eDogSUFuaW1hdGlvbkNvbnRleHQpIHtcbiAgICBjb25zdCBsb29rdXAgPSBuZXcgTWFwPHN0cmluZywgeyBuOiBIVE1MRWxlbWVudCwgcG9zOiBudW1iZXIsIGk6IG51bWJlciB9PigpO1xuICAgIGNvbnN0IHByZXYgPSBuZXcgS2V5RmluZGVyKGN0eC5wcmV2aW91cywgY3R4LnByZXZpb3VzS2V5KTtcbiAgICBjb25zdCBjdXIgPSBuZXcgS2V5RmluZGVyKHRoaXMuY29udGV4dCwgY3R4LmN1cnJlbnRLZXkpO1xuICAgIGNvbnN0IG5leHQgPSByYW5nZSh0aGlzLmJvZHlTY3JvbGxlci5zY3JvbGxUb3AsIHRoaXMuYm9keVNjcm9sbGVyLmNsaWVudEhlaWdodCwgY3VyLmNvbnRleHQuZGVmYXVsdFJvd0hlaWdodCwgY3VyLmNvbnRleHQuZXhjZXB0aW9ucywgY3VyLmNvbnRleHQubnVtYmVyT2ZSb3dzKTtcblxuICAgIHtcbiAgICAgIGNvbnN0IHJvd3MgPSA8SFRNTEVsZW1lbnRbXT5BcnJheS5mcm9tKHRoaXMuYm9keS5jaGlsZHJlbik7XG4gICAgICBjb25zdCBvbGQgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnZpc2libGUpO1xuICAgICAgLy9zdG9yZSB0aGUgY3VycmVudCByb3dzIGluIGEgbG9va3VwIGFuZCBjbGVhclxuXG4gICAgICBwcmV2LnBvc2l0aW9ucyhvbGQuZmlyc3QsIE1hdGgubWluKG9sZC5sYXN0LCBvbGQuZmlyc3QgKyByb3dzLmxlbmd0aCksIHRoaXMudmlzaWJsZUZpcnN0Um93UG9zLCAoaSwga2V5LCBwb3MpID0+IHtcbiAgICAgICAgY29uc3QgbiA9IHJvd3NbaV07XG4gICAgICAgIGlmIChuKSB7IC8vIHNob3VsZG4ndCBoYXBwZW4gdGhhdCBpdCBpcyBub3QgdGhlcmVcbiAgICAgICAgICBsb29rdXAuc2V0KGtleSwge24sIHBvcywgaX0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIGVsc2Uge1xuICAgICAgICAvLyAgY29uc29sZS5lcnJvcihpLCBrZXksIHBvcywgcm93cyk7XG4gICAgICAgIC8vfVxuICAgICAgfSk7XG4gICAgICB0aGlzLmJvZHkuaW5uZXJIVE1MID0gYGA7XG4gICAgfVxuXG4gICAgdGhpcy52aXNpYmxlLmZpcnN0ID0gdGhpcy52aXNpYmxlLmZvcmNlZEZpcnN0ID0gbmV4dC5maXJzdDtcbiAgICB0aGlzLnZpc2libGUubGFzdCA9IHRoaXMudmlzaWJsZS5mb3JjZWRMYXN0ID0gbmV4dC5sYXN0O1xuXG4gICAgY29uc3QgZnJhZ21lbnQgPSB0aGlzLmZyYWdtZW50O1xuICAgIGNvbnN0IGFuaW1hdGlvbjogSUFuaW1hdGlvbkl0ZW1bXSA9IFtdO1xuXG4gICAgbGV0IG5vZGVZID0gbmV4dC5maXJzdFJvd1BvcztcbiAgICBjdXIucG9zaXRpb25zKG5leHQuZmlyc3QsIG5leHQubGFzdCwgbmV4dC5maXJzdFJvd1BvcywgKGksIGtleSwgcG9zKSA9PiB7XG4gICAgICBsZXQgbm9kZTogSFRNTEVsZW1lbnQ7XG4gICAgICBsZXQgbW9kZTogRUFuaW1hdGlvbk1vZGUgPSBFQW5pbWF0aW9uTW9kZS5VUERBVEU7XG4gICAgICBsZXQgcHJldmlvdXM6IHtcbiAgICAgICAgaW5kZXg6IG51bWJlciB8IC0xO1xuICAgICAgICB5OiBudW1iZXI7XG4gICAgICAgIGhlaWdodDogbnVtYmVyIHwgbnVsbDtcbiAgICAgIH07XG4gICAgICBpZiAobG9va3VwLmhhcyhrZXkpKSB7XG4gICAgICAgIC8vIHN0aWxsIHZpc2libGVcbiAgICAgICAgY29uc3QgaXRlbSA9IGxvb2t1cC5nZXQoa2V5KSE7XG4gICAgICAgIGxvb2t1cC5kZWxldGUoa2V5KTtcblxuICAgICAgICAvLyB1cGRhdGUgaGVpZ2h0XG5cbiAgICAgICAgaXRlbS5uLmRhdGFzZXQuaW5kZXggPSBTdHJpbmcoaSk7XG4gICAgICAgIG5vZGUgPSB0aGlzLnByb3h5KGl0ZW0ubiwgdGhpcy51cGRhdGVSb3coaXRlbS5uLCBpKSk7XG4gICAgICAgIHByZXZpb3VzID0ge1xuICAgICAgICAgIGluZGV4OiBpdGVtLmksXG4gICAgICAgICAgeTogaXRlbS5wb3MsXG4gICAgICAgICAgaGVpZ2h0OiBwcmV2LmV4Y2VwdGlvbkhlaWdodE9mKGl0ZW0uaSwgdHJ1ZSlcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIG5lZWQgYSBuZXcgcm93XG4gICAgICAgIGNvbnN0IG9sZCA9IHByZXYucG9zQnlLZXkoa2V5KTtcbiAgICAgICAgLy8gbWF5YmUgbm90IHZpc2libGUgIGJlZm9yZSBzbyBrZWVwIGluIHBsYWNlXG4gICAgICAgIG5vZGUgPSB0aGlzLmNyZWF0ZShpKTtcblxuICAgICAgICBtb2RlID0gb2xkLmluZGV4IDwgMCA/IEVBbmltYXRpb25Nb2RlLlNIT1cgOiBFQW5pbWF0aW9uTW9kZS5VUERBVEVfQ1JFQVRFO1xuICAgICAgICBwcmV2aW91cyA9IHtcbiAgICAgICAgICBpbmRleDogb2xkLmluZGV4LFxuICAgICAgICAgIHk6IG9sZC5wb3MgPj0gMCA/IG9sZC5wb3MgOiBwb3MsXG4gICAgICAgICAgaGVpZ2h0OiBvbGQuaW5kZXggPCAwID8gY3VyLmV4Y2VwdGlvbkhlaWdodE9mKGksIHRydWUpIDogcHJldi5leGNlcHRpb25IZWlnaHRPZihvbGQuaW5kZXgsIHRydWUpXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBhbmltYXRpb24ucHVzaCh7XG4gICAgICAgIG5vZGUsXG4gICAgICAgIGtleSxcbiAgICAgICAgbW9kZSxcbiAgICAgICAgcHJldmlvdXMsXG4gICAgICAgIG5vZGVZLFxuICAgICAgICBub2RlWUN1cnJlbnRIZWlnaHQ6IHBvcyxcbiAgICAgICAgY3VycmVudDoge1xuICAgICAgICAgIGluZGV4OiBpLFxuICAgICAgICAgIHk6IHBvcyxcbiAgICAgICAgICBoZWlnaHQ6IGN1ci5leGNlcHRpb25IZWlnaHRPZihpKVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIG5vZGUuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgwLCAke25vZGVZIC0gcG9zfXB4KWA7XG4gICAgICBub2RlWSArPSBwcmV2aW91cy5oZWlnaHQhICsgKHByZXZpb3VzLmluZGV4IDwgMCA/IGN1ci5wYWRkaW5nKGkpIDogcHJldi5wYWRkaW5nKHByZXZpb3VzLmluZGV4KSk7XG5cbiAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKG5vZGUpO1xuICAgIH0pO1xuXG4gICAgbGV0IG5vZGVZQ3VycmVudEhlaWdodCA9IG5leHQuZW5kUG9zO1xuICAgIC8vIGl0ZW1zIHRoYXQgYXJlIGdvaW5nIHRvIGJlIHJlbW92ZWRcbiAgICBsb29rdXAuZm9yRWFjaCgoaXRlbSwga2V5KSA9PiB7XG4gICAgICAvLyBjYWxjdWxhdGUgdGhlaXIgbmV4dCBwb3NpdGlvblxuICAgICAgY29uc3QgciA9IGN1ci5wb3NCeUtleShrZXkpO1xuXG4gICAgICAvLyBtYXliZSBub3QgdmlzaWJsZSBhbnltb3JlLCBrZWVwIGluIHBsYWNlXG4gICAgICBjb25zdCBuZXh0UG9zID0gci5wb3MgPj0gMCA/IHIucG9zIDogaXRlbS5wb3M7XG4gICAgICBjb25zdCBub2RlID0gaXRlbS5uO1xuICAgICAgLy8gbG9jYXRlZCBhdCBhZGRlZFBvc1xuICAgICAgLy8gc2hvdWxkIGVuZCB1cCBhdCBuZXh0UG9zXG4gICAgICAvLyB3YXMgcHJldmlvdXNseSBhdCBpdGVtLnBvc1xuICAgICAgbm9kZS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKDAsICR7aXRlbS5wb3MgLSBub2RlWX1weClgO1xuICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQobm9kZSk7XG5cbiAgICAgIGNvbnN0IHByZXZIZWlnaHQgPSBwcmV2LmV4Y2VwdGlvbkhlaWdodE9mKGl0ZW0uaSwgdHJ1ZSk7XG5cbiAgICAgIGFuaW1hdGlvbi5wdXNoKHtcbiAgICAgICAgbm9kZTogaXRlbS5uLFxuICAgICAgICBrZXksXG4gICAgICAgIG1vZGU6IHIuaW5kZXggPCAwID8gRUFuaW1hdGlvbk1vZGUuSElERSA6IEVBbmltYXRpb25Nb2RlLlVQREFURV9SRU1PVkUsXG4gICAgICAgIHByZXZpb3VzOiB7XG4gICAgICAgICAgaW5kZXg6IGl0ZW0uaSxcbiAgICAgICAgICB5OiBpdGVtLnBvcyxcbiAgICAgICAgICBoZWlnaHQ6IHByZXZIZWlnaHRcbiAgICAgICAgfSxcbiAgICAgICAgbm9kZVksXG4gICAgICAgIG5vZGVZQ3VycmVudEhlaWdodCxcbiAgICAgICAgY3VycmVudDoge1xuICAgICAgICAgIGluZGV4OiByLmluZGV4LFxuICAgICAgICAgIHk6IG5leHRQb3MsXG4gICAgICAgICAgaGVpZ2h0OiByLmluZGV4IDwgMCA/IG51bGwgOiBjdXIuZXhjZXB0aW9uSGVpZ2h0T2Yoci5pbmRleClcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBub2RlWUN1cnJlbnRIZWlnaHQgKz0gci5pbmRleCA8IDAgPyBjdXIuY29udGV4dC5kZWZhdWx0Um93SGVpZ2h0IDogKGN1ci5leGNlcHRpb25IZWlnaHRPZihyLmluZGV4LCB0cnVlKSEgKyBjdXIucGFkZGluZyhyLmluZGV4KSk7XG4gICAgICBub2RlWSArPSBwcmV2SGVpZ2h0ISArIHByZXYucGFkZGluZyhpdGVtLmkpO1xuICAgIH0pO1xuXG4gICAgdGhpcy51cGRhdGVPZmZzZXQobmV4dC5maXJzdFJvd1Bvcyk7XG5cbiAgICB0aGlzLmFuaW1hdGUoYW5pbWF0aW9uLCBjdHgucGhhc2VzIHx8IGRlZmF1bHRQaGFzZXMsIHByZXYsIGN1ciwgZnJhZ21lbnQpO1xuICB9XG5cbiAgcHJpdmF0ZSBhbmltYXRlKGFuaW1hdGlvbjogSUFuaW1hdGlvbkl0ZW1bXSwgcGhhc2VzOiBJUGhhc2VbXSwgcHJldmlvdXNGaW5kZXI6IEtleUZpbmRlciwgY3VycmVudEZpbmRlcjogS2V5RmluZGVyLCBmcmFnbWVudDogRG9jdW1lbnRGcmFnbWVudCkge1xuICAgIGlmIChhbmltYXRpb24ubGVuZ3RoIDw9IDApIHtcbiAgICAgIHRoaXMuYm9keS5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IGN1cnJlbnRUaW1lcjogYW55ID0gLTE7XG4gICAgbGV0IGFjdFBoYXNlID0gMDtcblxuICAgIGNvbnN0IGV4ZWN1dGVQaGFzZSA9IChwaGFzZTogSVBoYXNlLCBpdGVtcyA9IGFuaW1hdGlvbikgPT4ge1xuICAgICAgaXRlbXMuZm9yRWFjaCgoYW5pbSkgPT4gcGhhc2UuYXBwbHkoYW5pbSwgcHJldmlvdXNGaW5kZXIsIGN1cnJlbnRGaW5kZXIpKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcnVuID0gKCkgPT4ge1xuICAgICAgLy9kdW1teSBsb2cgZm9yIGZvcmNpbmcgZG9tIHVwZGF0ZVxuICAgICAgY29uc29sZS5hc3NlcnQoYW5pbWF0aW9uWzBdIS5ub2RlLm9mZnNldFRvcCA+PSAwLCAnZHVtbXkgbG9nIGZvciBmb3JjaW5nIGRvbSB1cGRhdGUnKTtcbiAgICAgIGV4ZWN1dGVQaGFzZShwaGFzZXNbYWN0UGhhc2UrK10pO1xuXG4gICAgICAvLyBzaGlmdGVkIGJ5IG9uZSBzaW5jZSBhbHJlYWR5IGFkZGVkIHRocm91Z2ggKytcbiAgICAgIGlmIChhY3RQaGFzZSA8IHBoYXNlcy5sZW5ndGgpIHtcbiAgICAgICAgLy8gc2NoZWR1bGUgdGhlIG5leHQgb25lXG4gICAgICAgIGNvbnN0IG5leHQgPSBwaGFzZXNbYWN0UGhhc2VdITtcbiAgICAgICAgY3VycmVudFRpbWVyID0gc2V0VGltZW91dChydW4sIG5leHQuZGVsYXkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIGxhc3Qgb25lXG4gICAgICBjb25zdCBib2R5ID0gdGhpcy5ib2R5LmNsYXNzTGlzdDtcbiAgICAgIEFycmF5LmZyb20oYm9keSkuZm9yRWFjaCgodikgPT4ge1xuICAgICAgICBpZiAodi5zdGFydHNXaXRoKCdsZS0nKSAmJiB2LmVuZHNXaXRoKCctYW5pbWF0aW9uJykpIHtcbiAgICAgICAgICBib2R5LnJlbW92ZSh2KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBjbGVhbiB1cFxuICAgICAgYW5pbWF0aW9uLmZvckVhY2goKHtub2RlLCBtb2RlfSkgPT4ge1xuICAgICAgICBpZiAobW9kZSAhPT0gRUFuaW1hdGlvbk1vZGUuVVBEQVRFX1JFTU9WRSAmJiBtb2RlICE9PSBFQW5pbWF0aW9uTW9kZS5ISURFKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUucmVtb3ZlKCk7XG4gICAgICAgIG5vZGUuc3R5bGUudHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZWN5Y2xlKG5vZGUpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmFib3J0QW5pbWF0aW9uID0gKCkgPT4gdW5kZWZpbmVkO1xuICAgICAgY3VycmVudFRpbWVyID0gLTE7XG4gICAgfTtcblxuICAgIC8vIGV4ZWN1dGUgYWxsIHBoYXNlcyBoYXZpbmcgYSBkZWxheSBvZiB6ZXJvXG4gICAgd2hpbGUgKHBoYXNlc1thY3RQaGFzZV0uZGVsYXkgPT09IDApIHtcbiAgICAgIGV4ZWN1dGVQaGFzZShwaGFzZXNbYWN0UGhhc2UrK10pO1xuICAgIH1cbiAgICAvLyBhZnRlciB0aGUgaW5pdGlhbCBvbmVcbiAgICBjb25zdCBib2R5ID0gdGhpcy5ib2R5O1xuICAgIHRoaXMuYm9keS5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG5cbiAgICBjb25zdCBkdW1teUFuaW1hdGlvbjogSUFuaW1hdGlvbkl0ZW1bXSA9IFtdO1xuICAgIGFuaW1hdGlvbiA9IGFuaW1hdGlvbi5maWx0ZXIoKGQpID0+IHtcbiAgICAgIGlmIChub0FuaW1hdGlvbkNoYW5nZShkLCBwcmV2aW91c0ZpbmRlci5jb250ZXh0LmRlZmF1bHRSb3dIZWlnaHQsIGN1cnJlbnRGaW5kZXIuY29udGV4dC5kZWZhdWx0Um93SGVpZ2h0KSkge1xuICAgICAgICBkdW1teUFuaW1hdGlvbi5wdXNoKGQpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcblxuICAgIGlmIChkdW1teUFuaW1hdGlvbi5sZW5ndGggPiAwKSB7XG4gICAgICAvLyBleGVjdXRlIGFsbCBwaGFzZXMgZm9yIHRoZW1cbiAgICAgIHBoYXNlcy5zbGljZShhY3RQaGFzZSkuZm9yRWFjaCgocGhhc2UpID0+IGV4ZWN1dGVQaGFzZShwaGFzZSwgZHVtbXlBbmltYXRpb24pKTtcbiAgICB9XG5cbiAgICBpZiAoYW5pbWF0aW9uLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGJvZHkuY2xhc3NMaXN0LmFkZCgnbGUtcm93LWFuaW1hdGlvbicpO1xuICAgIChuZXcgU2V0KGFuaW1hdGlvbi5tYXAoKGQpID0+IGQubW9kZSkpKS5mb3JFYWNoKChtb2RlKSA9PiB7XG4gICAgICAvLyBhZGQgY2xhc3MgYnV0IG1hcCB0byBVUERBVEUgb25seVxuICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKGBsZS0ke0VBbmltYXRpb25Nb2RlW21vZGVdLnRvTG93ZXJDYXNlKCkuc3BsaXQoJ18nKVswXX0tYW5pbWF0aW9uYCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmFib3J0QW5pbWF0aW9uID0gKCkgPT4ge1xuICAgICAgaWYgKGN1cnJlbnRUaW1lciA8PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIGFib3J0IGJ5IHJlbW92aW5nXG4gICAgICBjbGVhclRpbWVvdXQoY3VycmVudFRpbWVyKTtcbiAgICAgIGN1cnJlbnRUaW1lciA9IC0xO1xuICAgICAgLy8gcnVuIHRoZSBsYXN0IHBoYXNlXG4gICAgICBhY3RQaGFzZSA9IHBoYXNlcy5sZW5ndGggLSAxO1xuICAgICAgcnVuKCk7XG4gICAgfTtcblxuICAgIC8vIG5leHQgdGljayBzdWNoIHRoYXQgRE9NIHdpbGwgYmUgdXBkYXRlZFxuICAgIGN1cnJlbnRUaW1lciA9IHNldFRpbWVvdXQocnVuLCBwaGFzZXNbYWN0UGhhc2VdLmRlbGF5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBjbGVhcnMgdGhlIHJvdyBwb29sIHVzZWQgZm9yIGZhc3RlciBjcmVhdGlvblxuICAgKi9cbiAgcHJvdGVjdGVkIGNsZWFyUG9vbCgpIHtcbiAgICAvLyBjbGVhciBwb29sXG4gICAgdGhpcy5wb29sLnNwbGljZSgwLCB0aGlzLnBvb2wubGVuZ3RoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB0cmlnZ2VycyBhIHJldmFsaWRhdGlvbiBvZiB0aGUgY3VycmVudCBzY3JvbGxpbmcgb2ZmZXN0XG4gICAqL1xuICBwcm90ZWN0ZWQgcmV2YWxpZGF0ZSgpIHtcbiAgICBjb25zdCBzY3JvbGxlciA9IHRoaXMuYm9keVNjcm9sbGVyO1xuICAgIHRoaXMub25TY3JvbGxlZFZlcnRpY2FsbHkoc2Nyb2xsZXIuc2Nyb2xsVG9wLCBzY3JvbGxlci5jbGllbnRIZWlnaHQsIHRydWUpO1xuICAgIHRoaXMudXBkYXRlT2Zmc2V0KHRoaXMudmlzaWJsZUZpcnN0Um93UG9zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBzY3JvbGxpbmcgdmVydGljYWxseVxuICAgKiBAcGFyYW0ge251bWJlcn0gc2Nyb2xsVG9wIHRvcCBzY3JvbGxpbmdcbiAgICogQHBhcmFtIHtudW1iZXJ9IGNsaWVudEhlaWdodCB2aXNpYmxlIGhlaWdodFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzR29pbmdEb3duIGhpbnQgd2hldGhlciB0aGUgc2Nyb2xsVG9wIGluY3JlYXNlc1xuICAgKiBAcmV0dXJuIHtFU2Nyb2xsUmVzdWx0fSBmdWxsIGluIGNhc2Ugb2YgYSBmdWxsIHJlYnVpbGQgb3IgcGFydGlhbCB1cGRhdGVcbiAgICovXG4gIHByb3RlY3RlZCBvblNjcm9sbGVkVmVydGljYWxseShzY3JvbGxUb3A6IG51bWJlciwgY2xpZW50SGVpZ2h0OiBudW1iZXIsIGlzR29pbmdEb3duOiBib29sZWFuKTogRVNjcm9sbFJlc3VsdCB7XG4gICAgY29uc3Qgc2Nyb2xsUmVzdWx0ID0gdGhpcy5vblNjcm9sbGVkSW1wbChzY3JvbGxUb3AsIGNsaWVudEhlaWdodCk7XG4gICAgdGhpcy5taXhpbnMuZm9yRWFjaCgobWl4aW4pID0+IG1peGluLm9uU2Nyb2xsZWQoaXNHb2luZ0Rvd24sIHNjcm9sbFJlc3VsdCkpO1xuICAgIHJldHVybiBzY3JvbGxSZXN1bHQ7XG4gIH1cblxuICBwcml2YXRlIG9uU2Nyb2xsZWRJbXBsKHNjcm9sbFRvcDogbnVtYmVyLCBjbGllbnRIZWlnaHQ6IG51bWJlcik6IEVTY3JvbGxSZXN1bHQge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgY29uc3Qge2ZpcnN0LCBsYXN0LCBmaXJzdFJvd1Bvc30gPSByYW5nZShzY3JvbGxUb3AsIGNsaWVudEhlaWdodCwgY29udGV4dC5kZWZhdWx0Um93SGVpZ2h0LCBjb250ZXh0LmV4Y2VwdGlvbnMsIGNvbnRleHQubnVtYmVyT2ZSb3dzKTtcblxuICAgIGNvbnN0IHZpc2libGUgPSB0aGlzLnZpc2libGU7XG4gICAgdmlzaWJsZS5mb3JjZWRGaXJzdCA9IGZpcnN0O1xuICAgIHZpc2libGUuZm9yY2VkTGFzdCA9IGxhc3Q7XG5cbiAgICBpZiAoKGZpcnN0IC0gdmlzaWJsZS5maXJzdCkgPj0gMCAmJiAobGFzdCAtIHZpc2libGUubGFzdCkgPD0gMCkge1xuICAgICAgLy9ub3RoaW5nIHRvIGRvXG4gICAgICByZXR1cm4gRVNjcm9sbFJlc3VsdC5OT05FO1xuICAgIH1cblxuICAgIGxldCByOiBFU2Nyb2xsUmVzdWx0ID0gRVNjcm9sbFJlc3VsdC5QQVJUSUFMO1xuXG4gICAgaWYgKGZpcnN0ID4gdmlzaWJsZS5sYXN0IHx8IGxhc3QgPCB2aXNpYmxlLmZpcnN0KSB7XG4gICAgICAvL25vIG92ZXJsYXAsIGNsZWFuIGFuZCBkcmF3IGV2ZXJ5dGhpbmdcbiAgICAgIC8vY29uc29sZS5sb2coYGZmIGFkZGVkOiAke2xhc3QgLSBmaXJzdCArIDF9IHJlbW92ZWQ6ICR7dmlzaWJsZUxhc3QgLSB2aXNpYmxlRmlyc3QgKyAxfSAke2ZpcnN0fToke2xhc3R9ICR7b2Zmc2V0fWApO1xuICAgICAgLy9yZW1vdmVSb3dzKHZpc2libGVGaXJzdCwgdmlzaWJsZUxhc3QpO1xuICAgICAgdGhpcy5yZW1vdmVBbGwoKTtcbiAgICAgIHRoaXMuYWRkQXRCb3R0b20oZmlyc3QsIGxhc3QpO1xuICAgICAgciA9IEVTY3JvbGxSZXN1bHQuQUxMO1xuICAgIH0gZWxzZSBpZiAoZmlyc3QgPCB2aXNpYmxlLmZpcnN0KSB7XG4gICAgICAvL3NvbWUgZmlyc3Qgcm93cyBtaXNzaW5nIGFuZCBzb21lIGxhc3Qgcm93cyB0byBtdWNoXG4gICAgICAvL2NvbnNvbGUubG9nKGB1cCBhZGRlZDogJHt2aXNpYmxlRmlyc3QgLSBmaXJzdCArIDF9IHJlbW92ZWQ6ICR7dmlzaWJsZUxhc3QgLSBsYXN0ICsgMX0gJHtmaXJzdH06JHtsYXN0fSAke29mZnNldH1gKTtcbiAgICAgIHRoaXMucmVtb3ZlRnJvbUJvdHRvbShsYXN0ICsgMSwgdmlzaWJsZS5sYXN0KTtcbiAgICAgIHRoaXMuYWRkQXRCZWdpbm5pbmcoZmlyc3QsIHZpc2libGUuZmlyc3QgLSAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy9jb25zb2xlLmxvZyhgZG8gYWRkZWQ6ICR7bGFzdCAtIHZpc2libGVMYXN0ICsgMX0gcmVtb3ZlZDogJHtmaXJzdCAtIHZpc2libGVGaXJzdCArIDF9ICR7Zmlyc3R9OiR7bGFzdH0gJHtvZmZzZXR9YCk7XG4gICAgICAvL3NvbWUgbGFzdCByb3dzIG1pc3NpbmcgYW5kIHNvbWUgZmlyc3Qgcm93cyB0byBtdWNoXG4gICAgICB0aGlzLnJlbW92ZUZyb21CZWdpbm5pbmcodmlzaWJsZS5maXJzdCwgZmlyc3QgLSAxKTtcbiAgICAgIHRoaXMuYWRkQXRCb3R0b20odmlzaWJsZS5sYXN0ICsgMSwgbGFzdCk7XG4gICAgfVxuXG4gICAgdmlzaWJsZS5maXJzdCA9IGZpcnN0O1xuICAgIHZpc2libGUubGFzdCA9IGxhc3Q7XG5cbiAgICB0aGlzLnVwZGF0ZU9mZnNldChmaXJzdFJvd1Bvcyk7XG4gICAgcmV0dXJuIHI7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQVJvd1JlbmRlcmVyO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9BUm93UmVuZGVyZXIudHMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFrQ0E7QUFtQ0E7QUFBQTtBQUFBO0FBQUE7QUFsQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFNQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFBQTtBQUNBO0FBQ0E7OztBQUFBO0FBNEJBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBR0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUdBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7O0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n");

/***/ }),
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__GridStyleManager__ = __webpack_require__(8);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return __WEBPACK_IMPORTED_MODULE_0__GridStyleManager__[\"b\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return __WEBPACK_IMPORTED_MODULE_0__GridStyleManager__[\"c\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return __WEBPACK_IMPORTED_MODULE_0__GridStyleManager__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return __WEBPACK_IMPORTED_MODULE_0__GridStyleManager__[\"d\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__StyleManager__ = __webpack_require__(9);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return __WEBPACK_IMPORTED_MODULE_1__StyleManager__[\"a\"]; });\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvc3R5bGUvaW5kZXgudHM/MDY4NiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQge0lDb2x1bW59IGZyb20gJy4vSUNvbHVtbic7XG5leHBvcnQge2RlZmF1bHQgYXMgR3JpZFN0eWxlTWFuYWdlciwgc2V0Q29sdW1uLCBURU1QTEFURSwgc2V0VGVtcGxhdGV9IGZyb20gJy4vR3JpZFN0eWxlTWFuYWdlcic7XG5leHBvcnQge2RlZmF1bHQgYXMgU3R5bGVNYW5hZ2VyfSBmcm9tICcuL1N0eWxlTWFuYWdlcic7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL3N0eWxlL2luZGV4LnRzIl0sIm1hcHBpbmdzIjoiQUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4\n");

/***/ }),
/* 5 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ABORTED; });\n/* unused harmony export default */\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = isAbortAble;\nvar ABORTED = Symbol('aborted');\r\nfunction abortAble(loader) {\r\n    return {\r\n        then: function (onfulfilled) {\r\n            var aborted = null;\r\n            var isAborted = function () { return aborted === null; };\r\n            var aborter = new Promise(function (resolve) { return aborted = resolve; });\r\n            var fullfiller = loader.then(function (r) {\r\n                if (isAborted()) {\r\n                    return ABORTED;\r\n                }\r\n                return Promise.resolve(onfulfilled(r)).then(function (r) { return isAborted() ? ABORTED : r; });\r\n            });\r\n            var p = Promise.race([aborter, fullfiller]);\r\n            return _a = {\r\n                    abort: function () {\r\n                        if (aborted !== null) {\r\n                            aborted(ABORTED);\r\n                            aborted = null;\r\n                        }\r\n                    },\r\n                    then: p.then.bind(p),\r\n                    catch: p.catch.bind(p)\r\n                },\r\n                _a[Symbol.toStringTag] = p[Symbol.toStringTag],\r\n                _a;\r\n            var _a;\r\n        }\r\n    };\r\n}\r\nfunction isAbortAble(abortAble) {\r\n    return abortAble !== undefined && abortAble !== null && abortAble && typeof abortAble.then === 'function' && typeof abortAble.abort === 'function';\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvYWJvcnRBYmxlLnRzP2IyYmEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBJQWJvcnRBYmxlUHJvbWlzZTxUPiBleHRlbmRzIFByb21pc2U8VCB8IHN5bWJvbD4ge1xuICBhYm9ydCgpOiB2b2lkO1xufVxuXG5leHBvcnQgY29uc3QgQUJPUlRFRCA9IFN5bWJvbCgnYWJvcnRlZCcpO1xuXG4vKipcbiAqIGFib3J0IGFibGUgUHJvbWlzZSB3cmFwcGVyLCByZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBjYW4gYmUgYWJvcnRlZCwgYW5kIHRyeWluZyB0byBhdm9pZCBleGVjdXRpbmcgdGhlcmVmb3JlIHRoZSB3cmFwcGVkIHByb21pc2VcbiAqIEBwYXJhbSB7UHJvbWlzZTxUPn0gbG9hZGVyXG4gKiBAcmV0dXJucyB7YW55fVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhYm9ydEFibGU8VD4obG9hZGVyOiBQcm9taXNlPFQ+KSB7XG4gIHJldHVybiB7XG4gICAgdGhlbjxUUmVzdWx0MT4ob25mdWxmaWxsZWQ6ICgodmFsdWU6IFQpID0+IFRSZXN1bHQxIHwgUHJvbWlzZUxpa2U8VFJlc3VsdDE+KSk6IElBYm9ydEFibGVQcm9taXNlPFRSZXN1bHQxPiB7XG4gICAgICBsZXQgYWJvcnRlZDogKCh2OiBzeW1ib2wpID0+IHZvaWQpIHwgbnVsbCA9IG51bGw7XG4gICAgICBjb25zdCBpc0Fib3J0ZWQgPSAoKSA9PiBhYm9ydGVkID09PSBudWxsO1xuICAgICAgY29uc3QgYWJvcnRlciA9IG5ldyBQcm9taXNlPHN5bWJvbD4oKHJlc29sdmUpID0+IGFib3J0ZWQgPSByZXNvbHZlKTtcbiAgICAgIGNvbnN0IGZ1bGxmaWxsZXIgPSBsb2FkZXIudGhlbigocikgPT4ge1xuICAgICAgICBpZiAoaXNBYm9ydGVkKCkpIHtcbiAgICAgICAgICByZXR1cm4gQUJPUlRFRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG9uZnVsZmlsbGVkKHIpKS50aGVuKChyKSA9PiBpc0Fib3J0ZWQoKSA/IEFCT1JURUQgOiByKTtcbiAgICAgIH0pO1xuICAgICAgY29uc3QgcCA9IFByb21pc2UucmFjZTxUUmVzdWx0MSB8IHN5bWJvbD4oW2Fib3J0ZXIsIGZ1bGxmaWxsZXJdKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFib3J0OiAoKTogdm9pZCA9PiB7XG4gICAgICAgICAgaWYgKGFib3J0ZWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGFib3J0ZWQoQUJPUlRFRCk7XG4gICAgICAgICAgICBhYm9ydGVkID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHRoZW46IHAudGhlbi5iaW5kKHApLFxuICAgICAgICBjYXRjaDogcC5jYXRjaC5iaW5kKHApLFxuICAgICAgICBbU3ltYm9sLnRvU3RyaW5nVGFnXTogcFtTeW1ib2wudG9TdHJpbmdUYWddXG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBjaGVja2VkIHdoZXRoZXIgdGhlIGdpdmVuIGFyZ3VtZW50IGlzIGFuIGFib3J0YWJsZSBQcm9taXNlXG4gKiBAcGFyYW0ge0lBYm9ydEFibGVQcm9taXNlPGFueT4gfCB2b2lkIHwgbnVsbCB8IHVuZGVmaW5lZH0gYWJvcnRBYmxlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQWJvcnRBYmxlKGFib3J0QWJsZTogSUFib3J0QWJsZVByb21pc2U8YW55PiB8IHZvaWQgfCB1bmRlZmluZWQgfCBudWxsKTogYWJvcnRBYmxlIGlzIElBYm9ydEFibGVQcm9taXNlPGFueT4ge1xuICByZXR1cm4gYWJvcnRBYmxlICE9PSB1bmRlZmluZWQgJiYgYWJvcnRBYmxlICE9PSBudWxsICYmIGFib3J0QWJsZSAmJiB0eXBlb2YgYWJvcnRBYmxlLnRoZW4gPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGFib3J0QWJsZS5hYm9ydCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvYWJvcnRBYmxlLnRzIl0sIm1hcHBpbmdzIjoiQUFJQTtBQUFBO0FBQUE7QUFBQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5\n");

/***/ }),
/* 6 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("var KeyFinder = (function () {\r\n    function KeyFinder(context, key) {\r\n        var _this = this;\r\n        this.context = context;\r\n        this.key = key;\r\n        this.cache = [];\r\n        this.lastFilled = 0;\r\n        this.key2index = new Map();\r\n        this.context.exceptions.forEach(function (e) {\r\n            _this.cache[e.index] = e.y;\r\n            _this.key2index.set(key(e.index), e.index);\r\n        });\r\n    }\r\n    KeyFinder.prototype.findValidStart = function (before) {\r\n        for (var i = before - 1; i >= 0; --i) {\r\n            if (this.cache[i] !== undefined) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    };\r\n    KeyFinder.prototype.posByKey = function (key) {\r\n        if (this.key2index.has(key)) {\r\n            var index = this.key2index.get(key);\r\n            return { index: index, pos: this.pos(index) };\r\n        }\r\n        return this.fillCacheTillKey(key);\r\n    };\r\n    KeyFinder.prototype.pos = function (index) {\r\n        if (this.context.exceptions.length === 0) {\r\n            return index * this.context.defaultRowHeight;\r\n        }\r\n        var cached = this.cache[index];\r\n        if (cached !== undefined) {\r\n            return cached;\r\n        }\r\n        var start = this.findValidStart(index);\r\n        if (start < 0) {\r\n            this.fillCache(0, index, 0);\r\n        }\r\n        else {\r\n            this.fillCache(start + 1, index, this.cache[start] + this.heightOf(start));\r\n        }\r\n        return this.cache[index];\r\n    };\r\n    KeyFinder.prototype.fillCache = function (first, last, offset, callback) {\r\n        if (last <= this.lastFilled) {\r\n            if (!callback) {\r\n                return;\r\n            }\r\n            for (var i = first; i <= last; ++i) {\r\n                callback(i, this.key(i), this.cache[i]);\r\n            }\r\n            return;\r\n        }\r\n        var pos = offset;\r\n        for (var i = first; i <= last; ++i) {\r\n            this.cache[i] = pos;\r\n            var key = this.key(i);\r\n            this.key2index.set(key, i);\r\n            if (callback) {\r\n                callback(i, key, pos);\r\n            }\r\n            pos += this.heightOf(i);\r\n        }\r\n    };\r\n    KeyFinder.prototype.heightOf = function (index) {\r\n        var lookup = this.context.exceptionsLookup;\r\n        return lookup.has(index) ? lookup.get(index) : this.context.defaultRowHeight;\r\n    };\r\n    KeyFinder.prototype.exceptionHeightOf = function (index, returnDefault) {\r\n        if (returnDefault === void 0) { returnDefault = false; }\r\n        var padding = this.context.padding(index);\r\n        var lookup = this.context.exceptionsLookup;\r\n        if (lookup.has(index)) {\r\n            return lookup.get(index) - padding;\r\n        }\r\n        return returnDefault ? this.context.defaultRowHeight - padding : null;\r\n    };\r\n    KeyFinder.prototype.padding = function (index) {\r\n        return this.context.padding(index);\r\n    };\r\n    KeyFinder.prototype.fillCacheTillKey = function (target) {\r\n        var pos = 0;\r\n        for (var i = this.lastFilled; i < this.context.numberOfRows; ++i, ++this.lastFilled) {\r\n            var c = this.cache[i];\r\n            if (c !== undefined) {\r\n                pos = c + this.heightOf(i);\r\n                continue;\r\n            }\r\n            var key = this.key(i);\r\n            this.cache[i] = pos;\r\n            this.key2index.set(key, i);\r\n            if (key === target) {\r\n                return { index: i, pos: pos };\r\n            }\r\n            pos += this.heightOf(i);\r\n        }\r\n        return { index: -1, pos: -1 };\r\n    };\r\n    KeyFinder.prototype.positions = function (first, last, offset, callback) {\r\n        this.fillCache(first, last, offset, callback);\r\n    };\r\n    return KeyFinder;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (KeyFinder);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvYW5pbWF0aW9uL0tleUZpbmRlci50cz82YmUwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7SUV4Y2VwdGlvbkNvbnRleHR9IGZyb20gJy4uL2xvZ2ljJztcblxuLyoqXG4gKiB1dGlsaXR5IGNsYXNzIGZvciBvcHRpbWl6ZWQgcm93IGNvbnRleHQgYWNjZXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEtleUZpbmRlciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgY2FjaGU6IG51bWJlcltdID0gW107XG4gIHByaXZhdGUgbGFzdEZpbGxlZCA9IDA7XG4gIHByaXZhdGUgcmVhZG9ubHkga2V5MmluZGV4ID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKTtcblxuICAvKipcbiAgICogY29uc3RydWN0b3IgZm9yIGZhc3Qga2V5IGJhc2VkIHJvdyBhY2Nlc3NcbiAgICogQHBhcmFtIHtJRXhjZXB0aW9uQ29udGV4dH0gY29udGV4dCBjb250ZXh0IHRvIHVzZVxuICAgKiBAcGFyYW0geyhyb3dJbmRleDogbnVtYmVyKSA9PiBzdHJpbmd9IGtleSBrZXkgZnVuY3Rpb25cbiAgICovXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBjb250ZXh0OiBJRXhjZXB0aW9uQ29udGV4dCwgcHVibGljIHJlYWRvbmx5IGtleTogKHJvd0luZGV4OiBudW1iZXIpID0+IHN0cmluZykge1xuICAgIHRoaXMuY29udGV4dC5leGNlcHRpb25zLmZvckVhY2goKGUpID0+IHtcbiAgICAgIHRoaXMuY2FjaGVbZS5pbmRleF0gPSBlLnk7XG4gICAgICB0aGlzLmtleTJpbmRleC5zZXQoa2V5KGUuaW5kZXgpLCBlLmluZGV4KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgZmluZFZhbGlkU3RhcnQoYmVmb3JlOiBudW1iZXIpIHtcbiAgICBmb3IgKGxldCBpID0gYmVmb3JlIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIGlmICh0aGlzLmNhY2hlW2ldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiByZXR1cm5zIHRoZSBwb3NpdGlvbiBvZiB0aGUgZ2l2ZW4gZ2l2ZW4gb3IgLTEgaWYgbm90IGZvdW5kXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAgICogQHJldHVybiB7bnVtYmVyfSAtMSBpZiBub3QgZm91bmRcbiAgICovXG4gIHBvc0J5S2V5KGtleTogc3RyaW5nKSB7XG4gICAgaWYgKHRoaXMua2V5MmluZGV4LmhhcyhrZXkpKSB7XG4gICAgICBjb25zdCBpbmRleCA9IHRoaXMua2V5MmluZGV4LmdldChrZXkpITtcbiAgICAgIHJldHVybiB7aW5kZXgsIHBvczogdGhpcy5wb3MoaW5kZXgpfTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZmlsbENhY2hlVGlsbEtleShrZXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIHJldHVybnMgdGhlIHBvc2l0aW9uIG9mIHRoZSB0dGhlIGdpdmVuIGluZGV4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBpbmRleCB0byBsb29rIGZvclxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cbiAgcG9zKGluZGV4OiBudW1iZXIpIHtcbiAgICBpZiAodGhpcy5jb250ZXh0LmV4Y2VwdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBmYXN0IHBhc3NcbiAgICAgIHJldHVybiBpbmRleCAqIHRoaXMuY29udGV4dC5kZWZhdWx0Um93SGVpZ2h0O1xuICAgIH1cbiAgICBjb25zdCBjYWNoZWQgPSB0aGlzLmNhY2hlW2luZGV4XTtcbiAgICBpZiAoY2FjaGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgfVxuICAgIC8vbmVlZCB0byBjb21wdXRlIGl0XG4gICAgLy8gZmluZCB0aGUgc3RhcnRpbmcgcG9pbnQgd2hlcmUgdG8gc3RhcnQgY291bnRpbmdcbiAgICBjb25zdCBzdGFydCA9IHRoaXMuZmluZFZhbGlkU3RhcnQoaW5kZXgpO1xuICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgIHRoaXMuZmlsbENhY2hlKDAsIGluZGV4LCAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5maWxsQ2FjaGUoc3RhcnQgKyAxLCBpbmRleCwgdGhpcy5jYWNoZVtzdGFydF0gKyB0aGlzLmhlaWdodE9mKHN0YXJ0KSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNhY2hlW2luZGV4XSE7XG4gIH1cblxuICBwcml2YXRlIGZpbGxDYWNoZShmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXIsIG9mZnNldDogbnVtYmVyLCBjYWxsYmFjaz86IChpbmRleDogbnVtYmVyLCBrZXk6IHN0cmluZywgcG9zOiBudW1iZXIpID0+IHZvaWQpIHtcbiAgICBpZiAobGFzdCA8PSB0aGlzLmxhc3RGaWxsZWQpIHtcbiAgICAgIC8vZXZlcnl0aGluZyBhbHJlYWR5IHRoZXJlXG4gICAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGkgPSBmaXJzdDsgaSA8PSBsYXN0OyArK2kpIHtcbiAgICAgICAgY2FsbGJhY2soaSwgdGhpcy5rZXkoaSksIHRoaXMuY2FjaGVbaV0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgcG9zID0gb2Zmc2V0O1xuICAgIGZvciAobGV0IGkgPSBmaXJzdDsgaSA8PSBsYXN0OyArK2kpIHtcbiAgICAgIHRoaXMuY2FjaGVbaV0gPSBwb3M7XG4gICAgICBjb25zdCBrZXkgPSB0aGlzLmtleShpKTtcbiAgICAgIHRoaXMua2V5MmluZGV4LnNldChrZXksIGkpO1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKGksIGtleSwgcG9zKTtcbiAgICAgIH1cbiAgICAgIHBvcyArPSB0aGlzLmhlaWdodE9mKGkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiByZXR1cm5zIHRoZSBoZWlnaHQgb2YgdGhlIHJvdyBpZGVudGlmaWVkIGJ5IGluZGV4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cbiAgaGVpZ2h0T2YoaW5kZXg6IG51bWJlcikge1xuICAgIGNvbnN0IGxvb2t1cCA9IHRoaXMuY29udGV4dC5leGNlcHRpb25zTG9va3VwO1xuICAgIHJldHVybiBsb29rdXAuaGFzKGluZGV4KSA/IGxvb2t1cC5nZXQoaW5kZXgpISA6IHRoaXMuY29udGV4dC5kZWZhdWx0Um93SGVpZ2h0O1xuICB9XG5cbiAgLyoqXG4gICAqIHNlZSBoZWlnaHRPZiBidXQgaWdub3JlcyBwYWRkaW5nIGFuZCBvcHRpb25hbCBudWxsIGluIGNhc2Ugb2YgZGVmYXVsdCBoZWlnaHRcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IHJvdyBpbmRleFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJldHVybkRlZmF1bHQgcmV0dXJuIG51bGwgaWYgZGVmYXVsdCBoZWlnaHRcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG4gIGV4Y2VwdGlvbkhlaWdodE9mKGluZGV4OiBudW1iZXIsIHJldHVybkRlZmF1bHQ6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgIGNvbnN0IHBhZGRpbmcgPSB0aGlzLmNvbnRleHQucGFkZGluZyhpbmRleCk7XG4gICAgY29uc3QgbG9va3VwID0gdGhpcy5jb250ZXh0LmV4Y2VwdGlvbnNMb29rdXA7XG4gICAgaWYgKGxvb2t1cC5oYXMoaW5kZXgpKSB7XG4gICAgICByZXR1cm4gbG9va3VwLmdldChpbmRleCkhIC0gcGFkZGluZztcbiAgICB9XG4gICAgcmV0dXJuIHJldHVybkRlZmF1bHQgPyB0aGlzLmNvbnRleHQuZGVmYXVsdFJvd0hlaWdodCAtIHBhZGRpbmcgOiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIHBhZGRpbmcgb2YgdGhlIGdpdmVuIGluZGV4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cbiAgcGFkZGluZyhpbmRleDogbnVtYmVyKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGV4dC5wYWRkaW5nKGluZGV4KTtcbiAgfVxuXG4gIHByaXZhdGUgZmlsbENhY2hlVGlsbEtleSh0YXJnZXQ6IHN0cmluZykge1xuICAgIGxldCBwb3MgPSAwO1xuICAgIGZvciAobGV0IGkgPSB0aGlzLmxhc3RGaWxsZWQ7IGkgPCB0aGlzLmNvbnRleHQubnVtYmVyT2ZSb3dzOyArK2ksICsrdGhpcy5sYXN0RmlsbGVkKSB7XG4gICAgICBjb25zdCBjID0gdGhpcy5jYWNoZVtpXTtcbiAgICAgIGlmIChjICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcG9zID0gYyArIHRoaXMuaGVpZ2h0T2YoaSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgLy8gbmV3IG9uZSBmaWxsIHVwXG4gICAgICBjb25zdCBrZXkgPSB0aGlzLmtleShpKTtcbiAgICAgIHRoaXMuY2FjaGVbaV0gPSBwb3M7XG4gICAgICB0aGlzLmtleTJpbmRleC5zZXQoa2V5LCBpKTtcbiAgICAgIGlmIChrZXkgPT09IHRhcmdldCkge1xuICAgICAgICByZXR1cm4ge2luZGV4OiBpLCBwb3N9O1xuICAgICAgfVxuICAgICAgcG9zICs9IHRoaXMuaGVpZ2h0T2YoaSk7XG4gICAgfVxuICAgIHJldHVybiB7aW5kZXg6IC0xLCBwb3M6IC0xfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBjb21wdXRlcyB0aGUgcG9zaXRpb25zIGFuZCBrZXlzIGZvciBhIHJhbmdlIG9mIGdpdmVuIGluZGljZXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZpcnN0IGZpcnN0IHJvdyBpbmRleFxuICAgKiBAcGFyYW0ge251bWJlcn0gbGFzdCBsYXN0IHJvdyBpbmRleFxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IHBvcyBvZmZzZXQgZm9yIHRoZSBmaXJzdCByb3cgaW5kZXhcbiAgICogQHBhcmFtIHsoaW5kZXg6IG51bWJlciwga2V5OiBzdHJpbmcsIHBvczogbnVtYmVyKSA9PiB2b2lkfSBjYWxsYmFjayBjYWxsYWNrIGZvciBlYWNoIGlkZW50aWZpZWQgaW5kZXhcbiAgICovXG4gIHBvc2l0aW9ucyhmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXIsIG9mZnNldDogbnVtYmVyLCBjYWxsYmFjaz86IChpbmRleDogbnVtYmVyLCBrZXk6IHN0cmluZywgcG9zOiBudW1iZXIpID0+IHZvaWQpIHtcbiAgICB0aGlzLmZpbGxDYWNoZShmaXJzdCwgbGFzdCwgb2Zmc2V0LCBjYWxsYmFjayk7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvYW5pbWF0aW9uL0tleUZpbmRlci50cyJdLCJtYXBwaW5ncyI6IkFBS0E7QUFVQTtBQUFBO0FBQUE7QUFBQTtBQVRBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6\n");

/***/ }),
/* 7 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return EScrollResult; });\nvar EScrollResult;\r\n(function (EScrollResult) {\r\n    EScrollResult[EScrollResult[\"NONE\"] = 0] = \"NONE\";\r\n    EScrollResult[EScrollResult[\"ALL\"] = 1] = \"ALL\";\r\n    EScrollResult[EScrollResult[\"PARTIAL\"] = 2] = \"PARTIAL\";\r\n})(EScrollResult || (EScrollResult = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvbWl4aW4vSU1peGluLnRzP2Y5YzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtJRXhjZXB0aW9uQ29udGV4dH0gZnJvbSAnLi4vbG9naWMnO1xuXG4vKipcbiAqIHNjcm9sbGluZyByZXN1bHRcbiAqL1xuZXhwb3J0IGVudW0gRVNjcm9sbFJlc3VsdCB7XG4gIC8qKlxuICAgKiBub3RoaW5nIGhhcyBjaGFuZ2VkXG4gICAqL1xuICBOT05FLFxuICAvKipcbiAgICogYWxsIHJvd3MgbmVlZGVkIHRvIGJlIHJlY3JlYXRlZFxuICAgKi9cbiAgQUxMLFxuICAvKipcbiAgICogcGFydGlhbCByb3dzIG5lZWQgdG8gYmUgY3JlYXRlZFxuICAgKi9cbiAgUEFSVElBTFxufVxuXG4vKipcbiAqIGFkYXB0ZXIgY29udGV4dCBmb3IgbWl4aW5zIHRvIGF2b2lkIHB1YmxpYyBmaWVsZHNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJTWl4aW5BZGFwdGVyIHtcbiAgcmVhZG9ubHkgdmlzaWJsZToge1xuICAgIC8vd3JpdGFibGVcbiAgICBmaXJzdDogbnVtYmVyO1xuICAgIGxhc3Q6IG51bWJlcjtcbiAgICBmb3JjZWRGaXJzdDogbnVtYmVyO1xuICAgIGZvcmNlZExhc3Q6IG51bWJlcjtcbiAgfTtcbiAgcmVhZG9ubHkgdmlzaWJsZUZpcnN0Um93UG9zOiBudW1iZXI7XG5cbiAgcmVhZG9ubHkgY29udGV4dDogSUV4Y2VwdGlvbkNvbnRleHQ7XG4gIHJlYWRvbmx5IHNjcm9sbGVyOiBIVE1MRWxlbWVudDtcblxuICBhZGRBdEJlZ2lubmluZyhmcm9tOiBudW1iZXIsIHRvOiBudW1iZXIsIGZyb3plblNoaWZ0OiBudW1iZXIpOiB2b2lkO1xuXG4gIGFkZEF0Qm90dG9tKGZyb206IG51bWJlciwgdG86IG51bWJlcik6IHZvaWQ7XG5cbiAgcmVtb3ZlRnJvbUJlZ2lubmluZyhmcm9tOiBudW1iZXIsIHRvOiBudW1iZXIsIGZyb3plblNoaWZ0OiBudW1iZXIpOiB2b2lkO1xuXG4gIHJlbW92ZUZyb21Cb3R0b20oZnJvbTogbnVtYmVyLCB0bzogbnVtYmVyKTogdm9pZDtcblxuICB1cGRhdGVPZmZzZXQoZmlyc3RSb3dQb3M6IG51bWJlcik6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIHRyaWdnZXJzIHRvIHN5bmMgZnJvemVuIGl0ZW1zXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmaXJzdFxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IGZyb3plblNoaWZ0XG4gICAqL1xuICBzeW5jRnJvemVuPyhmaXJzdDogbnVtYmVyKTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElNaXhpbiB7XG4gIG9uU2Nyb2xsZWQoaXNHb2luZ0Rvd246IGJvb2xlYW4sIHNjcm9sbFJlc3VsdDogRVNjcm9sbFJlc3VsdCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSU1peGluQ2xhc3Mge1xuICBuZXcoYWRhcHRlcjogSU1peGluQWRhcHRlciwgb3B0aW9ucz86IGFueSk6IElNaXhpbjtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvbWl4aW4vSU1peGluLnRzIl0sIm1hcHBpbmdzIjoiQUFLQTtBQUFBO0FBQUE7QUFJQTtBQUlBO0FBSUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7\n");

/***/ }),
/* 8 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return TEMPLATE; });\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = setTemplate;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = setColumn;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__StyleManager__ = __webpack_require__(9);\n\r\n\r\nvar TEMPLATE = \"\\n  <header>\\n    <article></article>\\n  </header>\\n  <main>\\n    <article></article>\\n  </main>\";\r\nfunction setTemplate(root) {\r\n    root.innerHTML = TEMPLATE;\r\n    return root;\r\n}\r\nfunction setColumn(node, column) {\r\n    node.style.gridColumnStart = column.id;\r\n    node.dataset.id = column.id;\r\n}\r\nvar GridStyleManager = (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](GridStyleManager, _super);\r\n    function GridStyleManager(root, id) {\r\n        var _this = _super.call(this, root) || this;\r\n        _this.id = id;\r\n        var headerScroller = root.querySelector('header');\r\n        var bodyScroller = root.querySelector('main');\r\n        bodyScroller.addEventListener('scroll', function () {\r\n            headerScroller.scrollLeft = bodyScroller.scrollLeft;\r\n        });\r\n        return _this;\r\n    }\r\n    GridStyleManager.columnWidths = function (columns, unit) {\r\n        if (unit === void 0) { unit = 'px'; }\r\n        function repeatStandard(count, width) {\r\n            return \"repeat(\" + count + \", \" + width + \")\";\r\n        }\r\n        var repeat = repeatStandard;\r\n        var lastWidth = 0;\r\n        var count = 0;\r\n        var r = '';\r\n        columns.forEach(function (_a) {\r\n            var width = _a.width;\r\n            if (lastWidth === width) {\r\n                count++;\r\n                return;\r\n            }\r\n            if (count > 0) {\r\n                r += count === 1 ? \"\" + lastWidth + unit + \" \" : repeat(count, \"\" + lastWidth + unit) + \" \";\r\n            }\r\n            count = 1;\r\n            lastWidth = width;\r\n        });\r\n        if (count > 0) {\r\n            r += count === 1 ? \"\" + lastWidth + unit : \"\" + repeat(count, \"\" + lastWidth + unit);\r\n        }\r\n        return r;\r\n    };\r\n    GridStyleManager.gridColumn = function (columns, unit) {\r\n        if (unit === void 0) { unit = 'px'; }\r\n        var widths = GridStyleManager.columnWidths(columns, unit);\r\n        return \"grid-template-columns: \" + widths + \";\\n      grid-template-areas: \\\"\" + columns.map(function (c) { return c.id; }).join(' ') + \"\\\";\";\r\n    };\r\n    GridStyleManager.prototype.update = function (defaultRowHeight, columns, padding, tableId, unit) {\r\n        if (unit === void 0) { unit = 'px'; }\r\n        var selectors = tableId !== undefined ? this.tableIds(tableId, true) : {\r\n            header: this.id + \" > header > article\",\r\n            body: this.id + \" > main > article\"\r\n        };\r\n        this.updateRule(\"__heightsRule\" + selectors.body, selectors.body + \" > div {\\n      height: \" + defaultRowHeight + \"px;\\n    }\");\r\n        if (columns.length === 0) {\r\n            this.deleteRule(\"__widthRule\" + selectors.body);\r\n            return;\r\n        }\r\n        var content = GridStyleManager.gridColumn(columns, unit);\r\n        this.updateRule(\"__widthRule\" + selectors.body, selectors.body + \" > div, \" + selectors.header + \" { \" + content + \" }\");\r\n        this.updateFrozen(columns, selectors, padding, unit);\r\n    };\r\n    GridStyleManager.prototype.remove = function (tableId) {\r\n        var selectors = this.tableIds(tableId, true);\r\n        this.deleteRule(\"__heightsRule\" + selectors.body);\r\n        this.deleteRule(\"__widthRule\" + selectors.body);\r\n        var prefix = \"__frozen\" + selectors.body + \"_\";\r\n        var rules = this.ruleNames.reduce(function (a, b) { return a + (b.startsWith(prefix) ? 1 : 0); }, 0);\r\n        for (var i = 0; i < rules; ++i) {\r\n            this.deleteRule(\"\" + prefix + i);\r\n        }\r\n    };\r\n    GridStyleManager.prototype.tableIds = function (tableId, asSelector) {\r\n        if (asSelector === void 0) { asSelector = false; }\r\n        var cleanId = this.id.startsWith('#') ? this.id.slice(1) : this.id;\r\n        return {\r\n            header: \"\" + (asSelector ? '#' : '') + cleanId + \"_H\" + tableId,\r\n            body: \"\" + (asSelector ? '#' : '') + cleanId + \"_B\" + tableId\r\n        };\r\n    };\r\n    GridStyleManager.prototype.updateFrozen = function (columns, selectors, _padding, unit) {\r\n        var _this = this;\r\n        var prefix = \"__frozen\" + selectors.body + \"_\";\r\n        var rules = this.ruleNames.reduce(function (a, b) { return a + (b.startsWith(prefix) ? 1 : 0); }, 0);\r\n        var frozen = columns.filter(function (c) { return c.frozen; });\r\n        if (frozen.length <= 0) {\r\n            for (var i = 0; i < rules; ++i) {\r\n                this.deleteRule(\"\" + prefix + i);\r\n            }\r\n            return;\r\n        }\r\n        var offset = frozen[0].width;\r\n        frozen.slice(1).forEach(function (c, i) {\r\n            var rule = selectors.body + \" > div > .frozen[data-id=\\\"\" + c.id + \"\\\"], \" + selectors.header + \" .frozen[data-id=\\\"\" + c.id + \"\\\"] {\\n        left: \" + offset + unit + \";\\n      }\";\r\n            offset += c.width;\r\n            _this.updateRule(\"\" + prefix + i, rule);\r\n        });\r\n        for (var i = frozen.length - 1; i < rules; ++i) {\r\n            this.deleteRule(\"\" + prefix + i);\r\n        }\r\n    };\r\n    return GridStyleManager;\r\n}(__WEBPACK_IMPORTED_MODULE_1__StyleManager__[\"a\" /* default */]));\r\n/* harmony default export */ __webpack_exports__[\"b\"] = (GridStyleManager);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvc3R5bGUvR3JpZFN0eWxlTWFuYWdlci50cz80NmJmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7SUNvbHVtbn0gZnJvbSAnLi9JQ29sdW1uJztcbmltcG9ydCBTdHlsZU1hbmFnZXIgZnJvbSAnLi9TdHlsZU1hbmFnZXInO1xuXG5leHBvcnQgY29uc3QgVEVNUExBVEUgPSBgXG4gIDxoZWFkZXI+XG4gICAgPGFydGljbGU+PC9hcnRpY2xlPlxuICA8L2hlYWRlcj5cbiAgPG1haW4+XG4gICAgPGFydGljbGU+PC9hcnRpY2xlPlxuICA8L21haW4+YDtcblxuXG5leHBvcnQgZnVuY3Rpb24gc2V0VGVtcGxhdGUocm9vdDogSFRNTEVsZW1lbnQpIHtcbiAgcm9vdC5pbm5lckhUTUwgPSBURU1QTEFURTtcbiAgcmV0dXJuIHJvb3Q7XG59XG5cbi8qKlxuICogc2V0cyB0aGUgbmVlZGVkIGdyaWQgY29sdW1ucyBzZXR0aW5ncyBzdWNoIHRoYXQgdGhlIGdpdmVuIG5vZGUgaXMgYWxpZ25lZCB3aXRoIHRoZSBnaXZlbiBjb2x1bW5cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGUgdGhlIGNvbHVtbiBub2RlXG4gKiBAcGFyYW0ge3tpbmRleDogbnVtYmVyOyBpZDogc3RyaW5nfX0gY29sdW1uIHRoZSBjb2x1bW4gbWV0YSBkYXRhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRDb2x1bW4obm9kZTogSFRNTEVsZW1lbnQsIGNvbHVtbjogeyBpbmRleDogbnVtYmVyLCBpZDogc3RyaW5nIH0pIHtcbiAgKDxhbnk+bm9kZS5zdHlsZSkuZ3JpZENvbHVtblN0YXJ0ID0gY29sdW1uLmlkO1xuICBub2RlLmRhdGFzZXQuaWQgPSBjb2x1bW4uaWQ7XG59XG5cbmludGVyZmFjZSBJU2VsZWN0b3JzIHtcbiAgaGVhZGVyOiBzdHJpbmc7XG4gIGJvZHk6IHN0cmluZztcbn1cblxuLyoqXG4gKiB1dGlsaXR5IGZvciBjdXN0b20gZ2VuZXJhdGVkIENTUyBydWxlcyB3aXRoIGEgZm9jdXMgb24gZHluYW1pY2FsbHkgZ2VuZXJhdGVkIGdyaWQgbGF5b3V0c1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcmlkU3R5bGVNYW5hZ2VyIGV4dGVuZHMgU3R5bGVNYW5hZ2VyIHtcblxuICBjb25zdHJ1Y3Rvcihyb290OiBIVE1MRWxlbWVudCwgcHVibGljIHJlYWRvbmx5IGlkOiBzdHJpbmcpIHtcbiAgICBzdXBlcihyb290KTtcblxuICAgIGNvbnN0IGhlYWRlclNjcm9sbGVyID0gPEhUTUxFbGVtZW50PnJvb3QucXVlcnlTZWxlY3RvcignaGVhZGVyJyk7XG4gICAgY29uc3QgYm9keVNjcm9sbGVyID0gPEhUTUxFbGVtZW50PnJvb3QucXVlcnlTZWxlY3RvcignbWFpbicpO1xuXG4gICAgLy8gdXBkYXRlIGZyb3plbiBhbmQgc3luYyBoZWFkZXIgd2l0aCBib2R5XG4gICAgYm9keVNjcm9sbGVyLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsICgpID0+IHtcbiAgICAgIGhlYWRlclNjcm9sbGVyLnNjcm9sbExlZnQgPSBib2R5U2Nyb2xsZXIuc2Nyb2xsTGVmdDtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBjb21wdXRlcyBhIGNvbXBhdGlibGUgZ3JpZCBsYXlvdXQgcGF0dGVybiBiYXNlZCBvbiB0aGUgZ2l2ZW4gY29sdW1uc1xuICAgKiBAcGFyYW0ge3t3aWR0aDogbnVtYmVyfVtdfSBjb2x1bW5zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1bml0XG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIHN0YXRpYyBjb2x1bW5XaWR0aHMoY29sdW1uczogeyB3aWR0aDogbnVtYmVyIH1bXSwgdW5pdDogc3RyaW5nID0gJ3B4Jykge1xuICAgIGZ1bmN0aW9uIHJlcGVhdFN0YW5kYXJkKGNvdW50OiBudW1iZXIsIHdpZHRoOiBzdHJpbmcpIHtcbiAgICAgIHJldHVybiBgcmVwZWF0KCR7Y291bnR9LCAke3dpZHRofSlgO1xuICAgIH1cblxuICAgIGNvbnN0IHJlcGVhdCA9IHJlcGVhdFN0YW5kYXJkO1xuXG4gICAgbGV0IGxhc3RXaWR0aCA9IDA7XG4gICAgbGV0IGNvdW50ID0gMDtcblxuICAgIGxldCByID0gJyc7XG4gICAgY29sdW1ucy5mb3JFYWNoKCh7d2lkdGh9KSA9PiB7XG4gICAgICBpZiAobGFzdFdpZHRoID09PSB3aWR0aCkge1xuICAgICAgICBjb3VudCsrO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoY291bnQgPiAwKSB7XG4gICAgICAgIHIgKz0gY291bnQgPT09IDEgPyBgJHtsYXN0V2lkdGh9JHt1bml0fSBgIDogYCR7cmVwZWF0KGNvdW50LCBgJHtsYXN0V2lkdGh9JHt1bml0fWApfSBgO1xuICAgICAgfVxuICAgICAgY291bnQgPSAxO1xuICAgICAgbGFzdFdpZHRoID0gd2lkdGg7XG4gICAgfSk7XG5cbiAgICBpZiAoY291bnQgPiAwKSB7XG4gICAgICByICs9IGNvdW50ID09PSAxID8gYCR7bGFzdFdpZHRofSR7dW5pdH1gIDogYCR7cmVwZWF0KGNvdW50LCBgJHtsYXN0V2lkdGh9JHt1bml0fWApfWA7XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9XG5cbiAgc3RhdGljIGdyaWRDb2x1bW4oY29sdW1uczogeyBpZDogc3RyaW5nLCB3aWR0aDogbnVtYmVyIH1bXSwgdW5pdDogc3RyaW5nID0gJ3B4Jykge1xuICAgIGNvbnN0IHdpZHRocyA9IEdyaWRTdHlsZU1hbmFnZXIuY29sdW1uV2lkdGhzKGNvbHVtbnMsIHVuaXQpO1xuXG4gICAgcmV0dXJuIGBncmlkLXRlbXBsYXRlLWNvbHVtbnM6ICR7d2lkdGhzfTtcbiAgICAgIGdyaWQtdGVtcGxhdGUtYXJlYXM6IFwiJHtjb2x1bW5zLm1hcCgoYykgPT4gYy5pZCkuam9pbignICcpfVwiO2A7XG4gIH1cblxuICAvKipcbiAgICogdXBkYXRlcyB0aGUgY29sdW1uIHdpZHRocyBhbmQgZGVmYXVsdCByb3cgaGVpZ2h0IGZvciBhIHRhYmxlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkZWZhdWx0Um93SGVpZ2h0XG4gICAqIEBwYXJhbSB7SUNvbHVtbltdfSBjb2x1bW5zXG4gICAqIEBwYXJhbSB7KGluZGV4OiBudW1iZXIpID0+IG51bWJlcn0gcGFkZGluZyBwYWRkaW5nIGJldHdlZW4gY29sdW1uc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gdGFibGVJZCBvcHRpb25hbCB0YWJsZUlkIGluIGNhc2Ugb2YgbXVsdGlwbGUgdGFibGVzIHdpdGhpbiB0aGUgc2FtZSBlbmdpbmVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVuaXRcbiAgICovXG4gIHVwZGF0ZShkZWZhdWx0Um93SGVpZ2h0OiBudW1iZXIsIGNvbHVtbnM6IElDb2x1bW5bXSwgcGFkZGluZzogKGluZGV4OiBudW1iZXIpID0+IG51bWJlciwgdGFibGVJZD86IHN0cmluZywgdW5pdDogc3RyaW5nID0gJ3B4Jykge1xuICAgIGNvbnN0IHNlbGVjdG9ycyA9IHRhYmxlSWQgIT09IHVuZGVmaW5lZCA/IHRoaXMudGFibGVJZHModGFibGVJZCwgdHJ1ZSkgOiB7XG4gICAgICBoZWFkZXI6IGAke3RoaXMuaWR9ID4gaGVhZGVyID4gYXJ0aWNsZWAsXG4gICAgICBib2R5OiBgJHt0aGlzLmlkfSA+IG1haW4gPiBhcnRpY2xlYFxuICAgIH07XG5cbiAgICB0aGlzLnVwZGF0ZVJ1bGUoYF9faGVpZ2h0c1J1bGUke3NlbGVjdG9ycy5ib2R5fWAsIGAke3NlbGVjdG9ycy5ib2R5fSA+IGRpdiB7XG4gICAgICBoZWlnaHQ6ICR7ZGVmYXVsdFJvd0hlaWdodH1weDtcbiAgICB9YCk7XG5cbiAgICBpZiAoY29sdW1ucy5sZW5ndGggPT09IDApIHtcbiAgICAgIC8vcmVzdG9yZSBkdW1teSBydWxlXG4gICAgICB0aGlzLmRlbGV0ZVJ1bGUoYF9fd2lkdGhSdWxlJHtzZWxlY3RvcnMuYm9keX1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjb250ZW50ID0gR3JpZFN0eWxlTWFuYWdlci5ncmlkQ29sdW1uKGNvbHVtbnMsIHVuaXQpO1xuICAgIHRoaXMudXBkYXRlUnVsZShgX193aWR0aFJ1bGUke3NlbGVjdG9ycy5ib2R5fWAsIGAke3NlbGVjdG9ycy5ib2R5fSA+IGRpdiwgJHtzZWxlY3RvcnMuaGVhZGVyfSB7ICR7Y29udGVudH0gfWApO1xuXG4gICAgdGhpcy51cGRhdGVGcm96ZW4oY29sdW1ucywgc2VsZWN0b3JzLCBwYWRkaW5nLCB1bml0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiByZW1vdmVzIGEgZ2l2ZW4gdGFibGVJZCBpZiBub3QgbmVlZGVkIGFueW1vcmVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRhYmxlSWQgdGFibGVJZCB0byByZW1vdmVcbiAgICovXG4gIHJlbW92ZSh0YWJsZUlkOiBzdHJpbmcpIHtcbiAgICBjb25zdCBzZWxlY3RvcnMgPSB0aGlzLnRhYmxlSWRzKHRhYmxlSWQsIHRydWUpO1xuICAgIHRoaXMuZGVsZXRlUnVsZShgX19oZWlnaHRzUnVsZSR7c2VsZWN0b3JzLmJvZHl9YCk7XG4gICAgdGhpcy5kZWxldGVSdWxlKGBfX3dpZHRoUnVsZSR7c2VsZWN0b3JzLmJvZHl9YCk7XG5cbiAgICBjb25zdCBwcmVmaXggPSBgX19mcm96ZW4ke3NlbGVjdG9ycy5ib2R5fV9gO1xuICAgIGNvbnN0IHJ1bGVzID0gdGhpcy5ydWxlTmFtZXMucmVkdWNlKChhLCBiKSA9PiBhICsgKGIuc3RhcnRzV2l0aChwcmVmaXgpID8gMSA6IDApLCAwKTtcbiAgICAvLyByZXNldFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcnVsZXM7ICsraSkge1xuICAgICAgdGhpcy5kZWxldGVSdWxlKGAke3ByZWZpeH0ke2l9YCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIGdlbmVyYXRlcyB0aGUgSFRNTCBJZHMgdXNlZCBmb3IgdGhlIGhlYWRlciBhbmQgYm9keSBhcnRpY2xlIG9mIGEgdGFibGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRhYmxlSWQgYmFzZSB0YWJsZSBpZFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFzU2VsZWN0b3IgZmxhZyB3aGV0aGVyIHRvIHByZXBlbmQgd2l0aCAjIGZvciBDU1Mgc2VsZWN0b3JcbiAgICogQHJldHVybiB7e2hlYWRlcjogc3RyaW5nOyBib2R5OiBzdHJpbmd9fSB0aGUgdGFibGUgaWRzIHVzZWQgZm9yIGhlYWRlciBhbmQgYm9keVxuICAgKi9cbiAgdGFibGVJZHModGFibGVJZDogc3RyaW5nLCBhc1NlbGVjdG9yOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICBjb25zdCBjbGVhbklkID0gdGhpcy5pZC5zdGFydHNXaXRoKCcjJykgPyB0aGlzLmlkLnNsaWNlKDEpIDogdGhpcy5pZDtcbiAgICByZXR1cm4ge1xuICAgICAgaGVhZGVyOiBgJHthc1NlbGVjdG9yID8gJyMnIDogJyd9JHtjbGVhbklkfV9IJHt0YWJsZUlkfWAsXG4gICAgICBib2R5OiBgJHthc1NlbGVjdG9yID8gJyMnIDogJyd9JHtjbGVhbklkfV9CJHt0YWJsZUlkfWBcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVGcm96ZW4oY29sdW1uczogSUNvbHVtbltdLCBzZWxlY3RvcnM6IElTZWxlY3RvcnMsIF9wYWRkaW5nOiAoaW5kZXg6IG51bWJlcikgPT4gbnVtYmVyLCB1bml0OiBzdHJpbmcpIHtcbiAgICBjb25zdCBwcmVmaXggPSBgX19mcm96ZW4ke3NlbGVjdG9ycy5ib2R5fV9gO1xuICAgIGNvbnN0IHJ1bGVzID0gdGhpcy5ydWxlTmFtZXMucmVkdWNlKChhLCBiKSA9PiBhICsgKGIuc3RhcnRzV2l0aChwcmVmaXgpID8gMSA6IDApLCAwKTtcbiAgICBjb25zdCBmcm96ZW4gPSBjb2x1bW5zLmZpbHRlcigoYykgPT4gYy5mcm96ZW4pO1xuICAgIGlmIChmcm96ZW4ubGVuZ3RoIDw9IDApIHtcbiAgICAgIC8vIHJlc2V0XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJ1bGVzOyArK2kpIHtcbiAgICAgICAgdGhpcy5kZWxldGVSdWxlKGAke3ByZWZpeH0ke2l9YCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vY3JlYXRlIHRoZSBjb3JyZWN0IGxlZnQgb2Zmc2V0XG4gICAgbGV0IG9mZnNldCA9IGZyb3plblswXS53aWR0aDtcbiAgICBmcm96ZW4uc2xpY2UoMSkuZm9yRWFjaCgoYywgaSkgPT4ge1xuICAgICAgY29uc3QgcnVsZSA9IGAke3NlbGVjdG9ycy5ib2R5fSA+IGRpdiA+IC5mcm96ZW5bZGF0YS1pZD1cIiR7Yy5pZH1cIl0sICR7c2VsZWN0b3JzLmhlYWRlcn0gLmZyb3plbltkYXRhLWlkPVwiJHtjLmlkfVwiXSB7XG4gICAgICAgIGxlZnQ6ICR7b2Zmc2V0fSR7dW5pdH07XG4gICAgICB9YDtcbiAgICAgIG9mZnNldCArPSBjLndpZHRoOyAvLyBpZ25vcmUgcGFkZGluZyBzaW5jZSBpdCBjYXVzZXMgcHJvYmxlbXMgcmVnYXJkaW5nIHdoaXRlIGJhY2tncm91bmQgKyBwYWRkaW5nKGkpO1xuICAgICAgdGhpcy51cGRhdGVSdWxlKGAke3ByZWZpeH0ke2l9YCwgcnVsZSk7XG4gICAgfSk7XG4gICAgZm9yIChsZXQgaSA9IGZyb3plbi5sZW5ndGggLSAxOyBpIDwgcnVsZXM7ICsraSkge1xuICAgICAgdGhpcy5kZWxldGVSdWxlKGAke3ByZWZpeH0ke2l9YCk7XG4gICAgfVxuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL3N0eWxlL0dyaWRTdHlsZU1hbmFnZXIudHMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNBO0FBRUE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBVUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7O0FBQ0E7QUFRQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQVVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8\n");

/***/ }),
/* 9 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("var StyleManager = (function () {\r\n    function StyleManager(root) {\r\n        this.rules = new Map();\r\n        this.node = root.ownerDocument.createElement('style');\r\n        root.appendChild(this.node);\r\n    }\r\n    StyleManager.prototype.destroy = function () {\r\n        this.node.remove();\r\n    };\r\n    StyleManager.prototype.recreate = function () {\r\n        this.node.innerHTML = Array.from(this.rules.values()).join('\\n');\r\n    };\r\n    StyleManager.prototype.addRule = function (id, rule) {\r\n        this.rules.set(id, rule);\r\n        this.recreate();\r\n        return id;\r\n    };\r\n    StyleManager.prototype.updateRule = function (id, rule) {\r\n        this.rules.set(id, rule);\r\n        this.recreate();\r\n        return id;\r\n    };\r\n    StyleManager.prototype.deleteRule = function (id) {\r\n        var r = this.rules.get(id);\r\n        if (!r) {\r\n            return;\r\n        }\r\n        this.rules.delete(id);\r\n        this.recreate();\r\n    };\r\n    Object.defineProperty(StyleManager.prototype, \"ruleNames\", {\r\n        get: function () {\r\n            return Array.from(this.rules.keys());\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return StyleManager;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (StyleManager);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvc3R5bGUvU3R5bGVNYW5hZ2VyLnRzPzIzNTQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IG1hbnVhbGx5IGltcG9ydCAnLi9zdHlsZS5zY3NzJztcblxuLyoqXG4gKiB1dGlsaXR5IGZvciBjdXN0b20gZ2VuZXJhdGVkIENTUyBydWxlc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdHlsZU1hbmFnZXIge1xuICBwcml2YXRlIHJlYWRvbmx5IHJ1bGVzID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oKTtcbiAgcHJpdmF0ZSByZWFkb25seSBub2RlOiBIVE1MU3R5bGVFbGVtZW50O1xuXG4gIC8qKlxuICAgKiB0aGUgcGFyZW50IGVsZW1lbnQgdG8gYXBwZW5kIHRoaXMgbWFuYWdlZCBzdHlsZVxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSByb290XG4gICAqL1xuICBjb25zdHJ1Y3Rvcihyb290OiBIVE1MRWxlbWVudCkge1xuICAgIHRoaXMubm9kZSA9IHJvb3Qub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIHJvb3QuYXBwZW5kQ2hpbGQodGhpcy5ub2RlKTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5ub2RlLnJlbW92ZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSByZWNyZWF0ZSgpIHtcbiAgICB0aGlzLm5vZGUuaW5uZXJIVE1MID0gQXJyYXkuZnJvbSh0aGlzLnJ1bGVzLnZhbHVlcygpKS5qb2luKCdcXG4nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBhZGQgYSBjdXN0b20gY3NzIHJ1bGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIHVuaXF1ZSBpZCBvZiB0aGUgcnVsZSBmb3IgbGF0ZXIgaWRlbnRpZmljYXRpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IHJ1bGUgdGhlIGNzcyBydWxlIGl0c2VsZlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgaWQgYWdhaW5cbiAgICovXG4gIGFkZFJ1bGUoaWQ6IHN0cmluZywgcnVsZTogc3RyaW5nKSB7XG4gICAgLy8gYXBwZW5kXG4gICAgdGhpcy5ydWxlcy5zZXQoaWQsIHJ1bGUpO1xuICAgIHRoaXMucmVjcmVhdGUoKTtcbiAgICByZXR1cm4gaWQ7XG4gIH1cblxuICAvKipcbiAgICogdXBkYXRlcyBvciBhZGQgYSBydWxlLCBzZWUgQGFkZFJ1bGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIHVuaXF1ZSBpZCBvZiB0aGUgcnVsZSBmb3IgbGF0ZXIgaWRlbnRpZmljYXRpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IHJ1bGUgdGhlIGNzcyBydWxlIGl0c2VsZlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgaWQgYWdhaW5cbiAgICovXG4gIHVwZGF0ZVJ1bGUoaWQ6IHN0cmluZywgcnVsZTogc3RyaW5nKSB7XG4gICAgdGhpcy5ydWxlcy5zZXQoaWQsIHJ1bGUpO1xuICAgIHRoaXMucmVjcmVhdGUoKTtcbiAgICByZXR1cm4gaWQ7XG4gIH1cblxuICAvKipcbiAgICogZGVsZXRlcyB0aGUgZ2l2ZW4gcnVsZSBieSBpZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgdGhlIHJ1bGUgdG8gZGVsZXRlXG4gICAqL1xuICBkZWxldGVSdWxlKGlkOiBzdHJpbmcpIHtcbiAgICBjb25zdCByID0gdGhpcy5ydWxlcy5nZXQoaWQpO1xuICAgIGlmICghcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnJ1bGVzLmRlbGV0ZShpZCk7XG4gICAgdGhpcy5yZWNyZWF0ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIGdldCBhIGxpc3Qgb2YgYWxsIHJlZ2lzdGVyZWQgcnVsZSBpZHNcbiAgICogQHJldHVybnMge3N0cmluZ1tdfVxuICAgKi9cbiAgcHJvdGVjdGVkIGdldCBydWxlTmFtZXMoKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5ydWxlcy5rZXlzKCkpO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL3N0eWxlL1N0eWxlTWFuYWdlci50cyJdLCJtYXBwaW5ncyI6IkFBS0E7QUFRQTtBQVBBO0FBUUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBUUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFBQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9\n");

/***/ }),
/* 10 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* unused harmony export ACellAdapter */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__logic__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mixin__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__style_GridStyleManager__ = __webpack_require__(8);\n\r\n\r\n\r\nvar debug = false;\r\nvar ACellAdapter = (function () {\r\n    function ACellAdapter(header, style, tableId) {\r\n        var mixinClasses = [];\r\n        for (var _i = 3; _i < arguments.length; _i++) {\r\n            mixinClasses[_i - 3] = arguments[_i];\r\n        }\r\n        var _this = this;\r\n        this.header = header;\r\n        this.style = style;\r\n        this.tableId = tableId;\r\n        this.cellPool = [];\r\n        this.visibleColumns = {\r\n            frozen: [],\r\n            first: 0,\r\n            forcedFirst: 0,\r\n            last: -1,\r\n            forcedLast: -1\r\n        };\r\n        this.visibleFirstColumnPos = 0;\r\n        this.columnAdapter = this.createColumnAdapter();\r\n        this.columnMixins = mixinClasses.map(function (mixinClass) { return new mixinClass(_this.columnAdapter); });\r\n        this.columnFragment = header.ownerDocument.createDocumentFragment();\r\n    }\r\n    Object.defineProperty(ACellAdapter.prototype, \"headerScroller\", {\r\n        get: function () {\r\n            return this.header.parentElement;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ACellAdapter.prototype.addColumnMixin = function (mixinClass, options) {\r\n        this.columnMixins.push(new mixinClass(this.columnAdapter, options));\r\n    };\r\n    ACellAdapter.prototype.createColumnAdapter = function () {\r\n        var _this = this;\r\n        var r = {\r\n            visible: this.visibleColumns,\r\n            addAtBeginning: this.addColumnAtStart.bind(this),\r\n            addAtBottom: this.addColumnAtEnd.bind(this),\r\n            removeFromBeginning: this.removeColumnFromStart.bind(this),\r\n            removeFromBottom: this.removeColumnFromEnd.bind(this),\r\n            updateOffset: this.updateColumnOffset.bind(this),\r\n            scroller: this.headerScroller,\r\n            syncFrozen: this.syncFrozen.bind(this)\r\n        };\r\n        Object.defineProperties(r, {\r\n            visibleFirstRowPos: {\r\n                get: function () { return _this.visibleFirstColumnPos; },\r\n                enumerable: true\r\n            },\r\n            context: {\r\n                get: function () { return _this.context.column; },\r\n                enumerable: true\r\n            },\r\n        });\r\n        return r;\r\n    };\r\n    ACellAdapter.prototype.init = function () {\r\n        var _this = this;\r\n        var context = this.context;\r\n        this.style.update(context.defaultRowHeight - context.padding(-1), context.columns, context.column.padding, this.tableId);\r\n        context.columns.forEach(function () {\r\n            _this.cellPool.push([]);\r\n        });\r\n    };\r\n    ACellAdapter.prototype.onScrolledHorizontally = function (scrollLeft, clientWidth, isGoingRight) {\r\n        var scrollResult = this.onScrolledHorizontallyImpl(scrollLeft, clientWidth);\r\n        this.columnMixins.forEach(function (mixin) { return mixin.onScrolled(isGoingRight, scrollResult); });\r\n        return scrollResult;\r\n    };\r\n    ACellAdapter.prototype.removeColumnFromStart = function (from, to, frozenShift) {\r\n        var _this = this;\r\n        if (frozenShift === void 0) { frozenShift = this.visibleColumns.frozen.length; }\r\n        this.forEachRow(function (row) {\r\n            _this.removeCellFromStart(row, from, to, frozenShift);\r\n        });\r\n        if (debug) {\r\n            this.verifyRows();\r\n        }\r\n    };\r\n    ACellAdapter.prototype.removeCellFromStart = function (row, from, to, frozenShift) {\r\n        for (var i = from; i <= to; ++i) {\r\n            var node = (frozenShift === 0 ? row.firstElementChild : row.children[frozenShift]);\r\n            node.remove();\r\n            this.recycleCell(node, i);\r\n        }\r\n        if (debug) {\r\n            verifyRow(row, -1, this.context.columns);\r\n        }\r\n    };\r\n    ACellAdapter.prototype.removeColumnFromEnd = function (from, to) {\r\n        var _this = this;\r\n        this.forEachRow(function (row) {\r\n            _this.removeCellFromEnd(row, from, to);\r\n        });\r\n        if (debug) {\r\n            this.verifyRows();\r\n        }\r\n    };\r\n    ACellAdapter.prototype.removeCellFromEnd = function (row, from, to) {\r\n        for (var i = to; i >= from; --i) {\r\n            var node = row.lastElementChild;\r\n            node.remove();\r\n            this.recycleCell(node, i);\r\n        }\r\n        if (debug) {\r\n            verifyRow(row, -1, this.context.columns);\r\n        }\r\n    };\r\n    ACellAdapter.prototype.removeFrozenCells = function (row, columnIndices, shift) {\r\n        for (var _i = 0, columnIndices_1 = columnIndices; _i < columnIndices_1.length; _i++) {\r\n            var columnIndex = columnIndices_1[_i];\r\n            var node = row.children[shift];\r\n            node.remove();\r\n            this.recycleCell(node, columnIndex);\r\n        }\r\n        if (debug) {\r\n            verifyRow(row, -1, this.context.columns);\r\n        }\r\n    };\r\n    ACellAdapter.prototype.removeFrozenColumns = function (columnIndices, shift) {\r\n        var _this = this;\r\n        this.forEachRow(function (row) {\r\n            _this.removeFrozenCells(row, columnIndices, shift);\r\n        });\r\n        if (debug) {\r\n            this.verifyRows();\r\n        }\r\n    };\r\n    ACellAdapter.prototype.removeAllColumns = function (includingFrozen) {\r\n        var _this = this;\r\n        this.forEachRow(function (row) {\r\n            _this.removeAllCells(row, includingFrozen);\r\n        });\r\n        if (debug) {\r\n            this.verifyRows();\r\n        }\r\n    };\r\n    ACellAdapter.prototype.removeAllCells = function (row, includingFrozen, shift) {\r\n        var _this = this;\r\n        if (shift === void 0) { shift = this.visibleColumns.first; }\r\n        var arr = Array.from(row.children);\r\n        var frozen = this.visibleColumns.frozen;\r\n        row.innerHTML = '';\r\n        if (includingFrozen || frozen.length === 0) {\r\n            for (var _i = 0, frozen_1 = frozen; _i < frozen_1.length; _i++) {\r\n                var i = frozen_1[_i];\r\n                this.recycleCell(arr.shift(), i);\r\n            }\r\n        }\r\n        else {\r\n            for (var _a = 0, frozen_2 = frozen; _a < frozen_2.length; _a++) {\r\n                var _1 = frozen_2[_a];\r\n                row.appendChild(arr.shift());\r\n            }\r\n        }\r\n        arr.forEach(function (item, i) {\r\n            _this.recycleCell(item, i + shift);\r\n        });\r\n        if (debug) {\r\n            verifyRow(row, -1, this.context.columns);\r\n        }\r\n    };\r\n    ACellAdapter.prototype.selectCell = function (row, column, columns) {\r\n        var pool = this.cellPool[column];\r\n        var columnObj = columns[column];\r\n        if (pool.length > 0) {\r\n            var item = pool.pop();\r\n            var r_1 = this.updateCell(item, row, columnObj);\r\n            if (r_1 && r_1 !== item) {\r\n                Object(__WEBPACK_IMPORTED_MODULE_2__style_GridStyleManager__[\"c\" /* setColumn */])(r_1, columnObj);\r\n            }\r\n            return r_1 ? r_1 : item;\r\n        }\r\n        var r = this.createCell(this.header.ownerDocument, row, columnObj);\r\n        Object(__WEBPACK_IMPORTED_MODULE_2__style_GridStyleManager__[\"c\" /* setColumn */])(r, columnObj);\r\n        return r;\r\n    };\r\n    ACellAdapter.prototype.recycleCell = function (item, column) {\r\n        this.cellPool[column].push(item);\r\n    };\r\n    ACellAdapter.prototype.addColumnAtStart = function (from, to, frozenShift) {\r\n        var _this = this;\r\n        if (frozenShift === void 0) { frozenShift = this.visibleColumns.frozen.length; }\r\n        var columns = this.context.columns;\r\n        this.forEachRow(function (row, rowIndex) {\r\n            _this.addCellAtStart(row, rowIndex, from, to, frozenShift, columns);\r\n        });\r\n        if (debug) {\r\n            this.verifyRows();\r\n        }\r\n    };\r\n    ACellAdapter.prototype.addCellAtStart = function (row, rowIndex, from, to, frozenShift, columns) {\r\n        if (debug) {\r\n            verifyRow(row, rowIndex, this.context.columns);\r\n        }\r\n        for (var i = to; i >= from; --i) {\r\n            var cell = this.selectCell(rowIndex, i, columns);\r\n            row.insertBefore(cell, frozenShift > 0 ? row.children[frozenShift] : row.firstChild);\r\n        }\r\n        if (debug) {\r\n            verifyRow(row, rowIndex, this.context.columns);\r\n        }\r\n    };\r\n    ACellAdapter.prototype.insertFrozenCells = function (row, rowIndex, columnIndices, shift, columns) {\r\n        var before = row.children[shift];\r\n        for (var _i = 0, columnIndices_2 = columnIndices; _i < columnIndices_2.length; _i++) {\r\n            var i = columnIndices_2[_i];\r\n            var cell = this.selectCell(rowIndex, i, columns);\r\n            if (before) {\r\n                row.insertBefore(cell, before);\r\n            }\r\n            else {\r\n                row.appendChild(cell);\r\n            }\r\n        }\r\n    };\r\n    ACellAdapter.prototype.insertFrozenColumns = function (columnIndices, shift) {\r\n        var _this = this;\r\n        var columns = this.context.columns;\r\n        this.forEachRow(function (row, rowIndex) {\r\n            _this.insertFrozenCells(row, rowIndex, columnIndices, shift, columns);\r\n        });\r\n    };\r\n    ACellAdapter.prototype.addColumnAtEnd = function (from, to) {\r\n        var _this = this;\r\n        var columns = this.context.columns;\r\n        this.forEachRow(function (row, rowIndex) {\r\n            _this.addCellAtEnd(row, rowIndex, from, to, columns);\r\n        });\r\n        if (debug) {\r\n            this.verifyRows();\r\n        }\r\n    };\r\n    ACellAdapter.prototype.verifyRows = function () {\r\n        var columns = this.context.columns;\r\n        this.forEachRow(function (row, rowIndex) { return verifyRow(row, rowIndex, columns); });\r\n    };\r\n    ACellAdapter.prototype.addCellAtEnd = function (row, rowIndex, from, to, columns) {\r\n        for (var i = from; i <= to; ++i) {\r\n            var cell = this.selectCell(rowIndex, i, columns);\r\n            row.appendChild(cell);\r\n        }\r\n        if (debug) {\r\n            verifyRow(row, rowIndex, this.context.columns);\r\n        }\r\n    };\r\n    ACellAdapter.prototype.updateHeaders = function () {\r\n        var _this = this;\r\n        var columns = this.context.columns;\r\n        Array.from(this.header.children).forEach(function (node, i) {\r\n            _this.updateHeader(node, columns[i]);\r\n        });\r\n    };\r\n    ACellAdapter.prototype.recreate = function (left, width) {\r\n        var _this = this;\r\n        var context = this.context;\r\n        if (context.hasFrozenColumns === undefined) {\r\n            context.hasFrozenColumns = context.columns.some(function (c) { return c.frozen; });\r\n        }\r\n        this.style.update(context.defaultRowHeight - context.padding(-1), context.columns, context.column.padding, this.tableId);\r\n        this.clearPool();\r\n        for (var i = this.cellPool.length; i < context.columns.length; ++i) {\r\n            this.cellPool.push([]);\r\n        }\r\n        {\r\n            var fragment_1 = this.columnFragment;\r\n            var document_1 = fragment_1.ownerDocument;\r\n            this.header.innerHTML = '';\r\n            context.columns.forEach(function (col) {\r\n                var n = _this.createHeader(document_1, col);\r\n                Object(__WEBPACK_IMPORTED_MODULE_2__style_GridStyleManager__[\"c\" /* setColumn */])(n, col);\r\n                fragment_1.appendChild(n);\r\n            });\r\n            this.header.appendChild(fragment_1);\r\n        }\r\n        var _a = Object(__WEBPACK_IMPORTED_MODULE_0__logic__[\"d\" /* range */])(left, width, context.column.defaultRowHeight, context.column.exceptions, context.column.numberOfRows), first = _a.first, last = _a.last, firstRowPos = _a.firstRowPos;\r\n        this.visibleColumns.first = this.visibleColumns.forcedFirst = first;\r\n        this.visibleColumns.last = this.visibleColumns.forcedLast = last;\r\n        if (context.hasFrozenColumns) {\r\n            var target = Object(__WEBPACK_IMPORTED_MODULE_0__logic__[\"f\" /* updateFrozen */])([], context.columns, first).target;\r\n            this.visibleColumns.frozen = target;\r\n        }\r\n        this.updateColumnOffset(firstRowPos);\r\n    };\r\n    ACellAdapter.prototype.clearPool = function () {\r\n        this.cellPool.forEach(function (p) { return p.splice(0, p.length); });\r\n    };\r\n    ACellAdapter.prototype.updateColumnOffset = function (firstColumnPos) {\r\n        this.visibleFirstColumnPos = firstColumnPos;\r\n    };\r\n    ACellAdapter.prototype.createRow = function (node, rowIndex) {\r\n        var _a = this.context, columns = _a.columns, hasFrozenColumns = _a.hasFrozenColumns;\r\n        var visible = this.visibleColumns;\r\n        if (hasFrozenColumns) {\r\n            for (var _i = 0, _b = visible.frozen; _i < _b.length; _i++) {\r\n                var i = _b[_i];\r\n                var cell = this.selectCell(rowIndex, i, columns);\r\n                node.appendChild(cell);\r\n            }\r\n        }\r\n        for (var i = visible.first; i <= visible.last; ++i) {\r\n            var cell = this.selectCell(rowIndex, i, columns);\r\n            node.appendChild(cell);\r\n        }\r\n    };\r\n    ACellAdapter.prototype.updateRow = function (node, rowIndex) {\r\n        var _this = this;\r\n        var _a = this.context, columns = _a.columns, hasFrozenColumns = _a.hasFrozenColumns;\r\n        var visible = this.visibleColumns;\r\n        var existing = Array.from(node.children);\r\n        switch (existing.length) {\r\n            case 0:\r\n                if (hasFrozenColumns) {\r\n                    this.insertFrozenCells(node, rowIndex, visible.frozen, 0, columns);\r\n                }\r\n                this.addCellAtEnd(node, rowIndex, visible.first, visible.last, columns);\r\n                break;\r\n            case 1:\r\n                var old = existing[0];\r\n                var id_1 = old.dataset.id;\r\n                var columnIndex = columns.findIndex(function (c) { return c.id === id_1; });\r\n                node.removeChild(old);\r\n                this.recycleCell(old, columnIndex);\r\n                if (hasFrozenColumns) {\r\n                    this.insertFrozenCells(node, rowIndex, visible.frozen, 0, columns);\r\n                }\r\n                this.addCellAtEnd(node, rowIndex, visible.first, visible.last, columns);\r\n                break;\r\n            default:\r\n                if (hasFrozenColumns) {\r\n                    var currentFrozen_1 = [];\r\n                    var _loop_1 = function (node_1) {\r\n                        var id_2 = node_1.dataset.id;\r\n                        var col = columns.findIndex(function (c) { return c.id === id_2; });\r\n                        if (columns[col].frozen) {\r\n                            currentFrozen_1.push(col);\r\n                        }\r\n                        else {\r\n                            return \"break\";\r\n                        }\r\n                    };\r\n                    for (var _i = 0, existing_1 = existing; _i < existing_1.length; _i++) {\r\n                        var node_1 = existing_1[_i];\r\n                        var state_1 = _loop_1(node_1);\r\n                        if (state_1 === \"break\")\r\n                            break;\r\n                    }\r\n                    var _b = Object(__WEBPACK_IMPORTED_MODULE_0__logic__[\"a\" /* frozenDelta */])(currentFrozen_1, visible.frozen), common = _b.common, removed = _b.removed, added = _b.added;\r\n                    existing.slice(0, common).forEach(function (child, i) {\r\n                        var col = columns[currentFrozen_1[i]];\r\n                        var cell = _this.updateCell(child, rowIndex, col);\r\n                        if (cell && cell !== child) {\r\n                            Object(__WEBPACK_IMPORTED_MODULE_2__style_GridStyleManager__[\"c\" /* setColumn */])(cell, col);\r\n                            node.replaceChild(cell, child);\r\n                        }\r\n                    });\r\n                    this.removeFrozenCells(node, removed, common);\r\n                    this.insertFrozenCells(node, rowIndex, added, common, columns);\r\n                    existing.splice(0, currentFrozen_1.length);\r\n                }\r\n                if (existing.length === 0) {\r\n                    break;\r\n                }\r\n                var firstId_1 = existing[0].dataset.id;\r\n                var lastId_1 = existing[existing.length - 1].dataset.id;\r\n                var firstIndex = columns.findIndex(function (c) { return c.id === firstId_1; });\r\n                var lastIndex = columns.findIndex(function (c) { return c.id === lastId_1; });\r\n                var frozenShift = visible.frozen.length;\r\n                if (firstIndex === visible.first && lastIndex === visible.last) {\r\n                    existing.forEach(function (child, i) {\r\n                        var col = columns[i + visible.first];\r\n                        var cell = _this.updateCell(child, rowIndex, col);\r\n                        if (cell && cell !== child) {\r\n                            Object(__WEBPACK_IMPORTED_MODULE_2__style_GridStyleManager__[\"c\" /* setColumn */])(cell, col);\r\n                            node.replaceChild(cell, child);\r\n                        }\r\n                    });\r\n                }\r\n                else if (visible.last > firstIndex || visible.first < lastIndex) {\r\n                    this.removeAllCells(node, false, firstIndex);\r\n                    this.addCellAtStart(node, rowIndex, visible.first, visible.last, frozenShift, columns);\r\n                }\r\n                else if (visible.first < firstIndex) {\r\n                    this.removeCellFromEnd(node, visible.last + 1, firstIndex);\r\n                    this.addCellAtStart(node, rowIndex, visible.first, firstIndex - 1, frozenShift, columns);\r\n                }\r\n                else {\r\n                    this.removeCellFromStart(node, firstIndex, visible.first - 1, frozenShift);\r\n                    this.addCellAtEnd(node, rowIndex, lastIndex + 1, visible.last, columns);\r\n                }\r\n        }\r\n    };\r\n    ACellAdapter.prototype.syncFrozen = function (first) {\r\n        var _a = this.context, columns = _a.columns, hasFrozenColumns = _a.hasFrozenColumns;\r\n        var visible = this.visibleColumns;\r\n        if (!hasFrozenColumns) {\r\n            return 0;\r\n        }\r\n        if (first === 0) {\r\n            if (visible.frozen.length > 0) {\r\n                this.removeFrozenColumns(visible.frozen, 0);\r\n                visible.frozen = [];\r\n            }\r\n            return 0;\r\n        }\r\n        var old = visible.frozen.length;\r\n        var _b = Object(__WEBPACK_IMPORTED_MODULE_0__logic__[\"f\" /* updateFrozen */])(visible.frozen, columns, first), target = _b.target, added = _b.added, removed = _b.removed;\r\n        if (removed.length > 0) {\r\n            this.removeFrozenColumns(removed, old - removed.length);\r\n        }\r\n        if (added.length > 0) {\r\n            this.insertFrozenColumns(added, old - removed.length);\r\n        }\r\n        visible.frozen = target;\r\n        return target.length;\r\n    };\r\n    ACellAdapter.prototype.onScrolledHorizontallyImpl = function (scrollLeft, clientWidth) {\r\n        var column = this.context.column;\r\n        var _a = Object(__WEBPACK_IMPORTED_MODULE_0__logic__[\"d\" /* range */])(scrollLeft, clientWidth, column.defaultRowHeight, column.exceptions, column.numberOfRows), first = _a.first, last = _a.last, firstRowPos = _a.firstRowPos;\r\n        var visible = this.visibleColumns;\r\n        visible.forcedFirst = first;\r\n        visible.forcedLast = last;\r\n        if ((first - visible.first) >= 0 && (last - visible.last) <= 0) {\r\n            return __WEBPACK_IMPORTED_MODULE_1__mixin__[\"a\" /* EScrollResult */].NONE;\r\n        }\r\n        var r = __WEBPACK_IMPORTED_MODULE_1__mixin__[\"a\" /* EScrollResult */].PARTIAL;\r\n        var frozenShift = this.syncFrozen(first);\r\n        if (first > visible.last || last < visible.first) {\r\n            this.removeAllColumns(false);\r\n            this.addColumnAtEnd(first, last);\r\n            r = __WEBPACK_IMPORTED_MODULE_1__mixin__[\"a\" /* EScrollResult */].ALL;\r\n        }\r\n        else if (first < visible.first) {\r\n            this.removeColumnFromEnd(last + 1, visible.last);\r\n            this.addColumnAtStart(first, visible.first - 1, frozenShift);\r\n        }\r\n        else {\r\n            this.removeColumnFromStart(visible.first, first - 1, frozenShift);\r\n            this.addColumnAtEnd(visible.last + 1, last);\r\n        }\r\n        visible.first = first;\r\n        visible.last = last;\r\n        this.updateColumnOffset(firstRowPos);\r\n        return r;\r\n    };\r\n    return ACellAdapter;\r\n}());\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (ACellAdapter);\r\nfunction verifyRow(row, index, columns) {\r\n    var cols = Array.from(row.children);\r\n    if (cols.length <= 1) {\r\n        return;\r\n    }\r\n    var colObjs = cols.map(function (c) { return columns.find(function (d) { return d.id === c.dataset.id; }); });\r\n    console.assert(colObjs.every(function (d) { return Boolean(d); }), 'all columns must exist', index);\r\n    console.assert(colObjs.every(function (d, i) { return i === 0 || d.index >= colObjs[i - 1].index; }), 'all columns in ascending order', index);\r\n    console.assert((new Set(colObjs)).size === colObjs.length, 'unique columns', colObjs);\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL3RhYmxlL2ludGVybmFsL0FDZWxsQWRhcHRlci50cz8zZWY5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7ZnJvemVuRGVsdGEsIElFeGNlcHRpb25Db250ZXh0LCByYW5nZSwgdXBkYXRlRnJvemVufSBmcm9tICcuLi8uLi9sb2dpYyc7XG5pbXBvcnQge0VTY3JvbGxSZXN1bHQsIElNaXhpbiwgSU1peGluQWRhcHRlciwgSU1peGluQ2xhc3N9IGZyb20gJy4uLy4uL21peGluJztcbmltcG9ydCBHcmlkU3R5bGVNYW5hZ2VyLCB7c2V0Q29sdW1ufSBmcm9tICcuLi8uLi9zdHlsZS9HcmlkU3R5bGVNYW5hZ2VyJztcbmltcG9ydCB7SUNvbHVtbn0gZnJvbSAnLi4vLi4vc3R5bGUnO1xuXG5jb25zdCBkZWJ1ZyA9IGZhbHNlO1xuXG5leHBvcnQgaW50ZXJmYWNlIElDZWxsQWRhcHRlclJlbmRlckNvbnRleHQ8VCBleHRlbmRzIElDb2x1bW4+IGV4dGVuZHMgSUV4Y2VwdGlvbkNvbnRleHQge1xuICByZWFkb25seSBjb2x1bW46IElFeGNlcHRpb25Db250ZXh0O1xuICByZWFkb25seSBjb2x1bW5zOiBUW107XG4gIGhhc0Zyb3plbkNvbHVtbnM/OiBib29sZWFuO1xufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQUNlbGxBZGFwdGVyPFQgZXh0ZW5kcyBJQ29sdW1uPiB7XG4gIC8qKlxuICAgKiBwb29sIG9mIGNlbGxzIHBlciBjb2x1bW5cbiAgICogQHR5cGUge0FycmF5fVxuICAgKi9cbiAgcHJpdmF0ZSByZWFkb25seSBjZWxsUG9vbDogSFRNTEVsZW1lbnRbXVtdID0gW107XG5cbiAgcHJvdGVjdGVkIHJlYWRvbmx5IHZpc2libGVDb2x1bW5zID0ge1xuICAgIGZyb3plbjogPG51bWJlcltdPltdLFxuICAgIGZpcnN0OiAwLFxuICAgIGZvcmNlZEZpcnN0OiAwLFxuICAgIGxhc3Q6IC0xLFxuICAgIGZvcmNlZExhc3Q6IC0xXG4gIH07XG4gIHByb3RlY3RlZCB2aXNpYmxlRmlyc3RDb2x1bW5Qb3MgPSAwO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgY29sdW1uQWRhcHRlcjogSU1peGluQWRhcHRlcjtcbiAgcHJpdmF0ZSByZWFkb25seSBjb2x1bW5NaXhpbnM6IElNaXhpbltdO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgY29sdW1uRnJhZ21lbnQ6IERvY3VtZW50RnJhZ21lbnQ7XG5cbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIHJlYWRvbmx5IGhlYWRlcjogSFRNTEVsZW1lbnQsIHByb3RlY3RlZCByZWFkb25seSBzdHlsZTogR3JpZFN0eWxlTWFuYWdlciwgcHJpdmF0ZSByZWFkb25seSB0YWJsZUlkPzogc3RyaW5nLCAuLi5taXhpbkNsYXNzZXM6IElNaXhpbkNsYXNzW10pIHtcblxuICAgIHRoaXMuY29sdW1uQWRhcHRlciA9IHRoaXMuY3JlYXRlQ29sdW1uQWRhcHRlcigpO1xuICAgIHRoaXMuY29sdW1uTWl4aW5zID0gbWl4aW5DbGFzc2VzLm1hcCgobWl4aW5DbGFzcykgPT4gbmV3IG1peGluQ2xhc3ModGhpcy5jb2x1bW5BZGFwdGVyKSk7XG5cbiAgICB0aGlzLmNvbHVtbkZyYWdtZW50ID0gaGVhZGVyLm93bmVyRG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldCBoZWFkZXJTY3JvbGxlcigpIHtcbiAgICByZXR1cm4gPEhUTUxFbGVtZW50PnRoaXMuaGVhZGVyLnBhcmVudEVsZW1lbnQhO1xuICB9XG5cbiAgYWRkQ29sdW1uTWl4aW4obWl4aW5DbGFzczogSU1peGluQ2xhc3MsIG9wdGlvbnM/OiBhbnkpIHtcbiAgICB0aGlzLmNvbHVtbk1peGlucy5wdXNoKG5ldyBtaXhpbkNsYXNzKHRoaXMuY29sdW1uQWRhcHRlciwgb3B0aW9ucykpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVDb2x1bW5BZGFwdGVyKCk6IElNaXhpbkFkYXB0ZXIge1xuICAgIGNvbnN0IHI6IGFueSA9IHtcbiAgICAgIHZpc2libGU6IHRoaXMudmlzaWJsZUNvbHVtbnMsXG4gICAgICBhZGRBdEJlZ2lubmluZzogdGhpcy5hZGRDb2x1bW5BdFN0YXJ0LmJpbmQodGhpcyksXG4gICAgICBhZGRBdEJvdHRvbTogdGhpcy5hZGRDb2x1bW5BdEVuZC5iaW5kKHRoaXMpLFxuICAgICAgcmVtb3ZlRnJvbUJlZ2lubmluZzogdGhpcy5yZW1vdmVDb2x1bW5Gcm9tU3RhcnQuYmluZCh0aGlzKSxcbiAgICAgIHJlbW92ZUZyb21Cb3R0b206IHRoaXMucmVtb3ZlQ29sdW1uRnJvbUVuZC5iaW5kKHRoaXMpLFxuICAgICAgdXBkYXRlT2Zmc2V0OiB0aGlzLnVwZGF0ZUNvbHVtbk9mZnNldC5iaW5kKHRoaXMpLFxuICAgICAgc2Nyb2xsZXI6IHRoaXMuaGVhZGVyU2Nyb2xsZXIsXG4gICAgICBzeW5jRnJvemVuOiB0aGlzLnN5bmNGcm96ZW4uYmluZCh0aGlzKVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMociwge1xuICAgICAgdmlzaWJsZUZpcnN0Um93UG9zOiB7XG4gICAgICAgIGdldDogKCkgPT4gdGhpcy52aXNpYmxlRmlyc3RDb2x1bW5Qb3MsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgIH0sXG4gICAgICBjb250ZXh0OiB7XG4gICAgICAgIGdldDogKCkgPT4gdGhpcy5jb250ZXh0LmNvbHVtbixcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gcjtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICB0aGlzLnN0eWxlLnVwZGF0ZShjb250ZXh0LmRlZmF1bHRSb3dIZWlnaHQgLSBjb250ZXh0LnBhZGRpbmcoLTEpLCBjb250ZXh0LmNvbHVtbnMsIGNvbnRleHQuY29sdW1uLnBhZGRpbmcsIHRoaXMudGFibGVJZCk7XG5cbiAgICBjb250ZXh0LmNvbHVtbnMuZm9yRWFjaCgoKSA9PiB7XG4gICAgICAvL2luaXQgcG9vbFxuICAgICAgdGhpcy5jZWxsUG9vbC5wdXNoKFtdKTtcbiAgICB9KTtcbiAgfVxuXG4gIG9uU2Nyb2xsZWRIb3Jpem9udGFsbHkoc2Nyb2xsTGVmdDogbnVtYmVyLCBjbGllbnRXaWR0aDogbnVtYmVyLCBpc0dvaW5nUmlnaHQ6IGJvb2xlYW4pIHtcbiAgICBjb25zdCBzY3JvbGxSZXN1bHQgPSB0aGlzLm9uU2Nyb2xsZWRIb3Jpem9udGFsbHlJbXBsKHNjcm9sbExlZnQsIGNsaWVudFdpZHRoKTtcbiAgICB0aGlzLmNvbHVtbk1peGlucy5mb3JFYWNoKChtaXhpbikgPT4gbWl4aW4ub25TY3JvbGxlZChpc0dvaW5nUmlnaHQsIHNjcm9sbFJlc3VsdCkpO1xuICAgIHJldHVybiBzY3JvbGxSZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogdGhlIGN1cnJlbnQgcmVuZGVyIGNvbnRleHQsIHVwb24gY2hhbmdlIGByZWNyZWF0ZWAgdGhlIHdob2xlIHRhYmxlXG4gICAqIEByZXR1cm5zIHtJQ2VsbFJlbmRlckNvbnRleHR9XG4gICAqL1xuICBwcm90ZWN0ZWQgYWJzdHJhY3QgZ2V0IGNvbnRleHQoKTogSUNlbGxBZGFwdGVyUmVuZGVyQ29udGV4dDxUPjtcblxuICBwcm90ZWN0ZWQgYWJzdHJhY3QgY3JlYXRlSGVhZGVyKGRvY3VtZW50OiBEb2N1bWVudCwgY29sdW1uOiBUKTogSFRNTEVsZW1lbnQ7XG5cbiAgcHJvdGVjdGVkIGFic3RyYWN0IHVwZGF0ZUhlYWRlcihub2RlOiBIVE1MRWxlbWVudCwgY29sdW1uOiBUKTogSFRNTEVsZW1lbnQgfCB2b2lkO1xuXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBjcmVhdGVDZWxsKGRvY3VtZW50OiBEb2N1bWVudCwgaW5kZXg6IG51bWJlciwgY29sdW1uOiBUKTogSFRNTEVsZW1lbnQ7XG5cbiAgcHJvdGVjdGVkIGFic3RyYWN0IHVwZGF0ZUNlbGwobm9kZTogSFRNTEVsZW1lbnQsIGluZGV4OiBudW1iZXIsIGNvbHVtbjogVCk6IEhUTUxFbGVtZW50IHwgdm9pZDtcblxuICBwcm90ZWN0ZWQgYWJzdHJhY3QgZm9yRWFjaFJvdyhjYWxsYmFjazogKHJvdzogSFRNTEVsZW1lbnQsIHJvd0luZGV4OiBudW1iZXIpID0+IHZvaWQpOiB2b2lkO1xuXG4gIHByaXZhdGUgcmVtb3ZlQ29sdW1uRnJvbVN0YXJ0KGZyb206IG51bWJlciwgdG86IG51bWJlciwgZnJvemVuU2hpZnQ6IG51bWJlciA9IHRoaXMudmlzaWJsZUNvbHVtbnMuZnJvemVuLmxlbmd0aCkge1xuICAgIHRoaXMuZm9yRWFjaFJvdygocm93OiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5yZW1vdmVDZWxsRnJvbVN0YXJ0KHJvdywgZnJvbSwgdG8sIGZyb3plblNoaWZ0KTtcbiAgICB9KTtcbiAgICBpZiAoZGVidWcpIHtcbiAgICAgIHRoaXMudmVyaWZ5Um93cygpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVtb3ZlQ2VsbEZyb21TdGFydChyb3c6IEhUTUxFbGVtZW50LCBmcm9tOiBudW1iZXIsIHRvOiBudW1iZXIsIGZyb3plblNoaWZ0OiBudW1iZXIpIHtcbiAgICBmb3IgKGxldCBpID0gZnJvbTsgaSA8PSB0bzsgKytpKSB7XG4gICAgICBjb25zdCBub2RlID0gPEhUTUxFbGVtZW50Pihmcm96ZW5TaGlmdCA9PT0gMCA/IHJvdy5maXJzdEVsZW1lbnRDaGlsZCA6IHJvdy5jaGlsZHJlbltmcm96ZW5TaGlmdF0pO1xuICAgICAgbm9kZS5yZW1vdmUoKTtcbiAgICAgIHRoaXMucmVjeWNsZUNlbGwobm9kZSwgaSk7XG4gICAgfVxuICAgIGlmIChkZWJ1Zykge1xuICAgICAgdmVyaWZ5Um93KHJvdywgLTEsIHRoaXMuY29udGV4dC5jb2x1bW5zKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlbW92ZUNvbHVtbkZyb21FbmQoZnJvbTogbnVtYmVyLCB0bzogbnVtYmVyKSB7XG4gICAgdGhpcy5mb3JFYWNoUm93KChyb3c6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLnJlbW92ZUNlbGxGcm9tRW5kKHJvdywgZnJvbSwgdG8pO1xuICAgIH0pO1xuICAgIGlmIChkZWJ1Zykge1xuICAgICAgdGhpcy52ZXJpZnlSb3dzKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZW1vdmVDZWxsRnJvbUVuZChyb3c6IEhUTUxFbGVtZW50LCBmcm9tOiBudW1iZXIsIHRvOiBudW1iZXIpIHtcbiAgICBmb3IgKGxldCBpID0gdG87IGkgPj0gZnJvbTsgLS1pKSB7XG4gICAgICBjb25zdCBub2RlID0gPEhUTUxFbGVtZW50PnJvdy5sYXN0RWxlbWVudENoaWxkO1xuICAgICAgbm9kZS5yZW1vdmUoKTtcbiAgICAgIHRoaXMucmVjeWNsZUNlbGwobm9kZSwgaSk7XG4gICAgfVxuICAgIGlmIChkZWJ1Zykge1xuICAgICAgdmVyaWZ5Um93KHJvdywgLTEsIHRoaXMuY29udGV4dC5jb2x1bW5zKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlbW92ZUZyb3plbkNlbGxzKHJvdzogSFRNTEVsZW1lbnQsIGNvbHVtbkluZGljZXM6IG51bWJlcltdLCBzaGlmdDogbnVtYmVyKSB7XG4gICAgZm9yIChjb25zdCBjb2x1bW5JbmRleCBvZiBjb2x1bW5JbmRpY2VzKSB7XG4gICAgICBjb25zdCBub2RlID0gPEhUTUxFbGVtZW50PnJvdy5jaGlsZHJlbltzaGlmdF0hO1xuICAgICAgbm9kZS5yZW1vdmUoKTtcbiAgICAgIHRoaXMucmVjeWNsZUNlbGwobm9kZSwgY29sdW1uSW5kZXgpO1xuICAgIH1cbiAgICBpZiAoZGVidWcpIHtcbiAgICAgIHZlcmlmeVJvdyhyb3csIC0xLCB0aGlzLmNvbnRleHQuY29sdW1ucyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZW1vdmVGcm96ZW5Db2x1bW5zKGNvbHVtbkluZGljZXM6IG51bWJlcltdLCBzaGlmdDogbnVtYmVyKSB7XG4gICAgdGhpcy5mb3JFYWNoUm93KChyb3c6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLnJlbW92ZUZyb3plbkNlbGxzKHJvdywgY29sdW1uSW5kaWNlcywgc2hpZnQpO1xuICAgIH0pO1xuICAgIGlmIChkZWJ1Zykge1xuICAgICAgdGhpcy52ZXJpZnlSb3dzKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZW1vdmVBbGxDb2x1bW5zKGluY2x1ZGluZ0Zyb3plbjogYm9vbGVhbikge1xuICAgIHRoaXMuZm9yRWFjaFJvdygocm93OiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5yZW1vdmVBbGxDZWxscyhyb3csIGluY2x1ZGluZ0Zyb3plbik7XG4gICAgfSk7XG4gICAgaWYgKGRlYnVnKSB7XG4gICAgICB0aGlzLnZlcmlmeVJvd3MoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlbW92ZUFsbENlbGxzKHJvdzogSFRNTEVsZW1lbnQsIGluY2x1ZGluZ0Zyb3plbjogYm9vbGVhbiwgc2hpZnQgPSB0aGlzLnZpc2libGVDb2x1bW5zLmZpcnN0KSB7XG4gICAgY29uc3QgYXJyID0gPEhUTUxFbGVtZW50W10+QXJyYXkuZnJvbShyb3cuY2hpbGRyZW4pO1xuICAgIGNvbnN0IGZyb3plbiA9IHRoaXMudmlzaWJsZUNvbHVtbnMuZnJvemVuO1xuICAgIHJvdy5pbm5lckhUTUwgPSAnJztcblxuICAgIGlmIChpbmNsdWRpbmdGcm96ZW4gfHwgZnJvemVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgZm9yIChjb25zdCBpIG9mIGZyb3plbikge1xuICAgICAgICB0aGlzLnJlY3ljbGVDZWxsKGFyci5zaGlmdCgpISwgaSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGhhdmUgZnJvemVuIGFuZCBrZWVwIHRoZW0sIHNvIHJlYWRkIHRoZW1cbiAgICAgIGZvciAoY29uc3QgXyBvZiBmcm96ZW4pIHtcbiAgICAgICAgcm93LmFwcGVuZENoaWxkKGFyci5zaGlmdCgpISk7XG4gICAgICB9XG4gICAgfVxuICAgIGFyci5mb3JFYWNoKChpdGVtLCBpKSA9PiB7XG4gICAgICB0aGlzLnJlY3ljbGVDZWxsKGl0ZW0sIGkgKyBzaGlmdCk7XG4gICAgfSk7XG5cbiAgICBpZiAoZGVidWcpIHtcbiAgICAgIHZlcmlmeVJvdyhyb3csIC0xLCB0aGlzLmNvbnRleHQuY29sdW1ucyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzZWxlY3RDZWxsKHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlciwgY29sdW1uczogVFtdKTogSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0IHBvb2wgPSB0aGlzLmNlbGxQb29sW2NvbHVtbl07XG4gICAgY29uc3QgY29sdW1uT2JqID0gY29sdW1uc1tjb2x1bW5dO1xuICAgIGlmIChwb29sLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBwb29sLnBvcCgpITtcbiAgICAgIGNvbnN0IHIgPSB0aGlzLnVwZGF0ZUNlbGwoaXRlbSwgcm93LCBjb2x1bW5PYmopO1xuICAgICAgaWYgKHIgJiYgciAhPT0gaXRlbSkge1xuICAgICAgICBzZXRDb2x1bW4ociwgY29sdW1uT2JqKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByID8gciA6IGl0ZW07XG4gICAgfVxuICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNlbGwodGhpcy5oZWFkZXIub3duZXJEb2N1bWVudCwgcm93LCBjb2x1bW5PYmopO1xuICAgIHNldENvbHVtbihyLCBjb2x1bW5PYmopO1xuICAgIHJldHVybiByO1xuICB9XG5cbiAgcHJpdmF0ZSByZWN5Y2xlQ2VsbChpdGVtOiBIVE1MRWxlbWVudCwgY29sdW1uOiBudW1iZXIpIHtcbiAgICB0aGlzLmNlbGxQb29sW2NvbHVtbl0ucHVzaChpdGVtKTtcbiAgfVxuXG4gIHByaXZhdGUgYWRkQ29sdW1uQXRTdGFydChmcm9tOiBudW1iZXIsIHRvOiBudW1iZXIsIGZyb3plblNoaWZ0OiBudW1iZXIgPSB0aGlzLnZpc2libGVDb2x1bW5zLmZyb3plbi5sZW5ndGgpIHtcbiAgICBjb25zdCB7Y29sdW1uc30gPSB0aGlzLmNvbnRleHQ7XG4gICAgdGhpcy5mb3JFYWNoUm93KChyb3c6IEhUTUxFbGVtZW50LCByb3dJbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICB0aGlzLmFkZENlbGxBdFN0YXJ0KHJvdywgcm93SW5kZXgsIGZyb20sIHRvLCBmcm96ZW5TaGlmdCwgY29sdW1ucyk7XG4gICAgfSk7XG4gICAgaWYgKGRlYnVnKSB7XG4gICAgICB0aGlzLnZlcmlmeVJvd3MoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFkZENlbGxBdFN0YXJ0KHJvdzogSFRNTEVsZW1lbnQsIHJvd0luZGV4OiBudW1iZXIsIGZyb206IG51bWJlciwgdG86IG51bWJlciwgZnJvemVuU2hpZnQ6IG51bWJlciwgY29sdW1uczogVFtdKSB7XG4gICAgaWYgKGRlYnVnKSB7XG4gICAgICB2ZXJpZnlSb3cocm93LCByb3dJbmRleCwgdGhpcy5jb250ZXh0LmNvbHVtbnMpO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gdG87IGkgPj0gZnJvbTsgLS1pKSB7XG4gICAgICBjb25zdCBjZWxsID0gdGhpcy5zZWxlY3RDZWxsKHJvd0luZGV4LCBpLCBjb2x1bW5zKTtcbiAgICAgIHJvdy5pbnNlcnRCZWZvcmUoY2VsbCwgZnJvemVuU2hpZnQgPiAwID8gcm93LmNoaWxkcmVuW2Zyb3plblNoaWZ0XSA6IHJvdy5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgaWYgKGRlYnVnKSB7XG4gICAgICB2ZXJpZnlSb3cocm93LCByb3dJbmRleCwgdGhpcy5jb250ZXh0LmNvbHVtbnMpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaW5zZXJ0RnJvemVuQ2VsbHMocm93OiBIVE1MRWxlbWVudCwgcm93SW5kZXg6IG51bWJlciwgY29sdW1uSW5kaWNlczogbnVtYmVyW10sIHNoaWZ0OiBudW1iZXIsIGNvbHVtbnM6IFRbXSkge1xuICAgIGNvbnN0IGJlZm9yZSA9IHJvdy5jaGlsZHJlbltzaGlmdF07XG4gICAgZm9yIChjb25zdCBpIG9mIGNvbHVtbkluZGljZXMpIHtcbiAgICAgIGNvbnN0IGNlbGwgPSB0aGlzLnNlbGVjdENlbGwocm93SW5kZXgsIGksIGNvbHVtbnMpO1xuICAgICAgaWYgKGJlZm9yZSkge1xuICAgICAgICByb3cuaW5zZXJ0QmVmb3JlKGNlbGwsIGJlZm9yZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY2VsbCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBpbnNlcnRGcm96ZW5Db2x1bW5zKGNvbHVtbkluZGljZXM6IG51bWJlcltdLCBzaGlmdDogbnVtYmVyKSB7XG4gICAgY29uc3Qge2NvbHVtbnN9ID0gdGhpcy5jb250ZXh0O1xuICAgIHRoaXMuZm9yRWFjaFJvdygocm93OiBIVE1MRWxlbWVudCwgcm93SW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgdGhpcy5pbnNlcnRGcm96ZW5DZWxscyhyb3csIHJvd0luZGV4LCBjb2x1bW5JbmRpY2VzLCBzaGlmdCwgY29sdW1ucyk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGFkZENvbHVtbkF0RW5kKGZyb206IG51bWJlciwgdG86IG51bWJlcikge1xuICAgIGNvbnN0IHtjb2x1bW5zfSA9IHRoaXMuY29udGV4dDtcbiAgICB0aGlzLmZvckVhY2hSb3coKHJvdzogSFRNTEVsZW1lbnQsIHJvd0luZGV4OiBudW1iZXIpID0+IHtcbiAgICAgIHRoaXMuYWRkQ2VsbEF0RW5kKHJvdywgcm93SW5kZXgsIGZyb20sIHRvLCBjb2x1bW5zKTtcbiAgICB9KTtcbiAgICBpZiAoZGVidWcpIHtcbiAgICAgIHRoaXMudmVyaWZ5Um93cygpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgdmVyaWZ5Um93cygpIHtcbiAgICBjb25zdCB7Y29sdW1uc30gPSB0aGlzLmNvbnRleHQ7XG4gICAgdGhpcy5mb3JFYWNoUm93KChyb3csIHJvd0luZGV4KSA9PiB2ZXJpZnlSb3cocm93LCByb3dJbmRleCwgY29sdW1ucykpO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRDZWxsQXRFbmQocm93OiBIVE1MRWxlbWVudCwgcm93SW5kZXg6IG51bWJlciwgZnJvbTogbnVtYmVyLCB0bzogbnVtYmVyLCBjb2x1bW5zOiBUW10pIHtcbiAgICBmb3IgKGxldCBpID0gZnJvbTsgaSA8PSB0bzsgKytpKSB7XG4gICAgICBjb25zdCBjZWxsID0gdGhpcy5zZWxlY3RDZWxsKHJvd0luZGV4LCBpLCBjb2x1bW5zKTtcbiAgICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICB9XG4gICAgaWYgKGRlYnVnKSB7XG4gICAgICB2ZXJpZnlSb3cocm93LCByb3dJbmRleCwgdGhpcy5jb250ZXh0LmNvbHVtbnMpO1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZUhlYWRlcnMoKSB7XG4gICAgY29uc3Qge2NvbHVtbnN9ID0gdGhpcy5jb250ZXh0O1xuICAgIEFycmF5LmZyb20odGhpcy5oZWFkZXIuY2hpbGRyZW4pLmZvckVhY2goKG5vZGU6IEhUTUxFbGVtZW50LCBpKSA9PiB7XG4gICAgICB0aGlzLnVwZGF0ZUhlYWRlcihub2RlLCBjb2x1bW5zW2ldKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlY3JlYXRlKGxlZnQ6IG51bWJlciwgd2lkdGg6IG51bWJlcikge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgaWYgKGNvbnRleHQuaGFzRnJvemVuQ29sdW1ucyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb250ZXh0Lmhhc0Zyb3plbkNvbHVtbnMgPSBjb250ZXh0LmNvbHVtbnMuc29tZSgoYykgPT4gYy5mcm96ZW4pO1xuICAgIH1cblxuICAgIHRoaXMuc3R5bGUudXBkYXRlKGNvbnRleHQuZGVmYXVsdFJvd0hlaWdodCAtIGNvbnRleHQucGFkZGluZygtMSksIGNvbnRleHQuY29sdW1ucywgY29udGV4dC5jb2x1bW4ucGFkZGluZywgdGhpcy50YWJsZUlkKTtcblxuXG4gICAgdGhpcy5jbGVhclBvb2woKTtcbiAgICAvLyBpbml0IHBvb2xcbiAgICBmb3IgKGxldCBpID0gdGhpcy5jZWxsUG9vbC5sZW5ndGg7IGkgPCBjb250ZXh0LmNvbHVtbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHRoaXMuY2VsbFBvb2wucHVzaChbXSk7XG4gICAgfVxuXG4gICAgLy9jcmVhdGUgYWxsIGhlYWRlciBjb2x1bW5zXG4gICAge1xuICAgICAgY29uc3QgZnJhZ21lbnQgPSB0aGlzLmNvbHVtbkZyYWdtZW50O1xuICAgICAgY29uc3QgZG9jdW1lbnQgPSBmcmFnbWVudC5vd25lckRvY3VtZW50O1xuICAgICAgdGhpcy5oZWFkZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgICBjb250ZXh0LmNvbHVtbnMuZm9yRWFjaCgoY29sKSA9PiB7XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLmNyZWF0ZUhlYWRlcihkb2N1bWVudCwgY29sKTtcbiAgICAgICAgc2V0Q29sdW1uKG4sIGNvbCk7XG4gICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKG4pO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmhlYWRlci5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG4gICAgfVxuXG4gICAgY29uc3Qge2ZpcnN0LCBsYXN0LCBmaXJzdFJvd1Bvc30gPSByYW5nZShsZWZ0LCB3aWR0aCwgY29udGV4dC5jb2x1bW4uZGVmYXVsdFJvd0hlaWdodCwgY29udGV4dC5jb2x1bW4uZXhjZXB0aW9ucywgY29udGV4dC5jb2x1bW4ubnVtYmVyT2ZSb3dzKTtcblxuICAgIHRoaXMudmlzaWJsZUNvbHVtbnMuZmlyc3QgPSB0aGlzLnZpc2libGVDb2x1bW5zLmZvcmNlZEZpcnN0ID0gZmlyc3Q7XG4gICAgdGhpcy52aXNpYmxlQ29sdW1ucy5sYXN0ID0gdGhpcy52aXNpYmxlQ29sdW1ucy5mb3JjZWRMYXN0ID0gbGFzdDtcbiAgICBpZiAoY29udGV4dC5oYXNGcm96ZW5Db2x1bW5zKSB7XG4gICAgICBjb25zdCB7dGFyZ2V0fSA9IHVwZGF0ZUZyb3plbihbXSwgY29udGV4dC5jb2x1bW5zLCBmaXJzdCk7XG4gICAgICB0aGlzLnZpc2libGVDb2x1bW5zLmZyb3plbiA9IHRhcmdldDtcbiAgICB9XG4gICAgdGhpcy51cGRhdGVDb2x1bW5PZmZzZXQoZmlyc3RSb3dQb3MpO1xuICB9XG5cbiAgY2xlYXJQb29sKCkge1xuICAgIHRoaXMuY2VsbFBvb2wuZm9yRWFjaCgocCkgPT4gcC5zcGxpY2UoMCwgcC5sZW5ndGgpKTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlQ29sdW1uT2Zmc2V0KGZpcnN0Q29sdW1uUG9zOiBudW1iZXIpIHtcbiAgICB0aGlzLnZpc2libGVGaXJzdENvbHVtblBvcyA9IGZpcnN0Q29sdW1uUG9zO1xuICAgIC8vIFRPRE9cbiAgfVxuXG4gIGNyZWF0ZVJvdyhub2RlOiBIVE1MRWxlbWVudCwgcm93SW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IHtjb2x1bW5zLCBoYXNGcm96ZW5Db2x1bW5zfSA9IHRoaXMuY29udGV4dDtcbiAgICBjb25zdCB2aXNpYmxlID0gdGhpcy52aXNpYmxlQ29sdW1ucztcblxuICAgIGlmIChoYXNGcm96ZW5Db2x1bW5zKSB7XG4gICAgICBmb3IgKGNvbnN0IGkgb2YgdmlzaWJsZS5mcm96ZW4pIHtcbiAgICAgICAgY29uc3QgY2VsbCA9IHRoaXMuc2VsZWN0Q2VsbChyb3dJbmRleCwgaSwgY29sdW1ucyk7XG4gICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQoY2VsbCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSB2aXNpYmxlLmZpcnN0OyBpIDw9IHZpc2libGUubGFzdDsgKytpKSB7XG4gICAgICBjb25zdCBjZWxsID0gdGhpcy5zZWxlY3RDZWxsKHJvd0luZGV4LCBpLCBjb2x1bW5zKTtcbiAgICAgIG5vZGUuYXBwZW5kQ2hpbGQoY2VsbCk7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlUm93KG5vZGU6IEhUTUxFbGVtZW50LCByb3dJbmRleDogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3Qge2NvbHVtbnMsIGhhc0Zyb3plbkNvbHVtbnN9ID0gdGhpcy5jb250ZXh0O1xuICAgIGNvbnN0IHZpc2libGUgPSB0aGlzLnZpc2libGVDb2x1bW5zO1xuXG4gICAgLy9jb2x1bW5zIG1heSBub3QgbWF0Y2ggYW55bW9yZSBpZiBpdCBpcyBhIHBvb2xlZCBpdGVtIGEgbG9uZyB0aW1lIGFnb1xuICAgIGNvbnN0IGV4aXN0aW5nID0gPEhUTUxFbGVtZW50W10+QXJyYXkuZnJvbShub2RlLmNoaWxkcmVuKTtcblxuICAgIHN3aXRjaCAoZXhpc3RpbmcubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIGlmIChoYXNGcm96ZW5Db2x1bW5zKSB7XG4gICAgICAgICAgdGhpcy5pbnNlcnRGcm96ZW5DZWxscyhub2RlLCByb3dJbmRleCwgdmlzaWJsZS5mcm96ZW4sIDAsIGNvbHVtbnMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRkQ2VsbEF0RW5kKG5vZGUsIHJvd0luZGV4LCB2aXNpYmxlLmZpcnN0LCB2aXNpYmxlLmxhc3QsIGNvbHVtbnMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgY29uc3Qgb2xkID0gZXhpc3RpbmdbMF07XG4gICAgICAgIGNvbnN0IGlkID0gb2xkLmRhdGFzZXQuaWQhO1xuICAgICAgICBjb25zdCBjb2x1bW5JbmRleCA9IGNvbHVtbnMuZmluZEluZGV4KChjKSA9PiBjLmlkID09PSBpZCk7XG4gICAgICAgIG5vZGUucmVtb3ZlQ2hpbGQob2xkKTtcbiAgICAgICAgdGhpcy5yZWN5Y2xlQ2VsbChvbGQsIGNvbHVtbkluZGV4KTtcblxuICAgICAgICBpZiAoaGFzRnJvemVuQ29sdW1ucykge1xuICAgICAgICAgIHRoaXMuaW5zZXJ0RnJvemVuQ2VsbHMobm9kZSwgcm93SW5kZXgsIHZpc2libGUuZnJvemVuLCAwLCBjb2x1bW5zKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkZENlbGxBdEVuZChub2RlLCByb3dJbmRleCwgdmlzaWJsZS5maXJzdCwgdmlzaWJsZS5sYXN0LCBjb2x1bW5zKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OiAvLz49MlxuICAgICAgICBpZiAoaGFzRnJvemVuQ29sdW1ucykge1xuICAgICAgICAgIC8vc3luYyB0aGUgZnJvemVuIGNvbHVtbnNcbiAgICAgICAgICBjb25zdCBjdXJyZW50RnJvemVuID0gPG51bWJlcltdPltdO1xuICAgICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBleGlzdGluZykge1xuICAgICAgICAgICAgY29uc3QgaWQgPSBub2RlLmRhdGFzZXQuaWQhO1xuICAgICAgICAgICAgY29uc3QgY29sID0gY29sdW1ucy5maW5kSW5kZXgoKGMpID0+IGMuaWQgPT09IGlkKTtcbiAgICAgICAgICAgIGlmIChjb2x1bW5zW2NvbF0uZnJvemVuKSB7XG4gICAgICAgICAgICAgIGN1cnJlbnRGcm96ZW4ucHVzaChjb2wpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy9qdXN0IGludGVyZXN0ZWQgaW4gdGhlIGZpcnN0IGZyb3plblxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3Qge2NvbW1vbiwgcmVtb3ZlZCwgYWRkZWR9ID0gZnJvemVuRGVsdGEoY3VycmVudEZyb3plbiwgdmlzaWJsZS5mcm96ZW4pO1xuICAgICAgICAgIC8vdXBkYXRlIHRoZSBjb21tb24gb25lc1xuICAgICAgICAgIGV4aXN0aW5nLnNsaWNlKDAsIGNvbW1vbikuZm9yRWFjaCgoY2hpbGQsIGkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbCA9IGNvbHVtbnNbY3VycmVudEZyb3plbltpXV07XG4gICAgICAgICAgICBjb25zdCBjZWxsID0gdGhpcy51cGRhdGVDZWxsKGNoaWxkLCByb3dJbmRleCwgY29sKTtcbiAgICAgICAgICAgIGlmIChjZWxsICYmIGNlbGwgIT09IGNoaWxkKSB7XG4gICAgICAgICAgICAgIHNldENvbHVtbihjZWxsLCBjb2wpO1xuICAgICAgICAgICAgICBub2RlLnJlcGxhY2VDaGlsZChjZWxsLCBjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5yZW1vdmVGcm96ZW5DZWxscyhub2RlLCByZW1vdmVkLCBjb21tb24pO1xuICAgICAgICAgIHRoaXMuaW5zZXJ0RnJvemVuQ2VsbHMobm9kZSwgcm93SW5kZXgsIGFkZGVkLCBjb21tb24sIGNvbHVtbnMpO1xuICAgICAgICAgIC8vcmVtb3ZlIHRoZSBvbmVzIGFscmVhZHkgaGFuZGxlZFxuICAgICAgICAgIGV4aXN0aW5nLnNwbGljZSgwLCBjdXJyZW50RnJvemVuLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4aXN0aW5nLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIC8vIGFsbCBhcmUgZnJvemVuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmlyc3RJZCA9IGV4aXN0aW5nWzBdLmRhdGFzZXQuaWQhO1xuICAgICAgICBjb25zdCBsYXN0SWQgPSBleGlzdGluZ1tleGlzdGluZy5sZW5ndGggLSAxXS5kYXRhc2V0LmlkITtcbiAgICAgICAgY29uc3QgZmlyc3RJbmRleCA9IGNvbHVtbnMuZmluZEluZGV4KChjKSA9PiBjLmlkID09PSBmaXJzdElkKTtcbiAgICAgICAgY29uc3QgbGFzdEluZGV4ID0gY29sdW1ucy5maW5kSW5kZXgoKGMpID0+IGMuaWQgPT09IGxhc3RJZCk7XG4gICAgICAgIGNvbnN0IGZyb3plblNoaWZ0ID0gdmlzaWJsZS5mcm96ZW4ubGVuZ3RoO1xuXG4gICAgICAgIGlmIChmaXJzdEluZGV4ID09PSB2aXNpYmxlLmZpcnN0ICYmIGxhc3RJbmRleCA9PT0gdmlzaWJsZS5sYXN0KSB7XG4gICAgICAgICAgLy9tYXRjaCB1cGRhdGVcbiAgICAgICAgICBleGlzdGluZy5mb3JFYWNoKChjaGlsZCwgaSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29sID0gY29sdW1uc1tpICsgdmlzaWJsZS5maXJzdF07XG4gICAgICAgICAgICBjb25zdCBjZWxsID0gdGhpcy51cGRhdGVDZWxsKGNoaWxkLCByb3dJbmRleCwgY29sKTtcbiAgICAgICAgICAgIGlmIChjZWxsICYmIGNlbGwgIT09IGNoaWxkKSB7XG4gICAgICAgICAgICAgIHNldENvbHVtbihjZWxsLCBjb2wpO1xuICAgICAgICAgICAgICBub2RlLnJlcGxhY2VDaGlsZChjZWxsLCBjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAodmlzaWJsZS5sYXN0ID4gZmlyc3RJbmRleCB8fCB2aXNpYmxlLmZpcnN0IDwgbGFzdEluZGV4KSB7XG4gICAgICAgICAgLy9ubyBtYXRjaCBhdCBhbGxcbiAgICAgICAgICB0aGlzLnJlbW92ZUFsbENlbGxzKG5vZGUsIGZhbHNlLCBmaXJzdEluZGV4KTtcbiAgICAgICAgICB0aGlzLmFkZENlbGxBdFN0YXJ0KG5vZGUsIHJvd0luZGV4LCB2aXNpYmxlLmZpcnN0LCB2aXNpYmxlLmxhc3QsIGZyb3plblNoaWZ0LCBjb2x1bW5zKTtcbiAgICAgICAgfSBlbHNlIGlmICh2aXNpYmxlLmZpcnN0IDwgZmlyc3RJbmRleCkge1xuICAgICAgICAgIC8vc29tZSBmaXJzdCByb3dzIG1pc3NpbmcgYW5kIHNvbWUgbGFzdCByb3dzIHRvIG11Y2hcbiAgICAgICAgICB0aGlzLnJlbW92ZUNlbGxGcm9tRW5kKG5vZGUsIHZpc2libGUubGFzdCArIDEsIGZpcnN0SW5kZXgpO1xuICAgICAgICAgIHRoaXMuYWRkQ2VsbEF0U3RhcnQobm9kZSwgcm93SW5kZXgsIHZpc2libGUuZmlyc3QsIGZpcnN0SW5kZXggLSAxLCBmcm96ZW5TaGlmdCwgY29sdW1ucyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy9zb21lIGxhc3Qgcm93cyBtaXNzaW5nIGFuZCBzb21lIGZpcnN0IHJvd3MgdG8gbXVjaFxuICAgICAgICAgIHRoaXMucmVtb3ZlQ2VsbEZyb21TdGFydChub2RlLCBmaXJzdEluZGV4LCB2aXNpYmxlLmZpcnN0IC0gMSwgZnJvemVuU2hpZnQpO1xuICAgICAgICAgIHRoaXMuYWRkQ2VsbEF0RW5kKG5vZGUsIHJvd0luZGV4LCBsYXN0SW5kZXggKyAxLCB2aXNpYmxlLmxhc3QsIGNvbHVtbnMpO1xuICAgICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzeW5jRnJvemVuKGZpcnN0OiBudW1iZXIpIHtcbiAgICBjb25zdCB7Y29sdW1ucywgaGFzRnJvemVuQ29sdW1uc30gPSB0aGlzLmNvbnRleHQ7XG4gICAgY29uc3QgdmlzaWJsZSA9IHRoaXMudmlzaWJsZUNvbHVtbnM7XG5cbiAgICBpZiAoIWhhc0Zyb3plbkNvbHVtbnMpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBpZiAoZmlyc3QgPT09IDApIHtcbiAgICAgIGlmICh2aXNpYmxlLmZyb3plbi5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRnJvemVuQ29sdW1ucyh2aXNpYmxlLmZyb3plbiwgMCk7XG4gICAgICAgIHZpc2libGUuZnJvemVuID0gW107XG4gICAgICB9XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgY29uc3Qgb2xkID0gdmlzaWJsZS5mcm96ZW4ubGVuZ3RoO1xuICAgIGNvbnN0IHt0YXJnZXQsIGFkZGVkLCByZW1vdmVkfSA9IHVwZGF0ZUZyb3plbih2aXNpYmxlLmZyb3plbiwgY29sdW1ucywgZmlyc3QpO1xuICAgIGlmIChyZW1vdmVkLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMucmVtb3ZlRnJvemVuQ29sdW1ucyhyZW1vdmVkLCBvbGQgLSByZW1vdmVkLmxlbmd0aCk7XG4gICAgfVxuICAgIGlmIChhZGRlZC5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLmluc2VydEZyb3plbkNvbHVtbnMoYWRkZWQsIG9sZCAtIHJlbW92ZWQubGVuZ3RoKTtcbiAgICB9XG4gICAgdmlzaWJsZS5mcm96ZW4gPSB0YXJnZXQ7XG4gICAgcmV0dXJuIHRhcmdldC5sZW5ndGg7XG4gIH1cblxuICBwcml2YXRlIG9uU2Nyb2xsZWRIb3Jpem9udGFsbHlJbXBsKHNjcm9sbExlZnQ6IG51bWJlciwgY2xpZW50V2lkdGg6IG51bWJlcik6IEVTY3JvbGxSZXN1bHQge1xuICAgIGNvbnN0IHtjb2x1bW59ID0gdGhpcy5jb250ZXh0O1xuICAgIGNvbnN0IHtmaXJzdCwgbGFzdCwgZmlyc3RSb3dQb3N9ID0gcmFuZ2Uoc2Nyb2xsTGVmdCwgY2xpZW50V2lkdGgsIGNvbHVtbi5kZWZhdWx0Um93SGVpZ2h0LCBjb2x1bW4uZXhjZXB0aW9ucywgY29sdW1uLm51bWJlck9mUm93cyk7XG5cbiAgICBjb25zdCB2aXNpYmxlID0gdGhpcy52aXNpYmxlQ29sdW1ucztcbiAgICB2aXNpYmxlLmZvcmNlZEZpcnN0ID0gZmlyc3Q7XG4gICAgdmlzaWJsZS5mb3JjZWRMYXN0ID0gbGFzdDtcblxuICAgIGlmICgoZmlyc3QgLSB2aXNpYmxlLmZpcnN0KSA+PSAwICYmIChsYXN0IC0gdmlzaWJsZS5sYXN0KSA8PSAwKSB7XG4gICAgICAvL25vdGhpbmcgdG8gZG9cbiAgICAgIHJldHVybiBFU2Nyb2xsUmVzdWx0Lk5PTkU7XG4gICAgfVxuXG4gICAgbGV0IHI6IEVTY3JvbGxSZXN1bHQgPSBFU2Nyb2xsUmVzdWx0LlBBUlRJQUw7XG5cbiAgICBjb25zdCBmcm96ZW5TaGlmdCA9IHRoaXMuc3luY0Zyb3plbihmaXJzdCk7XG5cbiAgICBpZiAoZmlyc3QgPiB2aXNpYmxlLmxhc3QgfHwgbGFzdCA8IHZpc2libGUuZmlyc3QpIHtcbiAgICAgIC8vbm8gb3ZlcmxhcCwgY2xlYW4gYW5kIGRyYXcgZXZlcnl0aGluZ1xuICAgICAgLy9jb25zb2xlLmxvZyhgZmYgYWRkZWQ6ICR7bGFzdCAtIGZpcnN0ICsgMX0gcmVtb3ZlZDogJHt2aXNpYmxlTGFzdCAtIHZpc2libGVGaXJzdCArIDF9ICR7Zmlyc3R9OiR7bGFzdH0gJHtvZmZzZXR9YCk7XG4gICAgICAvL3JlbW92ZVJvd3ModmlzaWJsZUZpcnN0LCB2aXNpYmxlTGFzdCk7XG4gICAgICB0aGlzLnJlbW92ZUFsbENvbHVtbnMoZmFsc2UpO1xuICAgICAgdGhpcy5hZGRDb2x1bW5BdEVuZChmaXJzdCwgbGFzdCk7XG4gICAgICByID0gRVNjcm9sbFJlc3VsdC5BTEw7XG4gICAgfSBlbHNlIGlmIChmaXJzdCA8IHZpc2libGUuZmlyc3QpIHtcbiAgICAgIC8vc29tZSBmaXJzdCByb3dzIG1pc3NpbmcgYW5kIHNvbWUgbGFzdCByb3dzIHRvIG11Y2hcbiAgICAgIC8vY29uc29sZS5sb2coYHVwIGFkZGVkOiAke3Zpc2libGVGaXJzdCAtIGZpcnN0ICsgMX0gcmVtb3ZlZDogJHt2aXNpYmxlTGFzdCAtIGxhc3QgKyAxfSAke2ZpcnN0fToke2xhc3R9ICR7b2Zmc2V0fWApO1xuICAgICAgdGhpcy5yZW1vdmVDb2x1bW5Gcm9tRW5kKGxhc3QgKyAxLCB2aXNpYmxlLmxhc3QpO1xuICAgICAgdGhpcy5hZGRDb2x1bW5BdFN0YXJ0KGZpcnN0LCB2aXNpYmxlLmZpcnN0IC0gMSwgZnJvemVuU2hpZnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvL2NvbnNvbGUubG9nKGBkbyBhZGRlZDogJHtsYXN0IC0gdmlzaWJsZUxhc3QgKyAxfSByZW1vdmVkOiAke2ZpcnN0IC0gdmlzaWJsZUZpcnN0ICsgMX0gJHtmaXJzdH06JHtsYXN0fSAke29mZnNldH1gKTtcbiAgICAgIC8vc29tZSBsYXN0IHJvd3MgbWlzc2luZyBhbmQgc29tZSBmaXJzdCByb3dzIHRvIG11Y2hcbiAgICAgIHRoaXMucmVtb3ZlQ29sdW1uRnJvbVN0YXJ0KHZpc2libGUuZmlyc3QsIGZpcnN0IC0gMSwgZnJvemVuU2hpZnQpO1xuICAgICAgdGhpcy5hZGRDb2x1bW5BdEVuZCh2aXNpYmxlLmxhc3QgKyAxLCBsYXN0KTtcbiAgICB9XG5cbiAgICB2aXNpYmxlLmZpcnN0ID0gZmlyc3Q7XG4gICAgdmlzaWJsZS5sYXN0ID0gbGFzdDtcblxuICAgIHRoaXMudXBkYXRlQ29sdW1uT2Zmc2V0KGZpcnN0Um93UG9zKTtcblxuICAgIHJldHVybiByO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQUNlbGxBZGFwdGVyO1xuXG5mdW5jdGlvbiB2ZXJpZnlSb3cocm93OiBIVE1MRWxlbWVudCwgaW5kZXg6IG51bWJlciwgY29sdW1uczogSUNvbHVtbltdKSB7XG4gIGNvbnN0IGNvbHMgPSA8SFRNTEVsZW1lbnRbXT5BcnJheS5mcm9tKHJvdy5jaGlsZHJlbik7XG4gIC8vc29ydCBpbmNyZW1lbnRhbGx5XG4gIGlmIChjb2xzLmxlbmd0aCA8PSAxKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGNvbE9ianMgPSBjb2xzLm1hcCgoYykgPT4gY29sdW1ucy5maW5kKChkKSA9PiBkLmlkID09PSBjLmRhdGFzZXQuaWQpISk7XG4gIGNvbnNvbGUuYXNzZXJ0KGNvbE9ianMuZXZlcnkoKGQpID0+IEJvb2xlYW4oZCkpLCAnYWxsIGNvbHVtbnMgbXVzdCBleGlzdCcsIGluZGV4KTtcbiAgY29uc29sZS5hc3NlcnQoY29sT2Jqcy5ldmVyeSgoZCwgaSkgPT4gaSA9PT0gMCB8fCBkLmluZGV4ID49IGNvbE9ianNbaSAtIDFdIS5pbmRleCksICdhbGwgY29sdW1ucyBpbiBhc2NlbmRpbmcgb3JkZXInLCBpbmRleCk7XG4gIGNvbnNvbGUuYXNzZXJ0KChuZXcgU2V0KGNvbE9ianMpKS5zaXplID09PSBjb2xPYmpzLmxlbmd0aCwgJ3VuaXF1ZSBjb2x1bW5zJywgY29sT2Jqcyk7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL3RhYmxlL2ludGVybmFsL0FDZWxsQWRhcHRlci50cyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQVFBO0FBcUJBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBaEJBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7OztBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFrQkE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTs7QUFHQTtBQUNBO0FBVEE7QUFBQTtBQUFBOzs7QUFTQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUFBOztBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///10\n");

/***/ }),
/* 11 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"version\", function() { return version; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ACellRenderer__ = __webpack_require__(12);\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"ACellRenderer\", function() { return __WEBPACK_IMPORTED_MODULE_0__ACellRenderer__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ARowRenderer__ = __webpack_require__(3);\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"ARowRenderer\", function() { return __WEBPACK_IMPORTED_MODULE_1__ARowRenderer__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__logic__ = __webpack_require__(0);\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"uniformContext\", function() { return __WEBPACK_IMPORTED_MODULE_2__logic__[\"e\"]; });\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"nonUniformContext\", function() { return __WEBPACK_IMPORTED_MODULE_2__logic__[\"b\"]; });\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"randomContext\", function() { return __WEBPACK_IMPORTED_MODULE_2__logic__[\"c\"]; });\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"range\", function() { return __WEBPACK_IMPORTED_MODULE_2__logic__[\"d\"]; });\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"frozenDelta\", function() { return __WEBPACK_IMPORTED_MODULE_2__logic__[\"a\"]; });\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"updateFrozen\", function() { return __WEBPACK_IMPORTED_MODULE_2__logic__[\"f\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__abortAble__ = __webpack_require__(5);\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"ABORTED\", function() { return __WEBPACK_IMPORTED_MODULE_3__abortAble__[\"a\"]; });\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"isAbortAble\", function() { return __WEBPACK_IMPORTED_MODULE_3__abortAble__[\"b\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__style__ = __webpack_require__(4);\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"GridStyleManager\", function() { return __WEBPACK_IMPORTED_MODULE_4__style__[\"a\"]; });\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"setColumn\", function() { return __WEBPACK_IMPORTED_MODULE_4__style__[\"d\"]; });\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"TEMPLATE\", function() { return __WEBPACK_IMPORTED_MODULE_4__style__[\"c\"]; });\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"setTemplate\", function() { return __WEBPACK_IMPORTED_MODULE_4__style__[\"e\"]; });\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"StyleManager\", function() { return __WEBPACK_IMPORTED_MODULE_4__style__[\"b\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__mixin__ = __webpack_require__(1);\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"EScrollResult\", function() { return __WEBPACK_IMPORTED_MODULE_5__mixin__[\"a\"]; });\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"PrefetchMixin\", function() { return __WEBPACK_IMPORTED_MODULE_5__mixin__[\"b\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__table__ = __webpack_require__(15);\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"ACellTableSection\", function() { return __WEBPACK_IMPORTED_MODULE_6__table__[\"a\"]; });\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar version = \"1.0.0-20180114-143620\";\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2luZGV4LnRzP2Y0MWUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9BQ2VsbFJlbmRlcmVyJztcbmV4cG9ydCAqIGZyb20gJy4vQVJvd1JlbmRlcmVyJztcbmV4cG9ydCAqIGZyb20gJy4vbG9naWMnO1xuZXhwb3J0ICogZnJvbSAnLi9hYm9ydEFibGUnO1xuZXhwb3J0ICogZnJvbSAnLi9zdHlsZSc7XG5leHBvcnQgKiBmcm9tICcuL21peGluJztcbmV4cG9ydCAqIGZyb20gJy4vdGFibGUnO1xuXG5kZWNsYXJlIGNvbnN0IF9fVkVSU0lPTl9fOiBzdHJpbmc7XG5leHBvcnQgY29uc3QgdmVyc2lvbiA9IF9fVkVSU0lPTl9fO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9pbmRleC50cyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///11\n");

/***/ }),
/* 12 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ACellRenderer; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ARowRenderer__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__style__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__table_internal_ACellAdapter__ = __webpack_require__(10);\n\r\n\r\n\r\n\r\nvar ACellRenderer = (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](ACellRenderer, _super);\r\n    function ACellRenderer(root, htmlId, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = _super.call(this, Object(__WEBPACK_IMPORTED_MODULE_2__style__[\"e\" /* setTemplate */])(root).querySelector('main > article'), options) || this;\r\n        _this.root = root;\r\n        root.classList.add('lineup-engine');\r\n        _this.style = new __WEBPACK_IMPORTED_MODULE_2__style__[\"a\" /* GridStyleManager */](_this.root, htmlId);\r\n        var that = _this;\r\n        var LocalCell = (function (_super) {\r\n            __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](LocalCell, _super);\r\n            function LocalCell() {\r\n                return _super !== null && _super.apply(this, arguments) || this;\r\n            }\r\n            Object.defineProperty(LocalCell.prototype, \"context\", {\r\n                get: function () {\r\n                    return that.context;\r\n                },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            LocalCell.prototype.createHeader = function (document, column) {\r\n                return that.createHeader(document, column);\r\n            };\r\n            LocalCell.prototype.updateHeader = function (node, column) {\r\n                return that.updateHeader(node, column);\r\n            };\r\n            LocalCell.prototype.createCell = function (document, index, column) {\r\n                return that.createCell(document, index, column);\r\n            };\r\n            LocalCell.prototype.updateCell = function (node, index, column) {\r\n                return that.updateCell(node, index, column);\r\n            };\r\n            LocalCell.prototype.forEachRow = function (callback) {\r\n                return that.forEachRow(callback);\r\n            };\r\n            return LocalCell;\r\n        }(__WEBPACK_IMPORTED_MODULE_3__table_internal_ACellAdapter__[\"a\" /* default */]));\r\n        _this.cell = new (LocalCell.bind.apply(LocalCell, [void 0, _this.header, _this.style, undefined].concat((options.mixins || []))))();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ACellRenderer.prototype, \"header\", {\r\n        get: function () {\r\n            return this.root.querySelector('header > article');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ACellRenderer.prototype, \"headerScroller\", {\r\n        get: function () {\r\n            return this.root.querySelector('header');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ACellRenderer.prototype.addColumnMixin = function (mixinClass, options) {\r\n        this.cell.addColumnMixin(mixinClass, options);\r\n    };\r\n    ACellRenderer.prototype.init = function () {\r\n        var _this = this;\r\n        this.cell.init();\r\n        var scroller = this.body.parentElement;\r\n        var oldLeft = scroller.scrollLeft;\r\n        var oldWidth = scroller.clientWidth;\r\n        var handler = function () {\r\n            var left = scroller.scrollLeft;\r\n            var width = scroller.clientWidth;\r\n            if (Math.abs(oldLeft - left) < _this.options.minScrollDelta && Math.abs(oldWidth - width) < _this.options.minScrollDelta) {\r\n                return;\r\n            }\r\n            var isGoingRight = left > oldLeft;\r\n            oldLeft = left;\r\n            oldWidth = width;\r\n            _this.onScrolledHorizontally(left, width, isGoingRight);\r\n        };\r\n        scroller.addEventListener('scroll', this.createDelayedHandler(handler));\r\n        _super.prototype.init.call(this);\r\n    };\r\n    ACellRenderer.prototype.destroy = function () {\r\n        _super.prototype.destroy.call(this);\r\n        this.root.remove();\r\n    };\r\n    ACellRenderer.prototype.onScrolledHorizontally = function (scrollLeft, clientWidth, isGoingRight) {\r\n        return this.cell.onScrolledHorizontally(scrollLeft, clientWidth, isGoingRight);\r\n    };\r\n    ACellRenderer.prototype.updateHeaders = function () {\r\n        this.cell.updateHeaders();\r\n    };\r\n    ACellRenderer.prototype.updateColumnWidths = function () {\r\n        var context = this.context;\r\n        this.style.update(context.defaultRowHeight - context.padding(-1), context.columns, context.column.padding);\r\n    };\r\n    ACellRenderer.prototype.recreate = function (ctx) {\r\n        var scroller = this.bodyScroller;\r\n        var oldLeft = scroller.scrollLeft;\r\n        this.cell.recreate(oldLeft, scroller.clientWidth);\r\n        _super.prototype.recreate.call(this, ctx);\r\n        scroller.scrollLeft = oldLeft;\r\n    };\r\n    ACellRenderer.prototype.clearPool = function () {\r\n        _super.prototype.clearPool.call(this);\r\n        this.cell.clearPool();\r\n    };\r\n    ACellRenderer.prototype.createRow = function (node, rowIndex) {\r\n        this.cell.createRow(node, rowIndex);\r\n    };\r\n    ACellRenderer.prototype.updateRow = function (node, rowIndex) {\r\n        this.cell.updateRow(node, rowIndex);\r\n    };\r\n    return ACellRenderer;\r\n}(__WEBPACK_IMPORTED_MODULE_1__ARowRenderer__[\"a\" /* ARowRenderer */]));\r\n\r\n/* unused harmony default export */ var _unused_webpack_default_export = (ACellRenderer);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FDZWxsUmVuZGVyZXIudHM/YzczNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0lBbmltYXRpb25Db250ZXh0fSBmcm9tICcuL2FuaW1hdGlvbic7XG5pbXBvcnQge0FSb3dSZW5kZXJlciwgSVJvd1JlbmRlcmVyT3B0aW9uc30gZnJvbSAnLi9BUm93UmVuZGVyZXInO1xuaW1wb3J0IHtFU2Nyb2xsUmVzdWx0LCBJTWl4aW5DbGFzc30gZnJvbSAnLi9taXhpbic7XG5pbXBvcnQge0dyaWRTdHlsZU1hbmFnZXIsIElDb2x1bW4sIHNldFRlbXBsYXRlfSBmcm9tICcuL3N0eWxlJztcbmltcG9ydCBBQ2VsbEFkYXB0ZXIsIHtJQ2VsbEFkYXB0ZXJSZW5kZXJDb250ZXh0fSBmcm9tICcuL3RhYmxlL2ludGVybmFsL0FDZWxsQWRhcHRlcic7XG5cblxuZXhwb3J0IGRlY2xhcmUgdHlwZSBJQ2VsbFJlbmRlckNvbnRleHQ8VCBleHRlbmRzIElDb2x1bW4+ID0gSUNlbGxBZGFwdGVyUmVuZGVyQ29udGV4dDxUPjtcblxuLyoqXG4gKiBhIEBzZWUgQVJvd1JlbmRlcmVyIHdoaWNoIG1hbmFnZXMgbXVsdGlwbGUgY29sdW1ucyBwZXIgcm93XG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBQ2VsbFJlbmRlcmVyPFQgZXh0ZW5kcyBJQ29sdW1uPiBleHRlbmRzIEFSb3dSZW5kZXJlciB7XG5cbiAgcHJvdGVjdGVkIHJlYWRvbmx5IHN0eWxlOiBHcmlkU3R5bGVNYW5hZ2VyO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgY2VsbDogQUNlbGxBZGFwdGVyPFQ+O1xuXG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCByZWFkb25seSByb290OiBIVE1MRWxlbWVudCwgaHRtbElkOiBzdHJpbmcsIG9wdGlvbnM6IFBhcnRpYWw8SVJvd1JlbmRlcmVyT3B0aW9ucz4gPSB7fSkge1xuICAgIHN1cGVyKDxIVE1MRWxlbWVudD5zZXRUZW1wbGF0ZShyb290KS5xdWVyeVNlbGVjdG9yKCdtYWluID4gYXJ0aWNsZScpLCBvcHRpb25zKTtcbiAgICByb290LmNsYXNzTGlzdC5hZGQoJ2xpbmV1cC1lbmdpbmUnKTtcblxuICAgIHRoaXMuc3R5bGUgPSBuZXcgR3JpZFN0eWxlTWFuYWdlcih0aGlzLnJvb3QsIGh0bWxJZCk7XG5cbiAgICBjb25zdCB0aGF0ID0gdGhpcztcblxuICAgIGNsYXNzIExvY2FsQ2VsbCBleHRlbmRzIEFDZWxsQWRhcHRlcjxUPiB7XG4gICAgICBwcm90ZWN0ZWQgZ2V0IGNvbnRleHQoKTogSUNlbGxBZGFwdGVyUmVuZGVyQ29udGV4dDxUPiB7XG4gICAgICAgIHJldHVybiB0aGF0LmNvbnRleHQ7XG4gICAgICB9XG5cbiAgICAgIHByb3RlY3RlZCBjcmVhdGVIZWFkZXIoZG9jdW1lbnQ6IERvY3VtZW50LCBjb2x1bW46IFQpIHtcbiAgICAgICAgcmV0dXJuIHRoYXQuY3JlYXRlSGVhZGVyKGRvY3VtZW50LCBjb2x1bW4pO1xuICAgICAgfVxuXG4gICAgICBwcm90ZWN0ZWQgdXBkYXRlSGVhZGVyKG5vZGU6IEhUTUxFbGVtZW50LCBjb2x1bW46IFQpIHtcbiAgICAgICAgcmV0dXJuIHRoYXQudXBkYXRlSGVhZGVyKG5vZGUsIGNvbHVtbik7XG4gICAgICB9XG5cbiAgICAgIHByb3RlY3RlZCBjcmVhdGVDZWxsKGRvY3VtZW50OiBEb2N1bWVudCwgaW5kZXg6IG51bWJlciwgY29sdW1uOiBUKSB7XG4gICAgICAgIHJldHVybiB0aGF0LmNyZWF0ZUNlbGwoZG9jdW1lbnQsIGluZGV4LCBjb2x1bW4pO1xuICAgICAgfVxuXG4gICAgICBwcm90ZWN0ZWQgdXBkYXRlQ2VsbChub2RlOiBIVE1MRWxlbWVudCwgaW5kZXg6IG51bWJlciwgY29sdW1uOiBUKSB7XG4gICAgICAgIHJldHVybiB0aGF0LnVwZGF0ZUNlbGwobm9kZSwgaW5kZXgsIGNvbHVtbik7XG4gICAgICB9XG5cbiAgICAgIHByb3RlY3RlZCBmb3JFYWNoUm93KGNhbGxiYWNrOiAocm93OiBIVE1MRWxlbWVudCwgcm93SW5kZXg6IG51bWJlcikgPT4gdm9pZCkge1xuICAgICAgICByZXR1cm4gdGhhdC5mb3JFYWNoUm93KGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmNlbGwgPSBuZXcgTG9jYWxDZWxsKHRoaXMuaGVhZGVyLCB0aGlzLnN0eWxlLCB1bmRlZmluZWQsIC4uLiAob3B0aW9ucy5taXhpbnMgfHwgW10pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBnZXQgdGhlIGhlYWRlciByb290IGVsZW1lbnRcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgKi9cbiAgcHJvdGVjdGVkIGdldCBoZWFkZXIoKSB7XG4gICAgcmV0dXJuIDxIVE1MRWxlbWVudD50aGlzLnJvb3QucXVlcnlTZWxlY3RvcignaGVhZGVyID4gYXJ0aWNsZScpO1xuICB9XG5cbiAgLyoqXG4gICAqIGdldCB0aGUgaGVhZGVyIHNjcm9sbGluZyBlbGVtZW50LCBpLmUgaXRzIHBhcmVudFxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAqL1xuICBwcm90ZWN0ZWQgZ2V0IGhlYWRlclNjcm9sbGVyKCkge1xuICAgIHJldHVybiA8SFRNTEVsZW1lbnQ+dGhpcy5yb290LnF1ZXJ5U2VsZWN0b3IoJ2hlYWRlcicpO1xuICB9XG5cbiAgLyoqXG4gICAqIGFkZCBhbm90aGVyIGNvbHVtbiBtaXhpblxuICAgKiBAcGFyYW0ge0lNaXhpbkNsYXNzfSBtaXhpbkNsYXNzIG1peGluZyBjbGFzcyB0byBpbnN0YW50aWF0ZVxuICAgKiBAcGFyYW0gb3B0aW9ucyBvcHRpb25hbCBvcHRpb25zXG4gICAqL1xuICBwcm90ZWN0ZWQgYWRkQ29sdW1uTWl4aW4obWl4aW5DbGFzczogSU1peGluQ2xhc3MsIG9wdGlvbnM/OiBhbnkpIHtcbiAgICB0aGlzLmNlbGwuYWRkQ29sdW1uTWl4aW4obWl4aW5DbGFzcywgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogaW5pdGlhbGl6ZWQgdGhpcyByZW5kZXJlclxuICAgKi9cbiAgcHJvdGVjdGVkIGluaXQoKSB7XG5cbiAgICB0aGlzLmNlbGwuaW5pdCgpO1xuXG4gICAgY29uc3Qgc2Nyb2xsZXIgPSA8SFRNTEVsZW1lbnQ+dGhpcy5ib2R5LnBhcmVudEVsZW1lbnQ7XG5cblxuICAgIC8vc3luYyBzY3JvbGxpbmcgb2YgaGVhZGVyIGFuZCBib2R5XG4gICAgbGV0IG9sZExlZnQgPSBzY3JvbGxlci5zY3JvbGxMZWZ0O1xuICAgIGxldCBvbGRXaWR0aCA9IHNjcm9sbGVyLmNsaWVudFdpZHRoO1xuICAgIGNvbnN0IGhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICBjb25zdCBsZWZ0ID0gc2Nyb2xsZXIuc2Nyb2xsTGVmdDtcbiAgICAgIGNvbnN0IHdpZHRoID0gc2Nyb2xsZXIuY2xpZW50V2lkdGg7XG4gICAgICBpZiAoTWF0aC5hYnMob2xkTGVmdCAtIGxlZnQpIDwgdGhpcy5vcHRpb25zLm1pblNjcm9sbERlbHRhICYmIE1hdGguYWJzKG9sZFdpZHRoIC0gd2lkdGgpIDwgdGhpcy5vcHRpb25zLm1pblNjcm9sbERlbHRhKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGlzR29pbmdSaWdodCA9IGxlZnQgPiBvbGRMZWZ0O1xuICAgICAgb2xkTGVmdCA9IGxlZnQ7XG4gICAgICBvbGRXaWR0aCA9IHdpZHRoO1xuICAgICAgdGhpcy5vblNjcm9sbGVkSG9yaXpvbnRhbGx5KGxlZnQsIHdpZHRoLCBpc0dvaW5nUmlnaHQpO1xuICAgIH07XG4gICAgc2Nyb2xsZXIuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5jcmVhdGVEZWxheWVkSGFuZGxlcihoYW5kbGVyKSk7XG5cbiAgICBzdXBlci5pbml0KCk7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICB0aGlzLnJvb3QucmVtb3ZlKCk7XG4gIH1cblxuICAvKipcbiAgICogd2lsbCBiZSBjYWxsZWQgd2hlbiBzY3JvbGxlZCBob3Jpem9udGFsbHlcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNjcm9sbExlZnRcbiAgICogQHBhcmFtIHtudW1iZXJ9IGNsaWVudFdpZHRoXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNHb2luZ1JpZ2h0XG4gICAqIEByZXR1cm5zIHtFU2Nyb2xsUmVzdWx0fVxuICAgKi9cbiAgcHJvdGVjdGVkIG9uU2Nyb2xsZWRIb3Jpem9udGFsbHkoc2Nyb2xsTGVmdDogbnVtYmVyLCBjbGllbnRXaWR0aDogbnVtYmVyLCBpc0dvaW5nUmlnaHQ6IGJvb2xlYW4pOiBFU2Nyb2xsUmVzdWx0IHtcbiAgICByZXR1cm4gdGhpcy5jZWxsLm9uU2Nyb2xsZWRIb3Jpem9udGFsbHkoc2Nyb2xsTGVmdCwgY2xpZW50V2lkdGgsIGlzR29pbmdSaWdodCk7XG4gIH1cblxuICAvKipcbiAgICogdGhlIGN1cnJlbnQgcmVuZGVyIGNvbnRleHQsIHVwb24gY2hhbmdlIGByZWNyZWF0ZWAgdGhlIHdob2xlIHRhYmxlXG4gICAqIEByZXR1cm5zIHtJQ2VsbFJlbmRlckNvbnRleHR9XG4gICAqL1xuICBwcm90ZWN0ZWQgYWJzdHJhY3QgZ2V0IGNvbnRleHQoKTogSUNlbGxSZW5kZXJDb250ZXh0PFQ+O1xuXG4gIC8qKlxuICAgKiBjcmVhdGUgYSBuZXcgaGVhZGVyIG5vZGUgZm9yIHRoZSBnaXZlbiBjb2x1bW5cbiAgICogQHBhcmFtIHtEb2N1bWVudH0gZG9jdW1lbnQgZG9jdW1lbnQgdG8gY3JlYXRlIG5vZGVzIG9mXG4gICAqIEBwYXJhbSB7VH0gY29sdW1uIHRoZSBjb2x1bW4gdG8gY3JlYXRlIHRoZSBoZWFkZXIgZm9yXG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gdGhlIG5vZGUgcmVwcmVzZW50aW5nIHRoZSBoZWFkZXJcbiAgICovXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBjcmVhdGVIZWFkZXIoZG9jdW1lbnQ6IERvY3VtZW50LCBjb2x1bW46IFQpOiBIVE1MRWxlbWVudDtcblxuICAvKipcbiAgICogdXBkYXRlcyB0aGUgZ2l2ZW4gaGVhZGVyIG5vZGUgd2l0aCB0aGUgZ2l2ZW4gY29sdW1uXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGUgbm9kZSB0byB1cGRhdGVcbiAgICogQHBhcmFtIHtUfSBjb2x1bW4gdGhlIGNvbHVtbiB0byByZXByZXNlbnRzXG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudCB8IHZvaWR9IGFuIG9wdGlvbmFsIG5ldyByZXBsYWNlbWVudCBub2RlIGZvciB0aGUgaGVhZGVyXG4gICAqL1xuICBwcm90ZWN0ZWQgYWJzdHJhY3QgdXBkYXRlSGVhZGVyKG5vZGU6IEhUTUxFbGVtZW50LCBjb2x1bW46IFQpOiBIVE1MRWxlbWVudCB8IHZvaWQ7XG5cbiAgLyoqXG4gICAqIGNyZWF0ZSBhIG5ldyBjZWxsIG5vZGUgZm8gdGhlIGdpdmVuIHJvdyBpbmRleCBhbmQgY29sdW1uXG4gICAqIEBwYXJhbSB7RG9jdW1lbnR9IGRvY3VtZW50IGRvY3VtZW50IHRoZSBjcmVhdGUgbm9kZXMgb2ZcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IHRoZSBjdXJyZW50IHJvdyBpbmRleFxuICAgKiBAcGFyYW0ge1R9IGNvbHVtbiB0aGUgY3VycmVudCBjb2x1bW5cbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fSB0aGUgbm9kZSByZXByZXNlbnRpbmcgdGhlIGNlbGxcbiAgICovXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBjcmVhdGVDZWxsKGRvY3VtZW50OiBEb2N1bWVudCwgaW5kZXg6IG51bWJlciwgY29sdW1uOiBUKTogSFRNTEVsZW1lbnQ7XG5cbiAgLyoqXG4gICAqIHVwZGF0ZXMgdGhlIGdpdmVuIGNlbGwgbm9kZSB3aXRoIHRoZSBnaXZlbiByb3cgaW5kZXggYW5kIGNvbHVtblxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBub2RlIG5vZGUgdG8gdXBkYXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCByb3cgaW5kZXggdG8gdXNlXG4gICAqIEBwYXJhbSB7VH0gY29sdW1uIGNvbHVtbiB0byB1c2VcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50IHwgdm9pZH0gYW4gb3B0aW9uYWwgbmV3IHJlcGxhY2VtZW50IG5vZGUgZm9yIHRoZSBoZWFkZXJcbiAgICovXG4gIHByb3RlY3RlZCBhYnN0cmFjdCB1cGRhdGVDZWxsKG5vZGU6IEhUTUxFbGVtZW50LCBpbmRleDogbnVtYmVyLCBjb2x1bW46IFQpOiBIVE1MRWxlbWVudCB8IHZvaWQ7XG5cbiAgLyoqXG4gICAqIHRyaWdnZXIgdG8gdXBkYXRlIGFsbCBoZWFkZXJzXG4gICAqL1xuICBwcm90ZWN0ZWQgdXBkYXRlSGVhZGVycygpIHtcbiAgICB0aGlzLmNlbGwudXBkYXRlSGVhZGVycygpO1xuICB9XG5cbiAgLyoqXG4gICAqIHRyaWdnZXJzIHRvIHVwZGF0ZSBhbGwgY29sdW1uIHdpZHRoc1xuICAgKi9cbiAgcHJvdGVjdGVkIHVwZGF0ZUNvbHVtbldpZHRocygpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgIHRoaXMuc3R5bGUudXBkYXRlKGNvbnRleHQuZGVmYXVsdFJvd0hlaWdodCAtIGNvbnRleHQucGFkZGluZygtMSksIGNvbnRleHQuY29sdW1ucywgY29udGV4dC5jb2x1bW4ucGFkZGluZyk7XG4gIH1cblxuICAvKipcbiAgICogdHJpZ2dlcnMgdG8gcmVjcmVhdGUgdGhlIHdob2xlIHRhYmxlXG4gICAqIEBwYXJhbSB7SUFuaW1hdGlvbkNvbnRleHR9IGN0eCBvcHRpb25hbCBhbmltYXRpb24gY29udGV4dFxuICAgKi9cbiAgcHJvdGVjdGVkIHJlY3JlYXRlKGN0eD86IElBbmltYXRpb25Db250ZXh0KSB7XG4gICAgY29uc3Qgc2Nyb2xsZXIgPSB0aGlzLmJvZHlTY3JvbGxlcjtcbiAgICBjb25zdCBvbGRMZWZ0ID0gc2Nyb2xsZXIuc2Nyb2xsTGVmdDtcbiAgICB0aGlzLmNlbGwucmVjcmVhdGUob2xkTGVmdCwgc2Nyb2xsZXIuY2xpZW50V2lkdGgpO1xuXG4gICAgc3VwZXIucmVjcmVhdGUoY3R4KTtcbiAgICAvLyByZXN0b3JlIGxlZnRcbiAgICBzY3JvbGxlci5zY3JvbGxMZWZ0ID0gb2xkTGVmdDtcbiAgfVxuXG4gIHByb3RlY3RlZCBjbGVhclBvb2woKSB7XG4gICAgc3VwZXIuY2xlYXJQb29sKCk7XG4gICAgdGhpcy5jZWxsLmNsZWFyUG9vbCgpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGNyZWF0ZVJvdyhub2RlOiBIVE1MRWxlbWVudCwgcm93SW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuY2VsbC5jcmVhdGVSb3cobm9kZSwgcm93SW5kZXgpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHVwZGF0ZVJvdyhub2RlOiBIVE1MRWxlbWVudCwgcm93SW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuY2VsbC51cGRhdGVSb3cobm9kZSwgcm93SW5kZXgpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFDZWxsUmVuZGVyZXI7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL0FDZWxsUmVuZGVyZXIudHMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNBO0FBRUE7QUFDQTtBQVFBO0FBQUE7QUFNQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQUE7QUFBQTs7QUF3QkE7QUF2QkE7QUFBQTtBQUNBO0FBQ0E7OztBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBOztBQUNBO0FBTUE7QUFBQTtBQUNBO0FBQ0E7OztBQUFBO0FBTUE7QUFBQTtBQUNBO0FBQ0E7OztBQUFBO0FBT0E7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUVBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBNkNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7O0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///12\n");

/***/ }),
/* 13 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return EAnimationMode; });\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = noAnimationChange;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return defaultPhases; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__KeyFinder__ = __webpack_require__(6);\n/* unused harmony reexport KeyFinder */\n\r\nvar EAnimationMode;\r\n(function (EAnimationMode) {\r\n    EAnimationMode[EAnimationMode[\"UPDATE\"] = 0] = \"UPDATE\";\r\n    EAnimationMode[EAnimationMode[\"UPDATE_CREATE\"] = 1] = \"UPDATE_CREATE\";\r\n    EAnimationMode[EAnimationMode[\"UPDATE_REMOVE\"] = 2] = \"UPDATE_REMOVE\";\r\n    EAnimationMode[EAnimationMode[\"SHOW\"] = 3] = \"SHOW\";\r\n    EAnimationMode[EAnimationMode[\"HIDE\"] = 4] = \"HIDE\";\r\n})(EAnimationMode || (EAnimationMode = {}));\r\nvar NO_CHANGE_DELTA = 1;\r\nfunction noAnimationChange(_a, previousHeight, currentHeight) {\r\n    var previous = _a.previous, mode = _a.mode, nodeY = _a.nodeY, current = _a.current;\r\n    var prev = previous.height == null ? previousHeight : previous.height;\r\n    var curr = current.height == null ? currentHeight : current.height;\r\n    return mode === EAnimationMode.UPDATE && (Math.abs(previous.y - nodeY) <= NO_CHANGE_DELTA) && (Math.abs(prev - curr) <= NO_CHANGE_DELTA);\r\n}\r\nvar MAX_ANIMATION_TIME = 1100;\r\nvar defaultPhases = [\r\n    {\r\n        delay: 0,\r\n        apply: function (_a) {\r\n            var mode = _a.mode, previous = _a.previous, nodeY = _a.nodeY, current = _a.current, node = _a.node;\r\n            node.dataset.animation = EAnimationMode[mode].toLowerCase();\r\n            node.style.transform = \"translate(0, \" + (previous.y - nodeY) + \"px)\";\r\n            if (mode === EAnimationMode.SHOW) {\r\n                node.style.height = current.height !== null ? current.height + \"px\" : null;\r\n            }\r\n            else {\r\n                node.style.height = previous.height + \"px\";\r\n            }\r\n            node.style.opacity = mode === EAnimationMode.SHOW ? '0' : (mode === EAnimationMode.HIDE ? '1' : null);\r\n        }\r\n    },\r\n    {\r\n        delay: 10,\r\n        apply: function (_a) {\r\n            var mode = _a.mode, current = _a.current, nodeY = _a.nodeY, node = _a.node;\r\n            node.style.transform = (mode === EAnimationMode.HIDE || mode === EAnimationMode.UPDATE_REMOVE) ? \"translate(0, \" + (current.y - nodeY) + \"px)\" : null;\r\n            if (mode !== EAnimationMode.HIDE) {\r\n                node.style.height = current.height !== null ? current.height + \"px\" : null;\r\n            }\r\n            node.style.opacity = mode === EAnimationMode.SHOW ? '1' : (mode === EAnimationMode.HIDE ? '0' : null);\r\n        }\r\n    },\r\n    {\r\n        delay: MAX_ANIMATION_TIME,\r\n        apply: function (_a) {\r\n            var node = _a.node;\r\n            delete node.dataset.animation;\r\n            node.style.opacity = null;\r\n            node.style.transform = null;\r\n        }\r\n    }\r\n];\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2FuaW1hdGlvbi9pbmRleC50cz80M2IwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7SUV4Y2VwdGlvbkNvbnRleHR9IGZyb20gJy4uL2xvZ2ljJztcbmltcG9ydCBLZXlGaW5kZXIgZnJvbSAnLi9LZXlGaW5kZXInO1xuXG5leHBvcnQge2RlZmF1bHQgYXMgS2V5RmluZGVyfSBmcm9tICcuL0tleUZpbmRlcic7XG5cbi8qKlxuICogZGlmZmVyZW50IHJvdyBhbmltYXRpb24gbW9kZXNcbiAqL1xuZXhwb3J0IGVudW0gRUFuaW1hdGlvbk1vZGUge1xuICAvKipcbiAgICogcGxhaW4gdXBkYXRlIGV4aXN0ZWQgYm90aCBiZWZvcmUgYW5kIGFmdGVyXG4gICAqL1xuICBVUERBVEUsXG4gIC8qKlxuICAgKiBleGlzdHMgYm90aCBiZWZvcmUgYW5kIGFmdGVyIGJ1dCB3YXNuJ3QgdmlzaWJsZSB5ZXQgdGh1cyB3YWFzIGNyZWF0ZWRcbiAgICovXG4gIFVQREFURV9DUkVBVEUsXG4gIC8qKlxuICAgKiBleGlzdHMgYm90aCBiZWZvcmUgYW5kIGFmdGVyIGlzIHZpc2libGUgYnV0IG5vdCBuZWVkZWQgYW55bW9yZSBhbmQgdGh1cyByZW1vdmVkXG4gICAqL1xuICBVUERBVEVfUkVNT1ZFLFxuICAvKipcbiAgICogcm93IGFwcGVhcnNcbiAgICovXG4gIFNIT1csXG4gIC8qKlxuICAgKiByb3cgZGlzYXBwZWFyc1xuICAgKi9cbiAgSElERVxufVxuXG4vKipcbiAqIGFuaW1hdGVkIHJvdyBpdGVtXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUFuaW1hdGlvbkl0ZW0ge1xuICBtb2RlOiBFQW5pbWF0aW9uTW9kZTtcbiAgbm9kZTogSFRNTEVsZW1lbnQ7XG4gIGtleTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBwcmV2aW91cyBjb250ZXh0IGluZm9ybWF0aW9uXG4gICAqL1xuICBwcmV2aW91czoge1xuICAgIGluZGV4OiBudW1iZXIgfCAtMTtcbiAgICB5OiBudW1iZXI7XG4gICAgaGVpZ2h0OiBudW1iZXIgfCBudWxsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBwb3NpdGlvbiBvZiB0aGUgYWRkZWQgbm9kZSBjb25zaWRlcmluZyB0aGUgcHJldmlvdXMgaGVpZ2h0XG4gICAqL1xuICBub2RlWTogbnVtYmVyO1xuICAvKipcbiAgICogcG9zaXRpb24gb2YgdGhlIGFkZGVkIG5vZGUgY29uc2lkZXJpbmcgdGhlIGN1cnJlbnQgaGVpZ2h0XG4gICAqL1xuICBub2RlWUN1cnJlbnRIZWlnaHQ6IG51bWJlcjtcblxuICAvKipcbiAgICogY3VycmVudCBwb3NpdGlvblxuICAgKi9cbiAgY3VycmVudDoge1xuICAgIGluZGV4OiBudW1iZXIgfCAtMTtcbiAgICB5OiBudW1iZXI7XG4gICAgaGVpZ2h0OiBudW1iZXIgfCBudWxsO1xuICB9O1xufVxuXG5jb25zdCBOT19DSEFOR0VfREVMVEEgPSAxO1xuXG5leHBvcnQgZnVuY3Rpb24gbm9BbmltYXRpb25DaGFuZ2Uoe3ByZXZpb3VzLCBtb2RlLCBub2RlWSwgY3VycmVudH06IElBbmltYXRpb25JdGVtLCBwcmV2aW91c0hlaWdodDogbnVtYmVyLCBjdXJyZW50SGVpZ2h0OiBudW1iZXIpIHtcbiAgLy8gc291bmRzIGxpa2UgdGhlIHNhbWVcbiAgY29uc3QgcHJldiA9IHByZXZpb3VzLmhlaWdodCA9PSBudWxsID8gcHJldmlvdXNIZWlnaHQgOiBwcmV2aW91cy5oZWlnaHQ7XG4gIGNvbnN0IGN1cnIgPSBjdXJyZW50LmhlaWdodCA9PSBudWxsID8gY3VycmVudEhlaWdodCA6IGN1cnJlbnQuaGVpZ2h0O1xuICByZXR1cm4gbW9kZSA9PT0gRUFuaW1hdGlvbk1vZGUuVVBEQVRFICYmIChNYXRoLmFicyhwcmV2aW91cy55IC0gbm9kZVkpIDw9IE5PX0NIQU5HRV9ERUxUQSkgJiYgKE1hdGguYWJzKHByZXYgLSBjdXJyKSA8PSBOT19DSEFOR0VfREVMVEEpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElQaGFzZSB7XG4gIHJlYWRvbmx5IGRlbGF5OiBudW1iZXI7XG5cbiAgYXBwbHkoaXRlbTogUmVhZG9ubHk8SUFuaW1hdGlvbkl0ZW0+LCBwcmV2aW91c0ZpbmRlcjogS2V5RmluZGVyLCBjdXJyZW50RmluZGVyOiBLZXlGaW5kZXIpOiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElBbmltYXRpb25Db250ZXh0IHtcbiAgcmVhZG9ubHkgcHJldmlvdXM6IElFeGNlcHRpb25Db250ZXh0O1xuXG4gIHByZXZpb3VzS2V5KHByZXZpb3VzUm93SW5kZXg6IG51bWJlcik6IHN0cmluZztcblxuICBjdXJyZW50S2V5KGN1cnJlbnRSb3dJbmRleDogbnVtYmVyKTogc3RyaW5nO1xuXG4gIHBoYXNlcz86IElQaGFzZVtdO1xufVxuXG4vKipcbiAqIG1heGltYWwgZHVyYXRpb24gb2YgYWxsIGFuaW1hdGlvbnMgKyBleHRyYSB3YWl0aW5nIGJlZm9yZSBlLmcuIHJvd3MgYXJlIHJlYWxseSByZW1vdmVkXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5jb25zdCBNQVhfQU5JTUFUSU9OX1RJTUUgPSAxMTAwO1xuXG5leHBvcnQgY29uc3QgZGVmYXVsdFBoYXNlcyA9IFtcbiAge1xuICAgIGRlbGF5OiAwLCAvLyBiZWZvcmVcbiAgICBhcHBseSh7bW9kZSwgcHJldmlvdXMsIG5vZGVZLCBjdXJyZW50LCBub2RlfTogUmVhZG9ubHk8SUFuaW1hdGlvbkl0ZW0+KSB7XG4gICAgICBub2RlLmRhdGFzZXQuYW5pbWF0aW9uID0gRUFuaW1hdGlvbk1vZGVbbW9kZV0udG9Mb3dlckNhc2UoKTtcbiAgICAgIG5vZGUuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgwLCAke3ByZXZpb3VzLnkgLSBub2RlWX1weClgO1xuICAgICAgaWYgKG1vZGUgPT09IEVBbmltYXRpb25Nb2RlLlNIT1cpIHtcbiAgICAgICAgLy8gYWxyZWFkeSB0YXJnZXQgaGVpZ2h0XG4gICAgICAgIG5vZGUuc3R5bGUuaGVpZ2h0ID0gY3VycmVudC5oZWlnaHQgIT09IG51bGwgPyBgJHtjdXJyZW50LmhlaWdodH1weGAgOiBudWxsO1xuICAgICAgfSBlbHNlIHsgLy8gYWx3YXlzIHNldCBwcmV2aW91cyBoZWlnaHQgZm9yIGRlZmF1bHQgaGVpZ2h0IGNoYW5nZXNcbiAgICAgICAgbm9kZS5zdHlsZS5oZWlnaHQgPSBgJHtwcmV2aW91cy5oZWlnaHR9cHhgO1xuICAgICAgfVxuICAgICAgbm9kZS5zdHlsZS5vcGFjaXR5ID0gbW9kZSA9PT0gRUFuaW1hdGlvbk1vZGUuU0hPVyA/ICcwJyA6IChtb2RlID09PSBFQW5pbWF0aW9uTW9kZS5ISURFID8gJzEnIDogbnVsbCk7XG4gICAgfVxuICB9LFxuICB7XG4gICAgZGVsYXk6IDEwLCAvLyBhZnRlciBzb21lIGRlbGF5IGZvciB0aGUgYmVmb3JlIHBoYXNlIGhhdmUgYmVlbiBhcHBsaWVkIHZpc3VhbGx5XG4gICAgYXBwbHkoe21vZGUsIGN1cnJlbnQsIG5vZGVZLCBub2RlfTogUmVhZG9ubHk8SUFuaW1hdGlvbkl0ZW0+KSB7XG4gICAgICAvLyBudWxsIGZvciBhZGRlZC91cGRhdGUgc2luY2UgYWxyZWFkeSBhdCB0aGUgcmlnaHQgcG9zaXRpb25cbiAgICAgIG5vZGUuc3R5bGUudHJhbnNmb3JtID0gKG1vZGUgPT09IEVBbmltYXRpb25Nb2RlLkhJREUgfHwgbW9kZSA9PT0gRUFuaW1hdGlvbk1vZGUuVVBEQVRFX1JFTU9WRSkgPyBgdHJhbnNsYXRlKDAsICR7Y3VycmVudC55IC0gbm9kZVl9cHgpYCA6IG51bGw7XG4gICAgICBpZiAobW9kZSAhPT0gRUFuaW1hdGlvbk1vZGUuSElERSkgeyAvLyBrZWVwIGhlaWdodCBmb3IgcmVtb3ZhbFxuICAgICAgICBub2RlLnN0eWxlLmhlaWdodCA9IGN1cnJlbnQuaGVpZ2h0ICE9PSBudWxsID8gYCR7Y3VycmVudC5oZWlnaHR9cHhgIDogbnVsbDtcbiAgICAgIH1cbiAgICAgIG5vZGUuc3R5bGUub3BhY2l0eSA9IG1vZGUgPT09IEVBbmltYXRpb25Nb2RlLlNIT1cgPyAnMScgOiAobW9kZSA9PT0gRUFuaW1hdGlvbk1vZGUuSElERSA/ICcwJyA6IG51bGwpO1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGRlbGF5OiBNQVhfQU5JTUFUSU9OX1RJTUUsIC8vIGNsZWFudXBcbiAgICBhcHBseSh7bm9kZX06IFJlYWRvbmx5PElBbmltYXRpb25JdGVtPikge1xuICAgICAgZGVsZXRlIG5vZGUuZGF0YXNldC5hbmltYXRpb247XG4gICAgICBub2RlLnN0eWxlLm9wYWNpdHkgPSBudWxsO1xuICAgICAgbm9kZS5zdHlsZS50cmFuc2Zvcm0gPSBudWxsO1xuICAgIH1cbiAgfVxuXTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvYW5pbWF0aW9uL2luZGV4LnRzIl0sIm1hcHBpbmdzIjoiQUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUFBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFJQTtBQUNBO0FBc0NBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBc0JBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///13\n");

/***/ }),
/* 14 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__logic__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__IMixin__ = __webpack_require__(7);\n\r\n\r\nvar PrefetchMixin = (function () {\r\n    function PrefetchMixin(adapter, options) {\r\n        this.adapter = adapter;\r\n        this.prefetchTimeout = -1;\r\n        this.options = {\r\n            prefetchRows: 20,\r\n            cleanUpRows: 3,\r\n            delay: 50\r\n        };\r\n        Object.assign(this.options, options);\r\n        return this;\r\n    }\r\n    PrefetchMixin.prototype.prefetchDown = function () {\r\n        this.prefetchTimeout = -1;\r\n        var context = this.adapter.context;\r\n        var nextLast = Math.min(this.adapter.visible.last + this.options.prefetchRows, context.numberOfRows - 1);\r\n        if (this.adapter.visible.last === nextLast && this.adapter.visible.last >= (this.adapter.visible.forcedLast + this.options.prefetchRows)) {\r\n            return;\r\n        }\r\n        this.adapter.addAtBottom(this.adapter.visible.last + 1, nextLast);\r\n        this.adapter.visible.last = nextLast;\r\n    };\r\n    PrefetchMixin.prototype.prefetchUp = function () {\r\n        this.prefetchTimeout = -1;\r\n        if (this.adapter.visible.first <= (this.adapter.visible.forcedFirst - this.options.prefetchRows)) {\r\n            return;\r\n        }\r\n        var context = this.adapter.context;\r\n        var scroller = this.adapter.scroller;\r\n        var fakeOffset = Math.max(scroller.scrollTop - this.options.prefetchRows * context.defaultRowHeight, 0);\r\n        var height = scroller.clientHeight;\r\n        var _a = Object(__WEBPACK_IMPORTED_MODULE_0__logic__[\"d\" /* range */])(fakeOffset, height, context.defaultRowHeight, context.exceptions, context.numberOfRows), first = _a.first, firstRowPos = _a.firstRowPos;\r\n        if (first === this.adapter.visible.first) {\r\n            return;\r\n        }\r\n        var frozenShift = this.adapter.syncFrozen ? this.adapter.syncFrozen(first) : 0;\r\n        this.adapter.addAtBeginning(first, this.adapter.visible.first - 1, frozenShift);\r\n        this.adapter.visible.first = first;\r\n        this.adapter.updateOffset(firstRowPos);\r\n    };\r\n    PrefetchMixin.prototype.triggerPrefetch = function (isGoingDown) {\r\n        if (this.prefetchTimeout >= 0) {\r\n            clearTimeout(this.prefetchTimeout);\r\n        }\r\n        var prefetchDownPossible = this.adapter.visible.last < (this.adapter.visible.forcedLast + this.options.prefetchRows);\r\n        var prefetchUpPossible = this.adapter.visible.first > (this.adapter.visible.forcedFirst - this.options.prefetchRows);\r\n        var isLast = this.adapter.visible.last === this.adapter.context.numberOfRows;\r\n        var isFirst = this.adapter.visible.first === 0;\r\n        if ((isGoingDown && !prefetchDownPossible && !isLast) || (!isGoingDown && !prefetchUpPossible && !isFirst)) {\r\n            return;\r\n        }\r\n        var op = (isGoingDown || isFirst) ? this.prefetchDown.bind(this) : this.prefetchUp.bind(this);\r\n        this.prefetchTimeout = setTimeout(op, this.options.delay);\r\n    };\r\n    PrefetchMixin.prototype.cleanUpTop = function (first) {\r\n        this.prefetchTimeout = -1;\r\n        var newFirst = Math.max(0, first - this.options.cleanUpRows);\r\n        if (newFirst <= this.adapter.visible.first) {\r\n            return;\r\n        }\r\n        var frozenShift = this.adapter.syncFrozen ? this.adapter.syncFrozen(newFirst) : 0;\r\n        this.adapter.removeFromBeginning(this.adapter.visible.first, newFirst - 1, frozenShift);\r\n        var context = this.adapter.context;\r\n        var shift = (newFirst - this.adapter.visible.first) * context.defaultRowHeight;\r\n        if (context.exceptions.length > 0) {\r\n            for (var i = this.adapter.visible.first; i < newFirst; ++i) {\r\n                if (context.exceptionsLookup.has(i)) {\r\n                    shift += context.exceptionsLookup.get(i) - context.defaultRowHeight;\r\n                }\r\n            }\r\n        }\r\n        this.adapter.visible.first = newFirst;\r\n        this.adapter.updateOffset(this.adapter.visibleFirstRowPos + shift);\r\n        this.prefetchDown();\r\n    };\r\n    PrefetchMixin.prototype.cleanUpBottom = function (last) {\r\n        this.prefetchTimeout = -1;\r\n        var newLast = last + this.options.cleanUpRows;\r\n        if (this.adapter.visible.last <= newLast) {\r\n            return;\r\n        }\r\n        this.adapter.removeFromBottom(newLast + 1, this.adapter.visible.last);\r\n        this.adapter.visible.last = newLast;\r\n        this.prefetchUp();\r\n    };\r\n    PrefetchMixin.prototype.triggerCleanUp = function (first, last, isGoingDown) {\r\n        if (this.prefetchTimeout >= 0) {\r\n            clearTimeout(this.prefetchTimeout);\r\n        }\r\n        if ((isGoingDown && (first - this.options.cleanUpRows) <= this.adapter.visible.first) || (!isGoingDown && this.adapter.visible.last <= (last + this.options.cleanUpRows))) {\r\n            return;\r\n        }\r\n        this.prefetchTimeout = setTimeout(isGoingDown ? this.cleanUpTop.bind(this) : this.cleanUpBottom.bind(this), this.options.delay, isGoingDown ? first : last);\r\n    };\r\n    PrefetchMixin.prototype.onScrolled = function (isGoingDown, scrollResult) {\r\n        if (scrollResult === __WEBPACK_IMPORTED_MODULE_1__IMixin__[\"a\" /* EScrollResult */].NONE) {\r\n            if (this.options.cleanUpRows > 0) {\r\n                this.triggerCleanUp(this.adapter.visible.forcedFirst, this.adapter.visible.forcedLast, isGoingDown);\r\n            }\r\n        }\r\n        else if (this.options.prefetchRows > 0) {\r\n            this.triggerPrefetch(isGoingDown);\r\n        }\r\n    };\r\n    return PrefetchMixin;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (PrefetchMixin);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL21peGluL1ByZWZldGNoTWl4aW4udHM/ZjIwNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge3JhbmdlfSBmcm9tICcuLi9sb2dpYyc7XG5pbXBvcnQge0VTY3JvbGxSZXN1bHQsIElNaXhpbiwgSU1peGluQWRhcHRlcn0gZnJvbSAnLi9JTWl4aW4nO1xuXG5leHBvcnQgaW50ZXJmYWNlIElQcmVmZXRjaFJlbmRlcmVyT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBudW1iZXIgb2Ygcm93cyB0byBwcmVmZXRjaFxuICAgKiBAZGVmYXVsdCAyMFxuICAgKi9cbiAgcmVhZG9ubHkgcHJlZmV0Y2hSb3dzOiBudW1iZXI7XG4gIC8qKlxuICAgKiBudW1iZXIgb2Ygcm93cyBleHRyYSBiZWZvcmUgY2xlYW5pbmcgdGhlbSB1cFxuICAgKiBAZGVmYXVsdCAzXG4gICAqL1xuICByZWFkb25seSBjbGVhblVwUm93czogbnVtYmVyO1xuICAvKipcbiAgICogZGVsYXkgdG8gdHJpZ2dlciBhIHByZWZldGNoIG9yIGNsZWFuIHVwXG4gICAqIEBkZWZhdWx0IDUwbXNcbiAgICovXG4gIHJlYWRvbmx5IGRlbGF5OiBudW1iZXI7XG59XG5cbi8qKlxuICogbWl4aW4gdGhhdCBwcmVmZXRjaGVzIHJvd3MgZGVwZW5kaW5nIG9uIHRoZSBzY3JvbGxpbmcgZGlyZWN0aW9uIGZvciBmYXN0ZXIgcmVuZGVyaW5nXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByZWZldGNoTWl4aW4gaW1wbGVtZW50cyBJTWl4aW4ge1xuICBwcml2YXRlIHByZWZldGNoVGltZW91dDogbnVtYmVyID0gLTE7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBvcHRpb25zOiBJUHJlZmV0Y2hSZW5kZXJlck9wdGlvbnMgPSB7XG4gICAgcHJlZmV0Y2hSb3dzOiAyMCxcbiAgICBjbGVhblVwUm93czogMyxcbiAgICBkZWxheTogNTBcbiAgfTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGFkYXB0ZXI6IElNaXhpbkFkYXB0ZXIsIG9wdGlvbnM/OiBQYXJ0aWFsPElQcmVmZXRjaFJlbmRlcmVyT3B0aW9ucz4pIHtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuXG4gIHByaXZhdGUgcHJlZmV0Y2hEb3duKCkge1xuICAgIHRoaXMucHJlZmV0Y2hUaW1lb3V0ID0gLTE7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMuYWRhcHRlci5jb250ZXh0O1xuICAgIGNvbnN0IG5leHRMYXN0ID0gTWF0aC5taW4odGhpcy5hZGFwdGVyLnZpc2libGUubGFzdCArIHRoaXMub3B0aW9ucy5wcmVmZXRjaFJvd3MsIGNvbnRleHQubnVtYmVyT2ZSb3dzIC0gMSk7XG4gICAgLy8gYWRkIHNvbWUgcm93cyBpbiBhZHZhbmNlXG4gICAgaWYgKHRoaXMuYWRhcHRlci52aXNpYmxlLmxhc3QgPT09IG5leHRMYXN0ICYmIHRoaXMuYWRhcHRlci52aXNpYmxlLmxhc3QgPj0gKHRoaXMuYWRhcHRlci52aXNpYmxlLmZvcmNlZExhc3QgKyB0aGlzLm9wdGlvbnMucHJlZmV0Y2hSb3dzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuYWRhcHRlci5hZGRBdEJvdHRvbSh0aGlzLmFkYXB0ZXIudmlzaWJsZS5sYXN0ICsgMSwgbmV4dExhc3QpO1xuICAgIC8vY29uc29sZS5sb2coJ3ByZWZldGNoJywgdmlzaWJsZUZpcnN0LCB2aXNpYmxlTGFzdCArIDEsICc9PicsIG5leHRMYXN0LCByYW5raW5nLmNoaWxkcmVuLmxlbmd0aCk7XG4gICAgdGhpcy5hZGFwdGVyLnZpc2libGUubGFzdCA9IG5leHRMYXN0O1xuICB9XG5cbiAgcHJpdmF0ZSBwcmVmZXRjaFVwKCkge1xuICAgIHRoaXMucHJlZmV0Y2hUaW1lb3V0ID0gLTE7XG4gICAgaWYgKHRoaXMuYWRhcHRlci52aXNpYmxlLmZpcnN0IDw9ICh0aGlzLmFkYXB0ZXIudmlzaWJsZS5mb3JjZWRGaXJzdCAtIHRoaXMub3B0aW9ucy5wcmVmZXRjaFJvd3MhKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5hZGFwdGVyLmNvbnRleHQ7XG4gICAgY29uc3Qgc2Nyb2xsZXIgPSB0aGlzLmFkYXB0ZXIuc2Nyb2xsZXI7XG4gICAgY29uc3QgZmFrZU9mZnNldCA9IE1hdGgubWF4KHNjcm9sbGVyLnNjcm9sbFRvcCAtIHRoaXMub3B0aW9ucy5wcmVmZXRjaFJvd3MhICogY29udGV4dC5kZWZhdWx0Um93SGVpZ2h0LCAwKTtcbiAgICBjb25zdCBoZWlnaHQgPSBzY3JvbGxlci5jbGllbnRIZWlnaHQ7XG4gICAgY29uc3Qge2ZpcnN0LCBmaXJzdFJvd1Bvc30gPSByYW5nZShmYWtlT2Zmc2V0LCBoZWlnaHQsIGNvbnRleHQuZGVmYXVsdFJvd0hlaWdodCwgY29udGV4dC5leGNlcHRpb25zLCBjb250ZXh0Lm51bWJlck9mUm93cyk7XG5cbiAgICBpZiAoZmlyc3QgPT09IHRoaXMuYWRhcHRlci52aXNpYmxlLmZpcnN0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZnJvemVuU2hpZnQgPSB0aGlzLmFkYXB0ZXIuc3luY0Zyb3plbiA/IHRoaXMuYWRhcHRlci5zeW5jRnJvemVuKGZpcnN0KSA6IDA7XG5cbiAgICB0aGlzLmFkYXB0ZXIuYWRkQXRCZWdpbm5pbmcoZmlyc3QsIHRoaXMuYWRhcHRlci52aXNpYmxlLmZpcnN0IC0gMSwgZnJvemVuU2hpZnQpO1xuICAgIC8vY29uc29sZS5sb2coJ3ByZWZldGNoIHVwICcsIHZpc2libGVGaXJzdCwgJz0+JywgZmlyc3QsIHZpc2libGVMYXN0LCByYW5raW5nLmNoaWxkcmVuLmxlbmd0aCk7XG4gICAgdGhpcy5hZGFwdGVyLnZpc2libGUuZmlyc3QgPSBmaXJzdDtcblxuICAgIHRoaXMuYWRhcHRlci51cGRhdGVPZmZzZXQoZmlyc3RSb3dQb3MpO1xuICB9XG5cbiAgcHJpdmF0ZSB0cmlnZ2VyUHJlZmV0Y2goaXNHb2luZ0Rvd246IGJvb2xlYW4pIHtcbiAgICBpZiAodGhpcy5wcmVmZXRjaFRpbWVvdXQgPj0gMCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucHJlZmV0Y2hUaW1lb3V0KTtcbiAgICB9XG5cbiAgICBjb25zdCBwcmVmZXRjaERvd25Qb3NzaWJsZSA9IHRoaXMuYWRhcHRlci52aXNpYmxlLmxhc3QgPCAodGhpcy5hZGFwdGVyLnZpc2libGUuZm9yY2VkTGFzdCArIHRoaXMub3B0aW9ucy5wcmVmZXRjaFJvd3MpO1xuICAgIGNvbnN0IHByZWZldGNoVXBQb3NzaWJsZSA9IHRoaXMuYWRhcHRlci52aXNpYmxlLmZpcnN0ID4gKHRoaXMuYWRhcHRlci52aXNpYmxlLmZvcmNlZEZpcnN0IC0gdGhpcy5vcHRpb25zLnByZWZldGNoUm93cyk7XG5cbiAgICBjb25zdCBpc0xhc3QgPSB0aGlzLmFkYXB0ZXIudmlzaWJsZS5sYXN0ID09PSB0aGlzLmFkYXB0ZXIuY29udGV4dC5udW1iZXJPZlJvd3M7XG4gICAgY29uc3QgaXNGaXJzdCA9IHRoaXMuYWRhcHRlci52aXNpYmxlLmZpcnN0ID09PSAwO1xuXG4gICAgaWYgKChpc0dvaW5nRG93biAmJiAhcHJlZmV0Y2hEb3duUG9zc2libGUgJiYgIWlzTGFzdCkgfHwgKCFpc0dvaW5nRG93biAmJiAhcHJlZmV0Y2hVcFBvc3NpYmxlICYmICFpc0ZpcnN0KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGdvIGRvd24gaWYgd2UgYXJlIGFscmVhZHkgYXQgdGhlIHRvcCwgdG9vXG4gICAgY29uc3Qgb3AgPSAoaXNHb2luZ0Rvd24gfHwgaXNGaXJzdCkgPyB0aGlzLnByZWZldGNoRG93bi5iaW5kKHRoaXMpIDogdGhpcy5wcmVmZXRjaFVwLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLnByZWZldGNoVGltZW91dCA9IHNldFRpbWVvdXQob3AsIHRoaXMub3B0aW9ucy5kZWxheSk7XG4gIH1cblxuICBwcml2YXRlIGNsZWFuVXBUb3AoZmlyc3Q6IG51bWJlcikge1xuICAgIHRoaXMucHJlZmV0Y2hUaW1lb3V0ID0gLTE7XG4gICAgY29uc3QgbmV3Rmlyc3QgPSBNYXRoLm1heCgwLCBmaXJzdCAtIHRoaXMub3B0aW9ucy5jbGVhblVwUm93cyk7XG5cbiAgICBpZiAobmV3Rmlyc3QgPD0gdGhpcy5hZGFwdGVyLnZpc2libGUuZmlyc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBmcm96ZW5TaGlmdCA9IHRoaXMuYWRhcHRlci5zeW5jRnJvemVuID8gdGhpcy5hZGFwdGVyLnN5bmNGcm96ZW4obmV3Rmlyc3QpIDogMDtcblxuICAgIHRoaXMuYWRhcHRlci5yZW1vdmVGcm9tQmVnaW5uaW5nKHRoaXMuYWRhcHRlci52aXNpYmxlLmZpcnN0LCBuZXdGaXJzdCAtIDEsIGZyb3plblNoaWZ0KTtcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5hZGFwdGVyLmNvbnRleHQ7XG4gICAgLy9jb25zb2xlLmxvZygnY2xlYW51cCB1cCAnLCB2aXNpYmxlRmlyc3QsICc9PicsIG5ld0ZpcnN0LCB2aXNpYmxlTGFzdCwgcmFua2luZy5jaGlsZHJlbi5sZW5ndGgpO1xuICAgIGxldCBzaGlmdCA9IChuZXdGaXJzdCAtIHRoaXMuYWRhcHRlci52aXNpYmxlLmZpcnN0KSAqIGNvbnRleHQuZGVmYXVsdFJvd0hlaWdodDtcbiAgICBpZiAoY29udGV4dC5leGNlcHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIGZvciAobGV0IGkgPSB0aGlzLmFkYXB0ZXIudmlzaWJsZS5maXJzdDsgaSA8IG5ld0ZpcnN0OyArK2kpIHtcbiAgICAgICAgaWYgKGNvbnRleHQuZXhjZXB0aW9uc0xvb2t1cC5oYXMoaSkpIHtcbiAgICAgICAgICBzaGlmdCArPSBjb250ZXh0LmV4Y2VwdGlvbnNMb29rdXAuZ2V0KGkpISAtIGNvbnRleHQuZGVmYXVsdFJvd0hlaWdodDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmFkYXB0ZXIudmlzaWJsZS5maXJzdCA9IG5ld0ZpcnN0O1xuICAgIHRoaXMuYWRhcHRlci51cGRhdGVPZmZzZXQodGhpcy5hZGFwdGVyLnZpc2libGVGaXJzdFJvd1BvcyArIHNoaWZ0KTtcblxuICAgIHRoaXMucHJlZmV0Y2hEb3duKCk7XG4gIH1cblxuICBwcml2YXRlIGNsZWFuVXBCb3R0b20obGFzdDogbnVtYmVyKSB7XG4gICAgdGhpcy5wcmVmZXRjaFRpbWVvdXQgPSAtMTtcbiAgICBjb25zdCBuZXdMYXN0ID0gbGFzdCArIHRoaXMub3B0aW9ucy5jbGVhblVwUm93cztcbiAgICBpZiAodGhpcy5hZGFwdGVyLnZpc2libGUubGFzdCA8PSBuZXdMYXN0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuYWRhcHRlci5yZW1vdmVGcm9tQm90dG9tKG5ld0xhc3QgKyAxLCB0aGlzLmFkYXB0ZXIudmlzaWJsZS5sYXN0KTtcbiAgICAvL2NvbnNvbGUubG9nKCdjbGVhbnVwIGJvdHRvbScsIHZpc2libGVGaXJzdCwgdmlzaWJsZUxhc3QsICc9PicsIG5ld0xhc3QsIHJhbmtpbmcuY2hpbGRyZW4ubGVuZ3RoKTtcbiAgICB0aGlzLmFkYXB0ZXIudmlzaWJsZS5sYXN0ID0gbmV3TGFzdDtcblxuICAgIHRoaXMucHJlZmV0Y2hVcCgpO1xuICB9XG5cbiAgcHJpdmF0ZSB0cmlnZ2VyQ2xlYW5VcChmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXIsIGlzR29pbmdEb3duOiBib29sZWFuKSB7XG4gICAgaWYgKHRoaXMucHJlZmV0Y2hUaW1lb3V0ID49IDApIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnByZWZldGNoVGltZW91dCk7XG4gICAgfVxuICAgIGlmICgoaXNHb2luZ0Rvd24gJiYgKGZpcnN0IC0gdGhpcy5vcHRpb25zLmNsZWFuVXBSb3dzKSA8PSB0aGlzLmFkYXB0ZXIudmlzaWJsZS5maXJzdCkgfHwgKCFpc0dvaW5nRG93biAmJiB0aGlzLmFkYXB0ZXIudmlzaWJsZS5sYXN0IDw9IChsYXN0ICsgdGhpcy5vcHRpb25zLmNsZWFuVXBSb3dzKSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnByZWZldGNoVGltZW91dCA9IHNldFRpbWVvdXQoaXNHb2luZ0Rvd24gPyB0aGlzLmNsZWFuVXBUb3AuYmluZCh0aGlzKSA6IHRoaXMuY2xlYW5VcEJvdHRvbS5iaW5kKHRoaXMpLCB0aGlzLm9wdGlvbnMuZGVsYXksIGlzR29pbmdEb3duID8gZmlyc3QgOiBsYXN0KTtcbiAgfVxuXG4gIG9uU2Nyb2xsZWQoaXNHb2luZ0Rvd246IGJvb2xlYW4sIHNjcm9sbFJlc3VsdDogRVNjcm9sbFJlc3VsdCkge1xuICAgIGlmIChzY3JvbGxSZXN1bHQgPT09IEVTY3JvbGxSZXN1bHQuTk9ORSkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5jbGVhblVwUm93cyA+IDApIHtcbiAgICAgICAgdGhpcy50cmlnZ2VyQ2xlYW5VcCh0aGlzLmFkYXB0ZXIudmlzaWJsZS5mb3JjZWRGaXJzdCwgdGhpcy5hZGFwdGVyLnZpc2libGUuZm9yY2VkTGFzdCwgaXNHb2luZ0Rvd24pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLnByZWZldGNoUm93cyA+IDApIHtcbiAgICAgIHRoaXMudHJpZ2dlclByZWZldGNoKGlzR29pbmdEb3duKTtcbiAgICB9XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvbWl4aW4vUHJlZmV0Y2hNaXhpbi50cyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUF1QkE7QUFTQTtBQUFBO0FBUkE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///14\n");

/***/ }),
/* 15 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ACellTableSection__ = __webpack_require__(16);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return __WEBPACK_IMPORTED_MODULE_0__ACellTableSection__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__MultiTableRowRenderer__ = __webpack_require__(17);\n/* unused harmony reexport default */\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL3RhYmxlL2luZGV4LnRzP2QwYzYiXSwic291cmNlc0NvbnRlbnQiOlsiXG5leHBvcnQge0lDZWxsUmVuZGVyQ29udGV4dCBhcyBJVGFibGVDZWxsUmVuZGVyQ29udGV4dCwgQUNlbGxUYWJsZVNlY3Rpb259IGZyb20gJy4vQUNlbGxUYWJsZVNlY3Rpb24nO1xuZXhwb3J0IHtJTXVsdGlUYWJsZVJvd1JlbmRlcmVyT3B0aW9ucywgSVNlcGFyYXRvckZhY3RvcnksIElUYWJsZUZhY3RvcnksIElUYWJsZVNlY3Rpb24sIGRlZmF1bHR9IGZyb20gJy4vTXVsdGlUYWJsZVJvd1JlbmRlcmVyJztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvdGFibGUvaW5kZXgudHMiXSwibWFwcGluZ3MiOiJBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///15\n");

/***/ }),
/* 16 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ACellTableSection; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ARowRenderer__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__mixin__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__internal_ACellAdapter__ = __webpack_require__(10);\n\r\n\r\n\r\n\r\nvar ACellTableSection = (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](ACellTableSection, _super);\r\n    function ACellTableSection(header, body, tableId, style, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = _super.call(this, body, options) || this;\r\n        _this.header = header;\r\n        _this.tableId = tableId;\r\n        _this.style = style;\r\n        var that = _this;\r\n        var LocalCell = (function (_super) {\r\n            __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](LocalCell, _super);\r\n            function LocalCell() {\r\n                return _super !== null && _super.apply(this, arguments) || this;\r\n            }\r\n            Object.defineProperty(LocalCell.prototype, \"context\", {\r\n                get: function () {\r\n                    return that.context;\r\n                },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            LocalCell.prototype.createHeader = function (document, column) {\r\n                return that.createHeader(document, column);\r\n            };\r\n            LocalCell.prototype.updateHeader = function (node, column) {\r\n                return that.updateHeader(node, column);\r\n            };\r\n            LocalCell.prototype.createCell = function (document, index, column) {\r\n                return that.createCell(document, index, column);\r\n            };\r\n            LocalCell.prototype.updateCell = function (node, index, column) {\r\n                return that.updateCell(node, index, column);\r\n            };\r\n            LocalCell.prototype.forEachRow = function (callback) {\r\n                return that.forEachRow(callback);\r\n            };\r\n            return LocalCell;\r\n        }(__WEBPACK_IMPORTED_MODULE_3__internal_ACellAdapter__[\"a\" /* default */]));\r\n        _this.cell = new (LocalCell.bind.apply(LocalCell, [void 0, _this.header, _this.style, tableId].concat((options.mixins || []))))();\r\n        return _this;\r\n    }\r\n    ACellTableSection.prototype.addColumnMixin = function (mixinClass, options) {\r\n        this.cell.addColumnMixin(mixinClass, options);\r\n    };\r\n    Object.defineProperty(ACellTableSection.prototype, \"width\", {\r\n        get: function () {\r\n            return this.context.column.totalHeight;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ACellTableSection.prototype, \"hidden\", {\r\n        get: function () {\r\n            return this.header.classList.contains('loading');\r\n        },\r\n        set: function (value) {\r\n            var old = this.hidden;\r\n            if (old === value) {\r\n                return;\r\n            }\r\n            this.header.classList.toggle('loading', value);\r\n            this.body.classList.toggle('loading', value);\r\n            this.onVisibilityChanged(!value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ACellTableSection.prototype.onVisibilityChanged = function (_visible) {\r\n    };\r\n    ACellTableSection.prototype.hide = function () {\r\n        this.hidden = true;\r\n    };\r\n    ACellTableSection.prototype.show = function (scrollLeft, clientWidth, isGoingRight) {\r\n        this.hidden = false;\r\n        this.cell.onScrolledHorizontally(scrollLeft, clientWidth, isGoingRight);\r\n    };\r\n    ACellTableSection.prototype.init = function () {\r\n        this.hide();\r\n        this.cell.init();\r\n        _super.prototype.init.call(this);\r\n    };\r\n    ACellTableSection.prototype.destroy = function () {\r\n        _super.prototype.destroy.call(this);\r\n        this.header.remove();\r\n        this.style.remove(this.tableId);\r\n    };\r\n    ACellTableSection.prototype.onScrolledVertically = function (scrollTop, clientHeight, isGoingDown) {\r\n        if (this.hidden) {\r\n            return __WEBPACK_IMPORTED_MODULE_2__mixin__[\"a\" /* EScrollResult */].NONE;\r\n        }\r\n        return _super.prototype.onScrolledVertically.call(this, scrollTop, clientHeight, isGoingDown);\r\n    };\r\n    ACellTableSection.prototype.onScrolledHorizontally = function (scrollLeft, clientWidth, isGoingRight) {\r\n        return this.cell.onScrolledHorizontally(scrollLeft, clientWidth, isGoingRight);\r\n    };\r\n    ACellTableSection.prototype.updateHeaders = function () {\r\n        this.cell.updateHeaders();\r\n    };\r\n    ACellTableSection.prototype.updateColumnWidths = function () {\r\n        var context = this.context;\r\n        this.style.update(context.defaultRowHeight - context.padding(-1), context.columns, context.column.padding, this.tableId);\r\n    };\r\n    ACellTableSection.prototype.recreate = function (ctx) {\r\n        var scroller = this.bodyScroller;\r\n        var oldLeft = scroller.scrollLeft;\r\n        this.cell.recreate(oldLeft, scroller.clientWidth);\r\n        _super.prototype.recreate.call(this, ctx);\r\n        scroller.scrollLeft = oldLeft;\r\n    };\r\n    ACellTableSection.prototype.clearPool = function () {\r\n        _super.prototype.clearPool.call(this);\r\n        this.cell.clearPool();\r\n    };\r\n    ACellTableSection.prototype.createRow = function (node, rowIndex) {\r\n        this.cell.createRow(node, rowIndex);\r\n    };\r\n    ACellTableSection.prototype.updateRow = function (node, rowIndex) {\r\n        this.cell.updateRow(node, rowIndex);\r\n    };\r\n    return ACellTableSection;\r\n}(__WEBPACK_IMPORTED_MODULE_1__ARowRenderer__[\"b\" /* default */]));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL3RhYmxlL0FDZWxsVGFibGVTZWN0aW9uLnRzP2NiMjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtJQW5pbWF0aW9uQ29udGV4dH0gZnJvbSAnLi4vYW5pbWF0aW9uJztcbmltcG9ydCBBUm93UmVuZGVyZXIsIHtJUm93UmVuZGVyZXJPcHRpb25zfSBmcm9tICcuLi9BUm93UmVuZGVyZXInO1xuaW1wb3J0IHtFU2Nyb2xsUmVzdWx0LCBJTWl4aW5DbGFzc30gZnJvbSAnLi4vbWl4aW4nO1xuaW1wb3J0IEdyaWRTdHlsZU1hbmFnZXIgZnJvbSAnLi4vc3R5bGUvR3JpZFN0eWxlTWFuYWdlcic7XG5pbXBvcnQge0lDb2x1bW59IGZyb20gJy4uL3N0eWxlJztcbmltcG9ydCBBQ2VsbEFkYXB0ZXIsIHtJQ2VsbEFkYXB0ZXJSZW5kZXJDb250ZXh0fSBmcm9tICcuL2ludGVybmFsL0FDZWxsQWRhcHRlcic7XG5pbXBvcnQge0lUYWJsZVNlY3Rpb259IGZyb20gJy4vTXVsdGlUYWJsZVJvd1JlbmRlcmVyJztcblxuZXhwb3J0IGRlY2xhcmUgdHlwZSBJQ2VsbFJlbmRlckNvbnRleHQ8VCBleHRlbmRzIElDb2x1bW4+ID0gSUNlbGxBZGFwdGVyUmVuZGVyQ29udGV4dDxUPjtcblxuLyoqXG4gKiBiYXNlIGNsYXNzIGZvciBhIGNlbGwgcmVuZGVyZXIgYXMgdGFibGUgc2VjdGlvblxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQUNlbGxUYWJsZVNlY3Rpb248VCBleHRlbmRzIElDb2x1bW4+IGV4dGVuZHMgQVJvd1JlbmRlcmVyIGltcGxlbWVudHMgSVRhYmxlU2VjdGlvbiB7XG4gIHByaXZhdGUgcmVhZG9ubHkgY2VsbDogQUNlbGxBZGFwdGVyPFQ+O1xuXG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCByZWFkb25seSBoZWFkZXI6IEhUTUxFbGVtZW50LCBib2R5OiBIVE1MRWxlbWVudCwgcHJvdGVjdGVkIHJlYWRvbmx5IHRhYmxlSWQ6IHN0cmluZywgcHJvdGVjdGVkIHJlYWRvbmx5IHN0eWxlOiBHcmlkU3R5bGVNYW5hZ2VyLCBvcHRpb25zOiBQYXJ0aWFsPElSb3dSZW5kZXJlck9wdGlvbnM+ID0ge30pIHtcbiAgICBzdXBlcihib2R5LCBvcHRpb25zKTtcblxuICAgIGNvbnN0IHRoYXQgPSB0aGlzO1xuXG4gICAgY2xhc3MgTG9jYWxDZWxsIGV4dGVuZHMgQUNlbGxBZGFwdGVyPFQ+IHtcbiAgICAgIHByb3RlY3RlZCBnZXQgY29udGV4dCgpOiBJQ2VsbEFkYXB0ZXJSZW5kZXJDb250ZXh0PFQ+IHtcbiAgICAgICAgcmV0dXJuIHRoYXQuY29udGV4dDtcbiAgICAgIH1cblxuICAgICAgcHJvdGVjdGVkIGNyZWF0ZUhlYWRlcihkb2N1bWVudDogRG9jdW1lbnQsIGNvbHVtbjogVCkge1xuICAgICAgICByZXR1cm4gdGhhdC5jcmVhdGVIZWFkZXIoZG9jdW1lbnQsIGNvbHVtbik7XG4gICAgICB9XG5cbiAgICAgIHByb3RlY3RlZCB1cGRhdGVIZWFkZXIobm9kZTogSFRNTEVsZW1lbnQsIGNvbHVtbjogVCkge1xuICAgICAgICByZXR1cm4gdGhhdC51cGRhdGVIZWFkZXIobm9kZSwgY29sdW1uKTtcbiAgICAgIH1cblxuICAgICAgcHJvdGVjdGVkIGNyZWF0ZUNlbGwoZG9jdW1lbnQ6IERvY3VtZW50LCBpbmRleDogbnVtYmVyLCBjb2x1bW46IFQpIHtcbiAgICAgICAgcmV0dXJuIHRoYXQuY3JlYXRlQ2VsbChkb2N1bWVudCwgaW5kZXgsIGNvbHVtbik7XG4gICAgICB9XG5cbiAgICAgIHByb3RlY3RlZCB1cGRhdGVDZWxsKG5vZGU6IEhUTUxFbGVtZW50LCBpbmRleDogbnVtYmVyLCBjb2x1bW46IFQpIHtcbiAgICAgICAgcmV0dXJuIHRoYXQudXBkYXRlQ2VsbChub2RlLCBpbmRleCwgY29sdW1uKTtcbiAgICAgIH1cblxuICAgICAgcHJvdGVjdGVkIGZvckVhY2hSb3coY2FsbGJhY2s6IChyb3c6IEhUTUxFbGVtZW50LCByb3dJbmRleDogbnVtYmVyKSA9PiB2b2lkKSB7XG4gICAgICAgIHJldHVybiB0aGF0LmZvckVhY2hSb3coY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuY2VsbCA9IG5ldyBMb2NhbENlbGwodGhpcy5oZWFkZXIsIHRoaXMuc3R5bGUsIHRhYmxlSWQsIC4uLihvcHRpb25zLm1peGlucyB8fCBbXSkpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFkZENvbHVtbk1peGluKG1peGluQ2xhc3M6IElNaXhpbkNsYXNzLCBvcHRpb25zPzogYW55KSB7XG4gICAgdGhpcy5jZWxsLmFkZENvbHVtbk1peGluKG1peGluQ2xhc3MsIG9wdGlvbnMpO1xuICB9XG5cbiAgYWJzdHJhY3QgZ2V0IGlkKCk6IHN0cmluZztcblxuICBnZXQgd2lkdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGV4dC5jb2x1bW4udG90YWxIZWlnaHQ7XG4gIH1cblxuICBnZXQgaGlkZGVuKCkge1xuICAgIHJldHVybiB0aGlzLmhlYWRlci5jbGFzc0xpc3QuY29udGFpbnMoJ2xvYWRpbmcnKTtcbiAgfVxuXG4gIHNldCBoaWRkZW4odmFsdWU6IGJvb2xlYW4pIHtcbiAgICBjb25zdCBvbGQgPSB0aGlzLmhpZGRlbjtcbiAgICBpZiAob2xkID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmhlYWRlci5jbGFzc0xpc3QudG9nZ2xlKCdsb2FkaW5nJywgdmFsdWUpO1xuICAgIHRoaXMuYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdsb2FkaW5nJywgdmFsdWUpO1xuICAgIHRoaXMub25WaXNpYmlsaXR5Q2hhbmdlZCghdmFsdWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIGhvb2sgd2hlbiB0aGUgdmlzaWJpbGl0eSBjaGFuZ2VzXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gX3Zpc2libGUgY3VycmVudCB2aXNpYmlsaXR5XG4gICAqL1xuICBwcm90ZWN0ZWQgb25WaXNpYmlsaXR5Q2hhbmdlZChfdmlzaWJsZTogYm9vbGVhbikge1xuICAgIC8vIGhvb2tcbiAgfVxuXG4gIGhpZGUoKSB7XG4gICAgdGhpcy5oaWRkZW4gPSB0cnVlO1xuICB9XG5cbiAgc2hvdyhzY3JvbGxMZWZ0OiBudW1iZXIsIGNsaWVudFdpZHRoOiBudW1iZXIsIGlzR29pbmdSaWdodDogYm9vbGVhbikge1xuICAgIHRoaXMuaGlkZGVuID0gZmFsc2U7XG4gICAgdGhpcy5jZWxsLm9uU2Nyb2xsZWRIb3Jpem9udGFsbHkoc2Nyb2xsTGVmdCwgY2xpZW50V2lkdGgsIGlzR29pbmdSaWdodCk7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuaGlkZSgpOyAvLyBoaWRlIGJ5IGRlZmF1bHRcbiAgICB0aGlzLmNlbGwuaW5pdCgpO1xuICAgIHN1cGVyLmluaXQoKTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgc3VwZXIuZGVzdHJveSgpO1xuICAgIHRoaXMuaGVhZGVyLnJlbW92ZSgpO1xuICAgIHRoaXMuc3R5bGUucmVtb3ZlKHRoaXMudGFibGVJZCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25TY3JvbGxlZFZlcnRpY2FsbHkoc2Nyb2xsVG9wOiBudW1iZXIsIGNsaWVudEhlaWdodDogbnVtYmVyLCBpc0dvaW5nRG93bjogYm9vbGVhbik6IEVTY3JvbGxSZXN1bHQge1xuICAgIGlmICh0aGlzLmhpZGRlbikge1xuICAgICAgcmV0dXJuIEVTY3JvbGxSZXN1bHQuTk9ORTtcbiAgICB9XG4gICAgcmV0dXJuIHN1cGVyLm9uU2Nyb2xsZWRWZXJ0aWNhbGx5KHNjcm9sbFRvcCwgY2xpZW50SGVpZ2h0LCBpc0dvaW5nRG93bik7XG4gIH1cblxuICBwcm90ZWN0ZWQgb25TY3JvbGxlZEhvcml6b250YWxseShzY3JvbGxMZWZ0OiBudW1iZXIsIGNsaWVudFdpZHRoOiBudW1iZXIsIGlzR29pbmdSaWdodDogYm9vbGVhbikge1xuICAgIHJldHVybiB0aGlzLmNlbGwub25TY3JvbGxlZEhvcml6b250YWxseShzY3JvbGxMZWZ0LCBjbGllbnRXaWR0aCwgaXNHb2luZ1JpZ2h0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiB0aGUgY3VycmVudCByZW5kZXIgY29udGV4dCwgdXBvbiBjaGFuZ2UgYHJlY3JlYXRlYCB0aGUgd2hvbGUgdGFibGVcbiAgICogQHJldHVybnMge0lDZWxsUmVuZGVyQ29udGV4dH1cbiAgICovXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBnZXQgY29udGV4dCgpOiBJQ2VsbFJlbmRlckNvbnRleHQ8VD47XG5cbiAgLyoqXG4gICAqIGNyZWF0ZSBhIG5ldyBoZWFkZXIgbm9kZSBmb3IgdGhlIGdpdmVuIGNvbHVtblxuICAgKiBAcGFyYW0ge0RvY3VtZW50fSBkb2N1bWVudCBkb2N1bWVudCB0byBjcmVhdGUgbm9kZXMgb2ZcbiAgICogQHBhcmFtIHtUfSBjb2x1bW4gdGhlIGNvbHVtbiB0byBjcmVhdGUgdGhlIGhlYWRlciBmb3JcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fSB0aGUgbm9kZSByZXByZXNlbnRpbmcgdGhlIGhlYWRlclxuICAgKi9cbiAgcHJvdGVjdGVkIGFic3RyYWN0IGNyZWF0ZUhlYWRlcihkb2N1bWVudDogRG9jdW1lbnQsIGNvbHVtbjogVCk6IEhUTUxFbGVtZW50O1xuXG4gIC8qKlxuICAgKiB1cGRhdGVzIHRoZSBnaXZlbiBoZWFkZXIgbm9kZSB3aXRoIHRoZSBnaXZlbiBjb2x1bW5cbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZSBub2RlIHRvIHVwZGF0ZVxuICAgKiBAcGFyYW0ge1R9IGNvbHVtbiB0aGUgY29sdW1uIHRvIHJlcHJlc2VudHNcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50IHwgdm9pZH0gYW4gb3B0aW9uYWwgbmV3IHJlcGxhY2VtZW50IG5vZGUgZm9yIHRoZSBoZWFkZXJcbiAgICovXG4gIHByb3RlY3RlZCBhYnN0cmFjdCB1cGRhdGVIZWFkZXIobm9kZTogSFRNTEVsZW1lbnQsIGNvbHVtbjogVCk6IEhUTUxFbGVtZW50IHwgdm9pZDtcblxuICAvKipcbiAgICogY3JlYXRlIGEgbmV3IGNlbGwgbm9kZSBmbyB0aGUgZ2l2ZW4gcm93IGluZGV4IGFuZCBjb2x1bW5cbiAgICogQHBhcmFtIHtEb2N1bWVudH0gZG9jdW1lbnQgZG9jdW1lbnQgdGhlIGNyZWF0ZSBub2RlcyBvZlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggdGhlIGN1cnJlbnQgcm93IGluZGV4XG4gICAqIEBwYXJhbSB7VH0gY29sdW1uIHRoZSBjdXJyZW50IGNvbHVtblxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IHRoZSBub2RlIHJlcHJlc2VudGluZyB0aGUgY2VsbFxuICAgKi9cbiAgcHJvdGVjdGVkIGFic3RyYWN0IGNyZWF0ZUNlbGwoZG9jdW1lbnQ6IERvY3VtZW50LCBpbmRleDogbnVtYmVyLCBjb2x1bW46IFQpOiBIVE1MRWxlbWVudDtcblxuICAvKipcbiAgICogdXBkYXRlcyB0aGUgZ2l2ZW4gY2VsbCBub2RlIHdpdGggdGhlIGdpdmVuIHJvdyBpbmRleCBhbmQgY29sdW1uXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGUgbm9kZSB0byB1cGRhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IHJvdyBpbmRleCB0byB1c2VcbiAgICogQHBhcmFtIHtUfSBjb2x1bW4gY29sdW1uIHRvIHVzZVxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnQgfCB2b2lkfSBhbiBvcHRpb25hbCBuZXcgcmVwbGFjZW1lbnQgbm9kZSBmb3IgdGhlIGhlYWRlclxuICAgKi9cbiAgcHJvdGVjdGVkIGFic3RyYWN0IHVwZGF0ZUNlbGwobm9kZTogSFRNTEVsZW1lbnQsIGluZGV4OiBudW1iZXIsIGNvbHVtbjogVCk6IEhUTUxFbGVtZW50IHwgdm9pZDtcblxuXG4gIC8qKlxuICAgKiB0cmlnZ2VycyB1cGRhdGluZyB0aGUgaGVhZGVyXG4gICAqL1xuICBwcm90ZWN0ZWQgdXBkYXRlSGVhZGVycygpIHtcbiAgICB0aGlzLmNlbGwudXBkYXRlSGVhZGVycygpO1xuICB9XG5cbiAgLyoqXG4gICAqIHRyaWdnZXIgYW4gdXBkYXRlIGFsbCBhbGwgY29sdW1uIHdpZHRoc1xuICAgKi9cbiAgcHJvdGVjdGVkIHVwZGF0ZUNvbHVtbldpZHRocygpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgIHRoaXMuc3R5bGUudXBkYXRlKGNvbnRleHQuZGVmYXVsdFJvd0hlaWdodCAtIGNvbnRleHQucGFkZGluZygtMSksIGNvbnRleHQuY29sdW1ucywgY29udGV4dC5jb2x1bW4ucGFkZGluZywgdGhpcy50YWJsZUlkKTtcbiAgfVxuXG4gIHByb3RlY3RlZCByZWNyZWF0ZShjdHg/OiBJQW5pbWF0aW9uQ29udGV4dCkge1xuICAgIGNvbnN0IHNjcm9sbGVyID0gdGhpcy5ib2R5U2Nyb2xsZXI7XG4gICAgY29uc3Qgb2xkTGVmdCA9IHNjcm9sbGVyLnNjcm9sbExlZnQ7XG4gICAgdGhpcy5jZWxsLnJlY3JlYXRlKG9sZExlZnQsIHNjcm9sbGVyLmNsaWVudFdpZHRoKTtcblxuICAgIHN1cGVyLnJlY3JlYXRlKGN0eCk7XG4gICAgLy8gcmVzdG9yZSBsZWZ0XG4gICAgc2Nyb2xsZXIuc2Nyb2xsTGVmdCA9IG9sZExlZnQ7XG4gIH1cblxuICBwcm90ZWN0ZWQgY2xlYXJQb29sKCkge1xuICAgIHN1cGVyLmNsZWFyUG9vbCgpO1xuICAgIHRoaXMuY2VsbC5jbGVhclBvb2woKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBjcmVhdGVSb3cobm9kZTogSFRNTEVsZW1lbnQsIHJvd0luZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmNlbGwuY3JlYXRlUm93KG5vZGUsIHJvd0luZGV4KTtcbiAgfVxuXG4gIHByb3RlY3RlZCB1cGRhdGVSb3cobm9kZTogSFRNTEVsZW1lbnQsIHJvd0luZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmNlbGwudXBkYXRlUm93KG5vZGUsIHJvd0luZGV4KTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy90YWJsZS9BQ2VsbFRhYmxlU2VjdGlvbi50cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0E7QUFDQTtBQUdBO0FBUUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBRUE7QUFBQTtBQUFBOztBQXdCQTtBQXZCQTtBQUFBO0FBQ0E7QUFDQTs7O0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBQ0E7QUFDQTs7O0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBVkE7QUFnQkE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUE4Q0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///16\n");

/***/ }),
/* 17 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__logic__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__mixin__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__style_index__ = __webpack_require__(4);\n\r\n\r\n\r\nvar MultiTableRowRenderer = (function () {\r\n    function MultiTableRowRenderer(node, htmlId, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = this;\r\n        this.node = node;\r\n        this.tableId = 0;\r\n        this.sections = [];\r\n        this.visible = {\r\n            first: 0,\r\n            forcedFirst: 0,\r\n            last: 0,\r\n            forcedLast: 0\r\n        };\r\n        this.options = {\r\n            columnPadding: 0\r\n        };\r\n        this.context = Object(__WEBPACK_IMPORTED_MODULE_0__logic__[\"e\" /* uniformContext */])(0, 500);\r\n        Object.assign(this.options, options);\r\n        node.innerHTML = \"<header></header><main></main>\";\r\n        node.classList.add('lineup-engine', 'lineup-multi-engine');\r\n        this.style = new __WEBPACK_IMPORTED_MODULE_2__style_index__[\"a\" /* GridStyleManager */](this.node, htmlId);\r\n        var main = this.main;\r\n        var oldLeft = main.scrollLeft;\r\n        main.addEventListener('scroll', function () {\r\n            var left = main.scrollLeft;\r\n            if (left === oldLeft) {\r\n                return;\r\n            }\r\n            var isGoingRight = left > oldLeft;\r\n            oldLeft = left;\r\n            _this.onScrolledHorizontally(left, main.clientWidth, isGoingRight);\r\n        });\r\n    }\r\n    MultiTableRowRenderer.prototype.update = function () {\r\n        this.context = Object(__WEBPACK_IMPORTED_MODULE_0__logic__[\"b\" /* nonUniformContext */])(this.sections.map(function (d) { return d.width; }), NaN, this.options.columnPadding);\r\n        this.updateGrid();\r\n        this.onScrolledHorizontally(this.main.scrollLeft, this.main.clientWidth, false);\r\n    };\r\n    MultiTableRowRenderer.prototype.updateGrid = function () {\r\n        var content = __WEBPACK_IMPORTED_MODULE_2__style_index__[\"a\" /* GridStyleManager */].gridColumn(this.sections);\r\n        this.style.updateRule(\"multiTableRule\", this.style.id + \" > header, \" + this.style.id + \" > main { \" + content + \" }\");\r\n    };\r\n    MultiTableRowRenderer.prototype.onScrolledHorizontally = function (scrollLeft, clientWidth, isGoingRight) {\r\n        var _a = Object(__WEBPACK_IMPORTED_MODULE_0__logic__[\"d\" /* range */])(scrollLeft, clientWidth, this.context.defaultRowHeight, this.context.exceptions, this.context.numberOfRows), first = _a.first, last = _a.last;\r\n        var visible = this.visible;\r\n        visible.forcedFirst = first;\r\n        visible.forcedLast = last;\r\n        var offset = 0;\r\n        this.sections.forEach(function (s, i) {\r\n            if (i >= first && i <= last) {\r\n                s.show(Math.max(0, scrollLeft - offset), Math.min(scrollLeft + clientWidth - offset, s.width), isGoingRight);\r\n            }\r\n            else {\r\n                s.hide();\r\n            }\r\n            offset += s.width;\r\n        });\r\n        visible.first = first;\r\n        visible.last = last;\r\n        return __WEBPACK_IMPORTED_MODULE_1__mixin__[\"a\" /* EScrollResult */].PARTIAL;\r\n    };\r\n    MultiTableRowRenderer.prototype.destroy = function () {\r\n        this.sections.forEach(function (d) { return d.destroy(); });\r\n        this.node.remove();\r\n    };\r\n    Object.defineProperty(MultiTableRowRenderer.prototype, \"doc\", {\r\n        get: function () {\r\n            return this.node.ownerDocument;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MultiTableRowRenderer.prototype, \"header\", {\r\n        get: function () {\r\n            return this.node.querySelector('header');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MultiTableRowRenderer.prototype, \"main\", {\r\n        get: function () {\r\n            return this.node.querySelector('main');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MultiTableRowRenderer.prototype.pushTable = function (factory) {\r\n        var extras = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            extras[_i - 1] = arguments[_i];\r\n        }\r\n        var header = this.doc.createElement('article');\r\n        var body = this.doc.createElement('article');\r\n        var tableId = \"T\" + this.tableId++;\r\n        var ids = this.style.tableIds(tableId);\r\n        header.id = ids.header;\r\n        body.id = ids.body;\r\n        this.header.appendChild(header);\r\n        this.main.appendChild(body);\r\n        var table = factory.apply(void 0, [header, body, tableId, this.style].concat(extras));\r\n        table.init();\r\n        this.sections.push(table);\r\n        this.update();\r\n        return table;\r\n    };\r\n    MultiTableRowRenderer.prototype.pushSeparator = function (factory) {\r\n        var extras = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            extras[_i - 1] = arguments[_i];\r\n        }\r\n        var header = this.doc.createElement('section');\r\n        var body = this.doc.createElement('section');\r\n        this.header.appendChild(header);\r\n        this.main.appendChild(body);\r\n        var separator = factory.apply(void 0, [header, body, this.style].concat(extras));\r\n        separator.init();\r\n        this.sections.push(separator);\r\n        this.update();\r\n        return separator;\r\n    };\r\n    MultiTableRowRenderer.prototype.remove = function (section) {\r\n        var index = this.sections.indexOf(section);\r\n        if (index < 0) {\r\n            return false;\r\n        }\r\n        this.sections.splice(index, 1);\r\n        section.destroy();\r\n        this.update();\r\n        return true;\r\n    };\r\n    MultiTableRowRenderer.prototype.widthChanged = function () {\r\n        this.update();\r\n    };\r\n    return MultiTableRowRenderer;\r\n}());\r\n/* unused harmony default export */ var _unused_webpack_default_export = (MultiTableRowRenderer);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL3RhYmxlL011bHRpVGFibGVSb3dSZW5kZXJlci50cz80ZDY5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7SUV4Y2VwdGlvbkNvbnRleHQsIG5vblVuaWZvcm1Db250ZXh0LCByYW5nZSwgdW5pZm9ybUNvbnRleHR9IGZyb20gJy4uL2xvZ2ljJztcbmltcG9ydCB7RVNjcm9sbFJlc3VsdH0gZnJvbSAnLi4vbWl4aW4nO1xuaW1wb3J0IHtHcmlkU3R5bGVNYW5hZ2VyfSBmcm9tICcuLi9zdHlsZS9pbmRleCc7XG5cbi8qKlxuICogYmFzaWMgaW50ZXJmYWNlIG9mIGEgdGFibGUgc2VjdGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIElUYWJsZVNlY3Rpb24ge1xuICByZWFkb25seSBpZDogc3RyaW5nO1xuICByZWFkb25seSB3aWR0aDogbnVtYmVyO1xuXG4gIGluaXQoKTogdm9pZDtcblxuICAvKipcbiAgICogc2hvdyB0aGUgc2VjdGlvblxuICAgKiBAcGFyYW0ge251bWJlcn0gbGVmdCBsZWZ0IG1hcmdpblxuICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggdmlzaWJsZSB3aWR0aFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzR29pbmdSaWdodCB3aGV0aGVyIGl0IHdhcyBhIHNoaWZ0IHRvIHRoZSByaWdodFxuICAgKi9cbiAgc2hvdyhsZWZ0OiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGlzR29pbmdSaWdodDogYm9vbGVhbik6IHZvaWQ7XG5cbiAgaGlkZSgpOiB2b2lkO1xuXG4gIGRlc3Ryb3koKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJVGFibGVGYWN0b3J5PFQgZXh0ZW5kcyBJVGFibGVTZWN0aW9uPiB7XG4gIChoZWFkZXI6IEhUTUxFbGVtZW50LCBib2R5OiBIVE1MRWxlbWVudCwgdGFibGVJZDogc3RyaW5nLCBzdHlsZTogR3JpZFN0eWxlTWFuYWdlciwgLi4uZXh0cmFzOiBhbnlbXSk6IFQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVNlcGFyYXRvckZhY3Rvcnk8VCBleHRlbmRzIElUYWJsZVNlY3Rpb24+IHtcbiAgKGhlYWRlcjogSFRNTEVsZW1lbnQsIGJvZHk6IEhUTUxFbGVtZW50LCBzdHlsZTogR3JpZFN0eWxlTWFuYWdlciwgLi4uZXh0cmFzOiBhbnlbXSk6IFQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSU11bHRpVGFibGVSb3dSZW5kZXJlck9wdGlvbnMge1xuICAvKipcbiAgICogY29sdW1uIHBhZGRpbmcgdG8gdXNlIGJldHdlZW4gY29sdW1uc1xuICAgKiBAZGVmYXVsdCAwXG4gICAqL1xuICBjb2x1bW5QYWRkaW5nOiBudW1iZXI7XG59XG5cbi8qKlxuICogbWFuYWdlciBvZiBtdWx0aXBsZSBjb2x1bW5zIHNlcGFyYXRlZCBieSBzZXBhcmF0b3JzIGVhY2ggYW4gb3duIHJvdyByZW5kZXJlclxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNdWx0aVRhYmxlUm93UmVuZGVyZXIge1xuXG4gIHJlYWRvbmx5IHN0eWxlOiBHcmlkU3R5bGVNYW5hZ2VyO1xuICBwcml2YXRlIHRhYmxlSWQgPSAwO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgc2VjdGlvbnM6IElUYWJsZVNlY3Rpb25bXSA9IFtdO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgdmlzaWJsZSA9IHtcbiAgICBmaXJzdDogMCxcbiAgICBmb3JjZWRGaXJzdDogMCxcbiAgICBsYXN0OiAwLFxuICAgIGZvcmNlZExhc3Q6IDBcbiAgfTtcblxuICBwcml2YXRlIHJlYWRvbmx5IG9wdGlvbnM6IFJlYWRvbmx5PElNdWx0aVRhYmxlUm93UmVuZGVyZXJPcHRpb25zPiA9IHtcbiAgICBjb2x1bW5QYWRkaW5nOiAwXG4gIH07XG5cbiAgcHJpdmF0ZSBjb250ZXh0OiBJRXhjZXB0aW9uQ29udGV4dCA9IHVuaWZvcm1Db250ZXh0KDAsIDUwMCk7XG5cbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IG5vZGU6IEhUTUxFbGVtZW50LCBodG1sSWQ6IHN0cmluZywgb3B0aW9uczogUGFydGlhbDxJTXVsdGlUYWJsZVJvd1JlbmRlcmVyT3B0aW9ucz4gPSB7fSkge1xuICAgIE9iamVjdC5hc3NpZ24odGhpcy5vcHRpb25zLCBvcHRpb25zKTtcbiAgICBub2RlLmlubmVySFRNTCA9IGA8aGVhZGVyPjwvaGVhZGVyPjxtYWluPjwvbWFpbj5gO1xuICAgIG5vZGUuY2xhc3NMaXN0LmFkZCgnbGluZXVwLWVuZ2luZScsICdsaW5ldXAtbXVsdGktZW5naW5lJyk7XG5cbiAgICB0aGlzLnN0eWxlID0gbmV3IEdyaWRTdHlsZU1hbmFnZXIodGhpcy5ub2RlLCBodG1sSWQpO1xuXG4gICAgY29uc3QgbWFpbiA9IHRoaXMubWFpbjtcbiAgICBsZXQgb2xkTGVmdCA9IG1haW4uc2Nyb2xsTGVmdDtcbiAgICBtYWluLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGxlZnQgPSBtYWluLnNjcm9sbExlZnQ7XG4gICAgICBpZiAobGVmdCA9PT0gb2xkTGVmdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBpc0dvaW5nUmlnaHQgPSBsZWZ0ID4gb2xkTGVmdDtcbiAgICAgIG9sZExlZnQgPSBsZWZ0O1xuICAgICAgdGhpcy5vblNjcm9sbGVkSG9yaXpvbnRhbGx5KGxlZnQsIG1haW4uY2xpZW50V2lkdGgsIGlzR29pbmdSaWdodCk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZSgpIHtcbiAgICB0aGlzLmNvbnRleHQgPSBub25Vbmlmb3JtQ29udGV4dCh0aGlzLnNlY3Rpb25zLm1hcCgoZCkgPT4gZC53aWR0aCksIE5hTiwgdGhpcy5vcHRpb25zLmNvbHVtblBhZGRpbmcpO1xuXG4gICAgdGhpcy51cGRhdGVHcmlkKCk7XG5cbiAgICB0aGlzLm9uU2Nyb2xsZWRIb3Jpem9udGFsbHkodGhpcy5tYWluLnNjcm9sbExlZnQsIHRoaXMubWFpbi5jbGllbnRXaWR0aCwgZmFsc2UpO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVHcmlkKCkge1xuICAgIGNvbnN0IGNvbnRlbnQgPSBHcmlkU3R5bGVNYW5hZ2VyLmdyaWRDb2x1bW4odGhpcy5zZWN0aW9ucyk7XG4gICAgdGhpcy5zdHlsZS51cGRhdGVSdWxlKGBtdWx0aVRhYmxlUnVsZWAsIGAke3RoaXMuc3R5bGUuaWR9ID4gaGVhZGVyLCAke3RoaXMuc3R5bGUuaWR9ID4gbWFpbiB7ICR7Y29udGVudH0gfWApO1xuICB9XG5cbiAgcHJpdmF0ZSBvblNjcm9sbGVkSG9yaXpvbnRhbGx5KHNjcm9sbExlZnQ6IG51bWJlciwgY2xpZW50V2lkdGg6IG51bWJlciwgaXNHb2luZ1JpZ2h0OiBib29sZWFuKSB7XG4gICAgY29uc3Qge2ZpcnN0LCBsYXN0fSA9IHJhbmdlKHNjcm9sbExlZnQsIGNsaWVudFdpZHRoLCB0aGlzLmNvbnRleHQuZGVmYXVsdFJvd0hlaWdodCwgdGhpcy5jb250ZXh0LmV4Y2VwdGlvbnMsIHRoaXMuY29udGV4dC5udW1iZXJPZlJvd3MpO1xuXG4gICAgY29uc3QgdmlzaWJsZSA9IHRoaXMudmlzaWJsZTtcbiAgICB2aXNpYmxlLmZvcmNlZEZpcnN0ID0gZmlyc3Q7XG4gICAgdmlzaWJsZS5mb3JjZWRMYXN0ID0gbGFzdDtcblxuICAgIGxldCBvZmZzZXQgPSAwO1xuICAgIHRoaXMuc2VjdGlvbnMuZm9yRWFjaCgocywgaSkgPT4ge1xuICAgICAgaWYgKGkgPj0gZmlyc3QgJiYgaSA8PSBsYXN0KSB7XG4gICAgICAgIHMuc2hvdyhNYXRoLm1heCgwLCBzY3JvbGxMZWZ0IC0gb2Zmc2V0KSwgTWF0aC5taW4oc2Nyb2xsTGVmdCArIGNsaWVudFdpZHRoIC0gb2Zmc2V0LCBzLndpZHRoKSwgaXNHb2luZ1JpZ2h0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMuaGlkZSgpO1xuICAgICAgfVxuICAgICAgb2Zmc2V0ICs9IHMud2lkdGg7XG4gICAgfSk7XG5cbiAgICB2aXNpYmxlLmZpcnN0ID0gZmlyc3Q7XG4gICAgdmlzaWJsZS5sYXN0ID0gbGFzdDtcbiAgICByZXR1cm4gRVNjcm9sbFJlc3VsdC5QQVJUSUFMO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnNlY3Rpb25zLmZvckVhY2goKGQpID0+IGQuZGVzdHJveSgpKTtcbiAgICB0aGlzLm5vZGUucmVtb3ZlKCk7XG4gIH1cblxuICBwcml2YXRlIGdldCBkb2MoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZS5vd25lckRvY3VtZW50O1xuICB9XG5cbiAgcHJpdmF0ZSBnZXQgaGVhZGVyKCkge1xuICAgIHJldHVybiA8SFRNTEVsZW1lbnQ+dGhpcy5ub2RlLnF1ZXJ5U2VsZWN0b3IoJ2hlYWRlcicpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXQgbWFpbigpIHtcbiAgICByZXR1cm4gPEhUTUxFbGVtZW50PnRoaXMubm9kZS5xdWVyeVNlbGVjdG9yKCdtYWluJyk7XG4gIH1cblxuICAvKipcbiAgICogcHVzaCBhbm90aGVyIHRhYmxlIHRvIHRoaXMgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtJVGFibGVGYWN0b3J5PFQgZXh0ZW5kcyBJVGFibGVTZWN0aW9uPn0gZmFjdG9yeSBmYWN0b3J5IGZvciB0aGUgdGFibGVcbiAgICogQHBhcmFtIGV4dHJhcyBhZGRpdGlvbmFsIGFyZ3VtZW50cyB0byBwcm92aWRlIGZvciB0aGUgZmFjdG9yeVxuICAgKiBAcmV0dXJucyB7VH0gdGhlIHRhYmxlIGluc3RhbmNlXG4gICAqL1xuICBwdXNoVGFibGU8VCBleHRlbmRzIElUYWJsZVNlY3Rpb24+KGZhY3Rvcnk6IElUYWJsZUZhY3Rvcnk8VD4sIC4uLmV4dHJhczogYW55W10pIHtcbiAgICBjb25zdCBoZWFkZXIgPSB0aGlzLmRvYy5jcmVhdGVFbGVtZW50KCdhcnRpY2xlJyk7XG4gICAgY29uc3QgYm9keSA9IHRoaXMuZG9jLmNyZWF0ZUVsZW1lbnQoJ2FydGljbGUnKTtcbiAgICBjb25zdCB0YWJsZUlkID0gYFQke3RoaXMudGFibGVJZCsrfWA7XG4gICAgY29uc3QgaWRzID0gdGhpcy5zdHlsZS50YWJsZUlkcyh0YWJsZUlkKTtcbiAgICBoZWFkZXIuaWQgPSBpZHMuaGVhZGVyO1xuICAgIGJvZHkuaWQgPSBpZHMuYm9keTtcbiAgICB0aGlzLmhlYWRlci5hcHBlbmRDaGlsZChoZWFkZXIpO1xuICAgIHRoaXMubWFpbi5hcHBlbmRDaGlsZChib2R5KTtcblxuICAgIGNvbnN0IHRhYmxlID0gZmFjdG9yeShoZWFkZXIsIGJvZHksIHRhYmxlSWQsIHRoaXMuc3R5bGUsIC4uLmV4dHJhcyk7XG4gICAgdGFibGUuaW5pdCgpO1xuICAgIHRoaXMuc2VjdGlvbnMucHVzaCh0YWJsZSk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgICByZXR1cm4gdGFibGU7XG4gIH1cblxuICAvKipcbiAgICogcHVzaCBhbm90aGVyIHNlcGFyYXRvciB0byB0aGUgbWFuYWdlclxuICAgKiBAcGFyYW0ge0lTZXBhcmF0b3JGYWN0b3J5PFQgZXh0ZW5kcyBJVGFibGVTZWN0aW9uPn0gZmFjdG9yeSB0aGUgZmFjdG9yeSB0byBjcmVhdGUgdGhlIHNlcGFyYXRvclxuICAgKiBAcGFyYW0gZXh0cmFzIG9wdGlvbmFsIGFkZGl0aW9uYWwgYXJndW1lbnRzXG4gICAqIEByZXR1cm5zIHtUfSB0aGUgbmV3IGNyZWF0ZWQgc2VwYXJhdG9yXG4gICAqL1xuICBwdXNoU2VwYXJhdG9yPFQgZXh0ZW5kcyBJVGFibGVTZWN0aW9uPihmYWN0b3J5OiBJU2VwYXJhdG9yRmFjdG9yeTxUPiwgLi4uZXh0cmFzOiBhbnlbXSkge1xuICAgIGNvbnN0IGhlYWRlciA9IHRoaXMuZG9jLmNyZWF0ZUVsZW1lbnQoJ3NlY3Rpb24nKTtcbiAgICBjb25zdCBib2R5ID0gdGhpcy5kb2MuY3JlYXRlRWxlbWVudCgnc2VjdGlvbicpO1xuICAgIHRoaXMuaGVhZGVyLmFwcGVuZENoaWxkKGhlYWRlcik7XG4gICAgdGhpcy5tYWluLmFwcGVuZENoaWxkKGJvZHkpO1xuXG4gICAgY29uc3Qgc2VwYXJhdG9yID0gZmFjdG9yeShoZWFkZXIsIGJvZHksIHRoaXMuc3R5bGUsIC4uLmV4dHJhcyk7XG4gICAgc2VwYXJhdG9yLmluaXQoKTtcbiAgICB0aGlzLnNlY3Rpb25zLnB1c2goc2VwYXJhdG9yKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIHJldHVybiBzZXBhcmF0b3I7XG4gIH1cblxuICAvKipcbiAgICogcmVtb3ZlcyBhIGdpdmVuIHRhYmxlIHNlY3Rpb25cbiAgICogQHBhcmFtIHtJVGFibGVTZWN0aW9ufSBzZWN0aW9uIHNlY3Rpb24gdG8gcmVtb3ZlXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBzdWNjZXNzZnVsIGZsYWdcbiAgICovXG4gIHJlbW92ZShzZWN0aW9uOiBJVGFibGVTZWN0aW9uKSB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLnNlY3Rpb25zLmluZGV4T2Yoc2VjdGlvbik7XG4gICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLnNlY3Rpb25zLnNwbGljZShpbmRleCwgMSk7XG4gICAgc2VjdGlvbi5kZXN0cm95KCk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiB0cmlnZ2VycyBhbmQgdXBkYXRlIGJlY2F1c2Ugb2YgYSBjaGFuZ2UgaW4gd2lkdGggb2Ygb25lIG9yIG1vcmUgdGFibGUgc2VjdGlvbnNcbiAgICovXG4gIHdpZHRoQ2hhbmdlZCgpIHtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG5cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvdGFibGUvTXVsdGlUYWJsZVJvd1JlbmRlcmVyLnRzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUEyQ0E7QUFvQkE7QUFBQTtBQUFBO0FBQUE7QUFqQkE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7OztBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7OztBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7OztBQUFBO0FBUUE7QUFBQTtBQUFBO0FBQUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQUE7QUFBQTtBQUFBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUFBOzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///17\n");

/***/ }),
/* 18 */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGUuc2Nzcz80MWNkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvc3R5bGUuc2Nzc1xuLy8gbW9kdWxlIGlkID0gMThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///18\n");

/***/ }),
/* 19 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_file_loader_name_demo_html_index_html__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_file_loader_name_demo_html_index_html___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_file_loader_name_demo_html_index_html__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__src__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__src_style_scss__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__src_style_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__src_style_scss__);\n\r\n\r\n\r\n\r\nvar Column = (function () {\r\n    function Column(index, name, frozen, width) {\r\n        if (frozen === void 0) { frozen = false; }\r\n        if (width === void 0) { width = 100; }\r\n        this.index = index;\r\n        this.name = name;\r\n        this.frozen = frozen;\r\n        this.width = width;\r\n    }\r\n    Object.defineProperty(Column.prototype, \"id\", {\r\n        get: function () {\r\n            return \"col\" + this.index;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Column.prototype.common = function (document) {\r\n        var d = document.createElement('div');\r\n        if (this.frozen) {\r\n            d.classList.add('frozen');\r\n        }\r\n        d.dataset.id = this.id;\r\n        return d;\r\n    };\r\n    Column.prototype.header = function (document) {\r\n        var d = this.common(document);\r\n        d.textContent = this.name;\r\n        return d;\r\n    };\r\n    Column.prototype.cell = function (row, document) {\r\n        return this.update(this.common(document), row);\r\n    };\r\n    Column.prototype.update = function (node, row) {\r\n        node.textContent = this.name + \"@\" + row.toString();\r\n        return node;\r\n    };\r\n    return Column;\r\n}());\r\nvar TestRenderer = (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](TestRenderer, _super);\r\n    function TestRenderer(root, id, numberOfRows, numberOfColumns) {\r\n        if (numberOfRows === void 0) { numberOfRows = 1000; }\r\n        if (numberOfColumns === void 0) { numberOfColumns = 20; }\r\n        var _this = _super.call(this, root, \"#\" + id, { mixins: [__WEBPACK_IMPORTED_MODULE_2__src__[\"PrefetchMixin\"]] }) || this;\r\n        root.id = id;\r\n        var defaultRowHeight = 20;\r\n        var columns = [];\r\n        for (var i = 0; i < numberOfColumns; ++i) {\r\n            columns.push(new Column(i, i.toString(36), i % 4 === 0));\r\n        }\r\n        _this._context = Object.assign({\r\n            columns: columns,\r\n            column: Object(__WEBPACK_IMPORTED_MODULE_2__src__[\"uniformContext\"])(columns.length, 100),\r\n        }, Object(__WEBPACK_IMPORTED_MODULE_2__src__[\"uniformContext\"])(numberOfRows, defaultRowHeight));\r\n        return _this;\r\n    }\r\n    TestRenderer.prototype.createHeader = function (document, column) {\r\n        return column.header(document);\r\n    };\r\n    TestRenderer.prototype.updateHeader = function () {\r\n    };\r\n    TestRenderer.prototype.createCell = function (document, index, column) {\r\n        return column.cell(index, document);\r\n    };\r\n    TestRenderer.prototype.updateCell = function (node, index, column) {\r\n        return column.update(node, index);\r\n    };\r\n    TestRenderer.prototype.run = function () {\r\n        setTimeout(_super.prototype.init.bind(this), 100);\r\n    };\r\n    Object.defineProperty(TestRenderer.prototype, \"context\", {\r\n        get: function () {\r\n            return this._context;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TestRenderer.prototype.updateRow = function (node, index) {\r\n        _super.prototype.updateRow.call(this, node, index);\r\n    };\r\n    return TestRenderer;\r\n}(__WEBPACK_IMPORTED_MODULE_2__src__[\"ACellRenderer\"]));\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (TestRenderer);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZGVtby9pbmRleC50cz9iYTA1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnZmlsZS1sb2FkZXI/bmFtZT1kZW1vLmh0bWwhLi9pbmRleC5odG1sJztcbmltcG9ydCB7QUNlbGxSZW5kZXJlciwgSUNlbGxSZW5kZXJDb250ZXh0LCBJQ29sdW1uLCBQcmVmZXRjaE1peGluLCB1bmlmb3JtQ29udGV4dH0gZnJvbSAnLi4vc3JjJztcbmltcG9ydCAnLi4vc3JjL3N0eWxlLnNjc3MnO1xuXG4vKiogQGludGVybmFsICovXG5jbGFzcyBDb2x1bW48VD4gaW1wbGVtZW50cyBJQ29sdW1uIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGluZGV4OiBudW1iZXIsIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmcsIHB1YmxpYyByZWFkb25seSBmcm96ZW46IGJvb2xlYW4gPSBmYWxzZSwgcHVibGljIHJlYWRvbmx5IHdpZHRoID0gMTAwKSB7XG5cbiAgfVxuXG4gIGdldCBpZCgpIHtcbiAgICByZXR1cm4gYGNvbCR7dGhpcy5pbmRleH1gO1xuICB9XG5cbiAgY29tbW9uKGRvY3VtZW50OiBEb2N1bWVudCkge1xuICAgIGNvbnN0IGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBpZiAodGhpcy5mcm96ZW4pIHtcbiAgICAgIGQuY2xhc3NMaXN0LmFkZCgnZnJvemVuJyk7XG4gICAgfVxuICAgIGQuZGF0YXNldC5pZCA9IHRoaXMuaWQ7XG4gICAgcmV0dXJuIGQ7XG4gIH1cblxuICBoZWFkZXIoZG9jdW1lbnQ6IERvY3VtZW50KSB7XG4gICAgY29uc3QgZCA9IHRoaXMuY29tbW9uKGRvY3VtZW50KTtcbiAgICBkLnRleHRDb250ZW50ID0gdGhpcy5uYW1lO1xuICAgIHJldHVybiBkO1xuICB9XG5cbiAgY2VsbChyb3c6IFQsIGRvY3VtZW50OiBEb2N1bWVudCkge1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZSh0aGlzLmNvbW1vbihkb2N1bWVudCksIHJvdyk7XG4gIH1cblxuICB1cGRhdGUobm9kZTogSFRNTEVsZW1lbnQsIHJvdzogVCkge1xuICAgIG5vZGUudGV4dENvbnRlbnQgPSBgJHt0aGlzLm5hbWV9QCR7cm93LnRvU3RyaW5nKCl9YDtcbiAgICByZXR1cm4gbm9kZTtcbiAgfVxufVxuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXN0UmVuZGVyZXIgZXh0ZW5kcyBBQ2VsbFJlbmRlcmVyPENvbHVtbjxudW1iZXI+PiB7XG4gIHByb3RlY3RlZCByZWFkb25seSBfY29udGV4dDogSUNlbGxSZW5kZXJDb250ZXh0PENvbHVtbjxudW1iZXI+PjtcblxuICBjb25zdHJ1Y3Rvcihyb290OiBIVE1MRWxlbWVudCwgaWQ6IHN0cmluZywgbnVtYmVyT2ZSb3dzID0gMTAwMCwgbnVtYmVyT2ZDb2x1bW5zID0gMjApIHtcbiAgICBzdXBlcihyb290LCBgIyR7aWR9YCwge21peGluczogW1ByZWZldGNoTWl4aW5dfSk7XG4gICAgcm9vdC5pZCA9IGlkO1xuXG4gICAgY29uc3QgZGVmYXVsdFJvd0hlaWdodCA9IDIwO1xuXG4gICAgY29uc3QgY29sdW1uczogQ29sdW1uPG51bWJlcj5bXSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtYmVyT2ZDb2x1bW5zOyArK2kpIHtcbiAgICAgIGNvbHVtbnMucHVzaChuZXcgQ29sdW1uKGksIGkudG9TdHJpbmcoMzYpLCBpICUgNCA9PT0gMCkpO1xuICAgIH1cbiAgICB0aGlzLl9jb250ZXh0ID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICBjb2x1bW5zLFxuICAgICAgY29sdW1uOiB1bmlmb3JtQ29udGV4dChjb2x1bW5zLmxlbmd0aCwgMTAwKSxcbiAgICB9LCB1bmlmb3JtQ29udGV4dChudW1iZXJPZlJvd3MsIGRlZmF1bHRSb3dIZWlnaHQpKTtcblxuICB9XG5cbiAgcHJvdGVjdGVkIGNyZWF0ZUhlYWRlcihkb2N1bWVudDogRG9jdW1lbnQsIGNvbHVtbjogQ29sdW1uPG51bWJlcj4pIHtcbiAgICByZXR1cm4gY29sdW1uLmhlYWRlcihkb2N1bWVudCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgdXBkYXRlSGVhZGVyKCkge1xuICAgIC8vIG5vdGhpbmcgZG8gdG9cbiAgfVxuXG4gIHByb3RlY3RlZCBjcmVhdGVDZWxsKGRvY3VtZW50OiBEb2N1bWVudCwgaW5kZXg6IG51bWJlciwgY29sdW1uOiBDb2x1bW48bnVtYmVyPikge1xuICAgIHJldHVybiBjb2x1bW4uY2VsbChpbmRleCwgZG9jdW1lbnQpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHVwZGF0ZUNlbGwobm9kZTogSFRNTEVsZW1lbnQsIGluZGV4OiBudW1iZXIsIGNvbHVtbjogQ29sdW1uPG51bWJlcj4pIHtcbiAgICByZXR1cm4gY29sdW1uLnVwZGF0ZShub2RlLCBpbmRleCk7XG4gIH1cblxuICBydW4oKSB7XG4gICAgLy93YWl0IHRpbGwgbGF5b3V0ZWRcbiAgICBzZXRUaW1lb3V0KHN1cGVyLmluaXQuYmluZCh0aGlzKSwgMTAwKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXQgY29udGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy5fY29udGV4dDtcbiAgfVxuXG4gIHByb3RlY3RlZCB1cGRhdGVSb3cobm9kZTogSFRNTEVsZW1lbnQsIGluZGV4OiBudW1iZXIpIHtcbiAgICAvL3JldHVybiBhYm9ydEFibGUocmVzb2x2ZUluKDIwMDApKS50aGVuKCgpID0+IHtcbiAgICBzdXBlci51cGRhdGVSb3cobm9kZSwgaW5kZXgpO1xuICAgIC8vfSk7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBkZW1vL2luZGV4LnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQUNBOzs7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7OztBQUFBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFBQTs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///19\n");

/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__.p + \"demo.html\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9kZW1vL2luZGV4Lmh0bWw/NjNlZCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJkZW1vLmh0bWxcIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9maWxlLWxvYWRlci9kaXN0L2Nqcy5qcz9uYW1lPWRlbW8uaHRtbCEuL2RlbW8vaW5kZXguaHRtbFxuLy8gbW9kdWxlIGlkID0gMjBcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///20\n");

/***/ })
/******/ ]);
});